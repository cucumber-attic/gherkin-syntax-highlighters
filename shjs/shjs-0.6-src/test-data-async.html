<html>
<head>
<title></title>
<link rel=stylesheet type="text/css" href="jsdifflib/diffview.css">
<script type="text/javascript" src="jsdifflib/difflib.js"></script>
<script type="text/javascript" src="jsdifflib/diffview.js"></script>

<link rel=stylesheet type="text/css" href="test-data.css">
<link rel=stylesheet type="text/css" href="sh_style.min.css">
<script type="text/javascript" src="test-data.js"></script>
<script type="text/javascript" src="sh_main.min.js"></script>
</head>
<body onload="test_data_async();">
<pre id="debug"></pre>
<table>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_keyword">return</span> <span class="sh_string">'\\'</span><span class="sh_symbol">.</span><span class="sh_function">dechex</span><span class="sh_symbol">(</span><span class="sh_function">ord</span><span class="sh_symbol">(</span><span class="sh_variable">$k</span><span class="sh_symbol">));</span></pre>
</td>
<td><pre class="sh_php">return '\\'.dechex(ord($k));</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_comment">// ==UserScript==</span>
<span class="sh_comment">// @name           test : sample script</span>
<span class="sh_comment">// @namespace      http://gm.wesley.eti.br/test</span>
<span class="sh_comment">// @description    sample script</span>
<span class="sh_comment">// ==/UserScript==</span>

document<span class="sh_symbol">.</span><span class="sh_function">write</span><span class="sh_symbol">(</span><span class="sh_string">'&lt;table&gt;&lt;tr&gt;&lt;td&gt;25% = '</span><span class="sh_symbol">+(</span><span class="sh_number">25</span><span class="sh_symbol">/</span><span class="sh_number">100</span><span class="sh_symbol">)+</span><span class="sh_string">'&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;'</span><span class="sh_symbol">);</span>
document<span class="sh_symbol">.</span><span class="sh_function">write</span><span class="sh_symbol">(</span> <span class="sh_string">'&lt;table&gt;&lt;tr&gt;&lt;td&gt;25% = '</span> <span class="sh_symbol">+</span> <span class="sh_symbol">(</span><span class="sh_number">25</span><span class="sh_symbol">/</span><span class="sh_number">100</span><span class="sh_symbol">)</span> <span class="sh_symbol">+</span> <span class="sh_string">'&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;'</span> <span class="sh_symbol">);</span>

<span class="sh_comment">/* comment goes here and should be GREEN */</span>
</pre>
</td>
<td><pre class="sh_javascript">// ==UserScript==
// @name           test : sample script
// @namespace      http://gm.wesley.eti.br/test
// @description    sample script
// ==/UserScript==

document.write('&lt;table&gt;&lt;tr&gt;&lt;td&gt;25% = '+(25/100)+'&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;');
document.write( '&lt;table&gt;&lt;tr&gt;&lt;td&gt;25% = ' + (25/100) + '&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;' );

/* comment goes here and should be GREEN */
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_comment">-- b28286.pdf, p. 8-19</span>
<span class="sh_keyword">CREATE</span> <span class="sh_keyword">TABLE</span> promotions_var2
    <span class="sh_symbol">(</span> promo_id         <span class="sh_type">NUMBER</span><span class="sh_symbol">(</span><span class="sh_number">6</span><span class="sh_symbol">)</span>
    <span class="sh_symbol">,</span> promo_name       <span class="sh_type">VARCHAR2</span><span class="sh_symbol">(</span><span class="sh_number">20</span><span class="sh_symbol">)</span>
    <span class="sh_symbol">,</span> promo_category   <span class="sh_type">VARCHAR2</span><span class="sh_symbol">(</span><span class="sh_number">15</span><span class="sh_symbol">)</span>
    <span class="sh_symbol">,</span> promo_cost       <span class="sh_type">NUMBER</span><span class="sh_symbol">(</span><span class="sh_number">10</span><span class="sh_symbol">,</span><span class="sh_number">2</span><span class="sh_symbol">)</span>
    <span class="sh_symbol">,</span> promo_begin_date <span class="sh_type">DATE</span>
    <span class="sh_symbol">,</span> promo_end_date   <span class="sh_type">DATE</span>
    <span class="sh_symbol">,</span> <span class="sh_keyword">CONSTRAINT</span> promo_id_u <span class="sh_keyword">UNIQUE</span> <span class="sh_symbol">(</span>promo_id<span class="sh_symbol">)</span>
   <span class="sh_keyword">USING</span> <span class="sh_keyword">INDEX</span> <span class="sh_keyword">PCTFREE</span> <span class="sh_number">20</span>
      <span class="sh_keyword">TABLESPACE</span> stocks
      <span class="sh_keyword">STORAGE</span> <span class="sh_symbol">(</span><span class="sh_keyword">INITIAL</span> 8K <span class="sh_keyword">NEXT</span> 6K<span class="sh_symbol">)</span> <span class="sh_symbol">);</span>
<span class="sh_keyword">create</span> <span class="sh_keyword">table</span> promotions_var2
    <span class="sh_symbol">(</span> promo_id         <span class="sh_type">number</span><span class="sh_symbol">(</span><span class="sh_number">6</span><span class="sh_symbol">)</span>
    <span class="sh_symbol">,</span> promo_name       <span class="sh_type">varchar2</span><span class="sh_symbol">(</span><span class="sh_number">20</span><span class="sh_symbol">)</span>
    <span class="sh_symbol">,</span> promo_category   <span class="sh_type">varchar2</span><span class="sh_symbol">(</span><span class="sh_number">15</span><span class="sh_symbol">)</span>
    <span class="sh_symbol">,</span> promo_cost       <span class="sh_type">number</span><span class="sh_symbol">(</span><span class="sh_number">10</span><span class="sh_symbol">,</span><span class="sh_number">2</span><span class="sh_symbol">)</span>
    <span class="sh_symbol">,</span> promo_begin_date <span class="sh_type">date</span>
    <span class="sh_symbol">,</span> promo_end_date   <span class="sh_type">date</span>
    <span class="sh_symbol">,</span> <span class="sh_keyword">constraint</span> promo_id_u <span class="sh_keyword">unique</span> <span class="sh_symbol">(</span>promo_id<span class="sh_symbol">)</span>
   <span class="sh_keyword">using</span> <span class="sh_keyword">index</span> <span class="sh_keyword">pctfree</span> <span class="sh_number">20</span>
      <span class="sh_keyword">tablespace</span> stocks
      <span class="sh_keyword">storage</span> <span class="sh_symbol">(</span><span class="sh_keyword">initial</span> 8k <span class="sh_keyword">next</span> 6k<span class="sh_symbol">)</span> <span class="sh_symbol">);</span>
</pre>
</td>
<td><pre class="sh_oracle">-- b28286.pdf, p. 8-19
CREATE TABLE promotions_var2
    ( promo_id         NUMBER(6)
    , promo_name       VARCHAR2(20)
    , promo_category   VARCHAR2(15)
    , promo_cost       NUMBER(10,2)
    , promo_begin_date DATE
    , promo_end_date   DATE
    , CONSTRAINT promo_id_u UNIQUE (promo_id)
   USING INDEX PCTFREE 20
      TABLESPACE stocks
      STORAGE (INITIAL 8K NEXT 6K) );
create table promotions_var2
    ( promo_id         number(6)
    , promo_name       varchar2(20)
    , promo_category   varchar2(15)
    , promo_cost       number(10,2)
    , promo_begin_date date
    , promo_end_date   date
    , constraint promo_id_u unique (promo_id)
   using index pctfree 20
      tablespace stocks
      storage (initial 8k next 6k) );
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_comment">/* this is a test for a C program</span>
<span class="sh_comment">   where we use C++ keywords as var names</span>
<span class="sh_comment">   of course, these must not be highlighted as keywords */</span>

<span class="sh_type">int</span> this <span class="sh_symbol">=</span> <span class="sh_number">0</span><span class="sh_symbol">;</span>
<span class="sh_type">char</span> <span class="sh_symbol">*</span>class <span class="sh_symbol">=</span> <span class="sh_string">"foo"</span><span class="sh_symbol">;</span>
<span class="sh_keyword">struct</span> <span class="sh_classname">private</span> <span class="sh_cbracket">{</span> <span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
</pre>
</td>
<td><pre class="sh_c">/* this is a test for a C program
   where we use C++ keywords as var names
   of course, these must not be highlighted as keywords */

int this = 0;
char *class = "foo";
struct private { };
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_date">2002-08-08</span>  <span class="sh_name">Lorenzo</span> <span class="sh_name">Bettini</span>  <span class="sh_url">&lt;lb-bl@foo&gt;</span>

	<span class="sh_symbol">*</span> <span class="sh_file">src/Makefile.am (source_highlight_SOURCES):</span> correctly include
	changelog_scanner.ll

        <span class="sh_symbol">*</span> this is a comment without a file name

<span class="sh_date">2002-08-02</span>  <span class="sh_name">John</span> <span class="sh_name">Millaway</span>  <span class="sh_url">&lt;millaway-bar@foo_bar-com&gt;</span>

	<span class="sh_symbol">*</span> <span class="sh_file">src/flex_scanner.ll:</span> Added scanner for flex

	<span class="sh_symbol">*</span> <span class="sh_file">src/changelog_scanner.ll:</span> Added scanner for ChangeLog

	<span class="sh_symbol">*</span> <span class="sh_file">src/Makefile.am:</span> do not use .stamp files anymore, use flex's prefix

<span class="sh_date">2002-07-30</span>  <span class="sh_name">Lorenzo</span> <span class="sh_name">Bettini</span>  <span class="sh_url">&lt;lb@foo&gt;</span>

	<span class="sh_symbol">*</span> <span class="sh_file">acinclude.m4 (LF_PROG_TXTC):</span> fixed a little bug that shows up
	only now with the new version of autoconf

	<span class="sh_symbol">*</span> <span class="sh_file">acconfig.h:</span> removed, no longer needed with autoconf

	<span class="sh_symbol">*</span> <span class="sh_file">configure.in:</span> use the new AC_LIBOBJ

	<span class="sh_symbol">*</span> <span class="sh_file">doc/Makefile.am:</span> removed an extra EXTRA_DIST

<span class="sh_date">2002-07-21</span>  <span class="sh_name">Lorenzo</span> <span class="sh_name">Bettini</span>  <span class="sh_url">&lt;lb@foo&gt;</span>

	<span class="sh_symbol">*</span> <span class="sh_file">src/python_scanner.ll:</span> fixed a problem with string comments

	<span class="sh_symbol">*</span> <span class="sh_file">src/lib/genfun.cc (processFile):</span> correctly set deleteOStream

	<span class="sh_symbol">*</span> <span class="sh_file">src/lib/startapp.cc (start):</span> default to stdout also when -i
	option is used.
	<span class="sh_file">(start):</span> check whether "STDOUT" was specified as output

	<span class="sh_symbol">*</span> <span class="sh_file">src/lib/genfun.cc (print_xtop):</span> always generate the correct header
	for XHTML
        <span class="sh_file">(processFile):</span> call LineNumberDecorator::reset so that if many
        files are processed the current line number is correctly reset

<span class="sh_date">2002-07-10</span>  <span class="sh_name">Lorenzo</span> <span class="sh_name">Bettini</span>  <span class="sh_url">&lt;lb@foo&gt;</span>
</pre>
</td>
<td><pre class="sh_changelog">2002-08-08  Lorenzo Bettini  &lt;lb-bl@foo&gt;

	* src/Makefile.am (source_highlight_SOURCES): correctly include
	changelog_scanner.ll

        * this is a comment without a file name

2002-08-02  John Millaway  &lt;millaway-bar@foo_bar-com&gt;

	* src/flex_scanner.ll: Added scanner for flex

	* src/changelog_scanner.ll: Added scanner for ChangeLog

	* src/Makefile.am: do not use .stamp files anymore, use flex's prefix

2002-07-30  Lorenzo Bettini  &lt;lb@foo&gt;

	* acinclude.m4 (LF_PROG_TXTC): fixed a little bug that shows up
	only now with the new version of autoconf

	* acconfig.h: removed, no longer needed with autoconf

	* configure.in: use the new AC_LIBOBJ

	* doc/Makefile.am: removed an extra EXTRA_DIST

2002-07-21  Lorenzo Bettini  &lt;lb@foo&gt;

	* src/python_scanner.ll: fixed a problem with string comments

	* src/lib/genfun.cc (processFile): correctly set deleteOStream

	* src/lib/startapp.cc (start): default to stdout also when -i
	option is used.
	(start): check whether "STDOUT" was specified as output

	* src/lib/genfun.cc (print_xtop): always generate the correct header
	for XHTML
        (processFile): call LineNumberDecorator::reset so that if many
        files are processed the current line number is correctly reset

2002-07-10  Lorenzo Bettini  &lt;lb@foo&gt;
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_comment">// classic HelloWorld in C#</span>
<span class="sh_preproc">using</span> System<span class="sh_symbol">;</span>

<span class="sh_comment">/// </span><span class="sh_keyword">&lt;summary&gt;</span><span class="sh_comment"> </span>
<span class="sh_comment">/// classic HelloWorld in C#</span>
<span class="sh_comment">/// </span><span class="sh_keyword">&lt;/summary&gt;</span><span class="sh_comment"> </span>
<span class="sh_keyword">class</span> <span class="sh_classname">HelloWorld</span>
<span class="sh_cbracket">{</span>
	<span class="sh_keyword">public</span> <span class="sh_type">double</span> one<span class="sh_symbol">=</span><span class="sh_number">1.0d</span><span class="sh_symbol">;</span>
  	<span class="sh_keyword">public</span> <span class="sh_type">double</span> fr4<span class="sh_symbol">=</span><span class="sh_number">0.25d</span><span class="sh_symbol">;</span>
	<span class="sh_keyword">public</span> <span class="sh_type">ulong</span> val1 <span class="sh_symbol">=</span> <span class="sh_number">34Ul</span><span class="sh_symbol">;</span>

	<span class="sh_comment">/// </span><span class="sh_keyword">&lt;summary&gt;</span><span class="sh_comment"> The main method </span><span class="sh_keyword">&lt;/summary&gt;</span><span class="sh_comment"> </span>
	<span class="sh_keyword">static</span> <span class="sh_type">void</span> <span class="sh_function">Main</span><span class="sh_symbol">()</span> 
	<span class="sh_cbracket">{</span>
		Console<span class="sh_symbol">.</span><span class="sh_function">WriteLine</span><span class="sh_symbol">(</span><span class="sh_string">"Hello, World!"</span><span class="sh_symbol">);</span>
	<span class="sh_cbracket">}</span>
<span class="sh_cbracket">}</span>
</pre>
</td>
<td><pre class="sh_csharp">// classic HelloWorld in C#
using System;

/// &lt;summary&gt; 
/// classic HelloWorld in C#
/// &lt;/summary&gt; 
class HelloWorld
{
	public double one=1.0d;
  	public double fr4=0.25d;
	public ulong val1 = 34Ul;

	/// &lt;summary&gt; The main method &lt;/summary&gt; 
	static void Main() 
	{
		Console.WriteLine("Hello, World!");
	}
}
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode">body <span class="sh_cbracket">{</span>
<span class="sh_property">font-family:</span> <span class="sh_value">Arial</span>,<span class="sh_value">Helvetica</span>,<span class="sh_value">sans-serif</span>;
<span class="sh_property">font-size:</span> <span class="sh_value">small</span>;
<span class="sh_property">font-style:</span> <span class="sh_value">normal</span>;
<span class="sh_property">background-color :</span> <span class="sh_string">#F9F9F9</span>;
<span class="sh_cbracket">}</span>

<span class="sh_selector">.box</span> <span class="sh_cbracket">{</span>
  <span class="sh_property">border-width:</span> <span class="sh_value">2px</span>;
  <span class="sh_property">border-color:</span> <span class="sh_value">green</span>;
  <span class="sh_property">border-style:</span> <span class="sh_value">solid</span>;
  <span class="sh_property">font-style:</span> <span class="sh_value">normal</span>;
  <span class="sh_property">font-weight:</span> <span class="sh_value">lighter</span>;
  <span class="sh_property">font-family:</span> <span class="sh_value">verdana</span>, <span class="sh_value">sans-serif</span>;
  <span class="sh_property">font-size:</span> <span class="sh_value">0.8em</span>;
  <span class="sh_property">margin-right:</span><span class="sh_value">2em</span>;
  <span class="sh_property">margin-bottom:</span><span class="sh_value">2em</span>;
  <span class="sh_property">margin-top:</span><span class="sh_value">2em</span>;
<span class="sh_cbracket">}</span>

<span class="sh_selector">.maintitle</span> <span class="sh_cbracket">{</span>
<span class="sh_property">font-weight:</span><span class="sh_value">bold</span>;
<span class="sh_property">text-align:</span> <span class="sh_value">center</span>;
<span class="sh_property">font-size:</span><span class="sh_value">large</span>;
<span class="sh_cbracket">}</span>

<span class="sh_selector">.domanda</span> <span class="sh_cbracket">{</span>
<span class="sh_property">font-weight:</span><span class="sh_value">bold</span>;
<span class="sh_cbracket">}</span>

<span class="sh_selector">.risposta</span> <span class="sh_cbracket">{</span>  
<span class="sh_property">font-style:</span> <span class="sh_value">italic</span>;
<span class="sh_cbracket">}</span>

<span class="sh_selector">.title</span> <span class="sh_cbracket">{</span>
<span class="sh_property">background-color:</span><span class="sh_value">lightgreen</span>;
<span class="sh_property">font-weight:</span><span class="sh_value">bold</span>;
<span class="sh_property">text-align:</span><span class="sh_value">center</span>;
<span class="sh_cbracket">}</span>

<span class="sh_selector">.box</span> li <span class="sh_cbracket">{</span>
 <span class="sh_property">list-style-position:</span><span class="sh_value">outside</span>;
 <span class="sh_property">list-style-type:</span><span class="sh_value">none</span>;
<span class="sh_cbracket">}</span>

<span class="sh_selector">.box</span> ul <span class="sh_cbracket">{</span>
 <span class="sh_property">padding-left:</span> <span class="sh_value">5px</span>;
<span class="sh_cbracket">}</span>


<span class="sh_selector">.idimage</span> <span class="sh_cbracket">{</span>
<span class="sh_property">padding-left:</span> <span class="sh_value">5px</span>;
<span class="sh_property">padding-right:</span> <span class="sh_value">20px</span>;
<span class="sh_property">padding-top:</span><span class="sh_value">5px</span>;
<span class="sh_property">border:</span> <span class="sh_value">none</span>;
<span class="sh_cbracket">}</span>


<span class="sh_selector">#heading</span> <span class="sh_cbracket">{</span>
<span class="sh_property">width:</span> <span class="sh_value">100%</span>;
<span class="sh_property">margin-bottom:</span><span class="sh_value">5px</span>;
<span class="sh_comment">/* padding-top:10px; </span>
<span class="sh_comment">padding-bottom:10px; */</span>
<span class="sh_property">text-align:</span><span class="sh_value">center</span>;
<span class="sh_property">background-color:</span><span class="sh_string">#75ACCF</span>;
<span class="sh_property">font-weight:</span><span class="sh_value">bolder</span>;
<span class="sh_property">font-size:</span><span class="sh_value">large</span>;
<span class="sh_cbracket">}</span>

<span class="sh_selector">#bottom</span> <span class="sh_cbracket">{</span>
<span class="sh_property">width:</span> <span class="sh_value">100%</span>;
<span class="sh_property">top:</span><span class="sh_value">auto</span>;
<span class="sh_property">clear:</span><span class="sh_value">both</span>;
<span class="sh_property">text-align:</span><span class="sh_value">center</span>;
<span class="sh_property">background-color:</span><span class="sh_value">lightgreen</span>;
<span class="sh_property">font-weight:</span><span class="sh_value">bolder</span>;
<span class="sh_comment">/* padding-top:10px;</span>
<span class="sh_comment">padding-bottom:10px; */</span>
<span class="sh_cbracket">}</span>

<span class="sh_selector">#leftcol</span> <span class="sh_cbracket">{</span>
<span class="sh_property">float:</span><span class="sh_value">left</span>;
<span class="sh_property">width:</span><span class="sh_value">30%</span>;
<span class="sh_cbracket">}</span>

<span class="sh_selector">#altro</span> <span class="sh_cbracket">{</span>
<span class="sh_property">background-color:</span> <span class="sh_string">#e0e0e0</span>;
<span class="sh_cbracket">}</span>

<span class="sh_selector">#navbar</span> <span class="sh_cbracket">{</span>
<span class="sh_property">border-color:</span> <span class="sh_string">#d0d0d0</span>;
<span class="sh_cbracket">}</span>

<span class="sh_selector">#main</span> <span class="sh_cbracket">{</span>
<span class="sh_property">float:</span><span class="sh_value">right</span>;
<span class="sh_property">width:</span> <span class="sh_value">70%</span>;
<span class="sh_comment">/* background-image: url(img_rubinetto_photocopy.jpg); </span>
<span class="sh_comment">background-position: bottom right; </span>
<span class="sh_comment">background-repeat: no-repeat; */</span>
<span class="sh_cbracket">}</span>

<span class="sh_selector">#menu2</span> <span class="sh_cbracket">{</span>
  <span class="sh_property">display:</span><span class="sh_value">table</span>;
  <span class="sh_property">padding:</span><span class="sh_value">0</span>; 
  <span class="sh_property">margin:</span><span class="sh_value">0</span> <span class="sh_value">auto</span>; 
  <span class="sh_property">list-style-type:</span><span class="sh_value">none</span>;
  <span class="sh_property">white-space:</span><span class="sh_value">nowrap</span>;
<span class="sh_property">font-size:</span><span class="sh_value">smaller</span>;
  <span class="sh_cbracket">}</span>
<span class="sh_selector">#menu2</span> li <span class="sh_cbracket">{</span>
  <span class="sh_property">display:</span><span class="sh_value">table-cell</span>;
  <span class="sh_cbracket">}</span>
<span class="sh_symbol">*</span> html <span class="sh_selector">#menu2</span> li <span class="sh_cbracket">{</span>
  <span class="sh_property">float:</span><span class="sh_value">left</span>;
  <span class="sh_cbracket">}</span>
<span class="sh_selector">#menu2</span> a <span class="sh_cbracket">{</span>
  <span class="sh_property">width:</span><span class="sh_value">auto</span>;
  <span class="sh_property">display:</span><span class="sh_value">block</span>;
  <span class="sh_property">padding:</span><span class="sh_value">4px</span> <span class="sh_value">16px</span>;
  <span class="sh_property">color:</span><span class="sh_string">#fff</span>; 
  <span class="sh_property">background:</span><span class="sh_string">#08c</span>; 
  <span class="sh_property">border:</span><span class="sh_value">1px</span> <span class="sh_value">solid</span> <span class="sh_string">#fff</span>; 
  <span class="sh_property">text-decoration:</span><span class="sh_value">none</span>;
  <span class="sh_cbracket">}</span>
<span class="sh_symbol">*</span> html <span class="sh_selector">#menu2</span> a <span class="sh_cbracket">{</span>
  <span class="sh_property">float:</span><span class="sh_value">left</span>;
  <span class="sh_cbracket">}</span>
<span class="sh_selector">#menu2</span> a<span class="sh_symbol">:</span>hover <span class="sh_cbracket">{</span>
  <span class="sh_property">color:</span><span class="sh_string">#000</span>; 
  <span class="sh_property">background:</span><span class="sh_string">#d4d4d4</span>;
  <span class="sh_cbracket">}</span>

<span class="sh_selector">.container</span> <span class="sh_cbracket">{</span><span class="sh_property">clear:</span><span class="sh_value">both</span>; <span class="sh_property">text-decoration:</span><span class="sh_value">none</span>;<span class="sh_cbracket">}</span>


<span class="sh_selector">#info</span> <span class="sh_cbracket">{</span><span class="sh_property">text-align:</span><span class="sh_value">center</span>;<span class="sh_cbracket">}</span>
<span class="sh_selector">#info</span> p <span class="sh_cbracket">{</span><span class="sh_property">clear:</span><span class="sh_value">both</span>; <span class="sh_property">text-align:</span><span class="sh_value">left</span>; <span class="sh_property">margin-left:</span><span class="sh_value">15px</span>;<span class="sh_cbracket">}</span>
</pre>
</td>
<td><pre class="sh_css">body {
font-family: Arial,Helvetica,sans-serif;
font-size: small;
font-style: normal;
background-color : #F9F9F9;
}

.box {
  border-width: 2px;
  border-color: green;
  border-style: solid;
  font-style: normal;
  font-weight: lighter;
  font-family: verdana, sans-serif;
  font-size: 0.8em;
  margin-right:2em;
  margin-bottom:2em;
  margin-top:2em;
}

.maintitle {
font-weight:bold;
text-align: center;
font-size:large;
}

.domanda {
font-weight:bold;
}

.risposta {  
font-style: italic;
}

.title {
background-color:lightgreen;
font-weight:bold;
text-align:center;
}

.box li {
 list-style-position:outside;
 list-style-type:none;
}

.box ul {
 padding-left: 5px;
}


.idimage {
padding-left: 5px;
padding-right: 20px;
padding-top:5px;
border: none;
}


#heading {
width: 100%;
margin-bottom:5px;
/* padding-top:10px; 
padding-bottom:10px; */
text-align:center;
background-color:#75ACCF;
font-weight:bolder;
font-size:large;
}

#bottom {
width: 100%;
top:auto;
clear:both;
text-align:center;
background-color:lightgreen;
font-weight:bolder;
/* padding-top:10px;
padding-bottom:10px; */
}

#leftcol {
float:left;
width:30%;
}

#altro {
background-color: #e0e0e0;
}

#navbar {
border-color: #d0d0d0;
}

#main {
float:right;
width: 70%;
/* background-image: url(img_rubinetto_photocopy.jpg); 
background-position: bottom right; 
background-repeat: no-repeat; */
}

#menu2 {
  display:table;
  padding:0; 
  margin:0 auto; 
  list-style-type:none;
  white-space:nowrap;
font-size:smaller;
  }
#menu2 li {
  display:table-cell;
  }
* html #menu2 li {
  float:left;
  }
#menu2 a {
  width:auto;
  display:block;
  padding:4px 16px;
  color:#fff; 
  background:#08c; 
  border:1px solid #fff; 
  text-decoration:none;
  }
* html #menu2 a {
  float:left;
  }
#menu2 a:hover {
  color:#000; 
  background:#d4d4d4;
  }

.container {clear:both; text-decoration:none;}


#info {text-align:center;}
#info p {clear:both; text-align:left; margin-left:15px;}
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_function">[BrowserBar]</span>
<span class="sh_type">Width</span><span class="sh_symbol">=</span>295

<span class="sh_comment"># a comment</span>

<span class="sh_function">[Filebrowser]</span>
<span class="sh_type">Dir History</span><span class="sh_symbol">=</span>
<span class="sh_type">Location</span><span class="sh_symbol">=</span>file://$HOME/
<span class="sh_type">Separate Directories</span><span class="sh_symbol">=</span>false
<span class="sh_type">Show Preview</span><span class="sh_symbol">=</span>false
<span class="sh_type">Show hidden files</span><span class="sh_symbol">=</span>false
<span class="sh_type">Sort by</span><span class="sh_symbol">=</span>Name
<span class="sh_type">Sort case insensitively</span><span class="sh_symbol">=</span>true
<span class="sh_type">Sort directories first</span><span class="sh_symbol">=</span>true
<span class="sh_type">Sort reversed</span><span class="sh_symbol">=</span>false
<span class="sh_type">View Style</span><span class="sh_symbol">=</span>Simple

<span class="sh_function">[General]</span>
<span class="sh_type">HiddenOnExit</span><span class="sh_symbol">=</span>false
<span class="sh_type">Timeout</span><span class="sh_symbol">=</span>20

<span class="sh_function">[PlaylistColumnsLayout]</span>
<span class="sh_type">ColumnNames</span><span class="sh_symbol">=</span>Filename,Title,Artist,AlbumArtist,Composer,Year,Album,DiscNumber,Track,BPM,Genre,Comment,Directory,Type,Length,Bitrate,SampleRate,Score,Rating,PlayCount,LastPlayed,Mood,Filesize
<span class="sh_type">ColumnOrder</span><span class="sh_symbol">=</span>0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22
<span class="sh_type">ColumnWidths</span><span class="sh_symbol">=</span>0,184,92,0,0,100,92,0,0,0,0,0,73,0,80,0,0,0,0,0,0,0,0
<span class="sh_type">ColumnsVersion</span><span class="sh_symbol">=</span>1
<span class="sh_type">SortAscending</span><span class="sh_symbol">=</span>true
<span class="sh_type">SortColumn</span><span class="sh_symbol">=</span>200

<span class="sh_function">[Desktop Entry]</span>
<span class="sh_type">Encoding</span><span class="sh_symbol">=</span>UTF-8
<span class="sh_type">Name</span><span class="sh_symbol">=</span>prova
<span class="sh_type">Exec</span><span class="sh_symbol">=</span>prova %i %m -caption "%c"
<span class="sh_type">Icon</span><span class="sh_symbol">=</span>prova
<span class="sh_type">Type</span><span class="sh_symbol">=</span>Application
<span class="sh_type">DocPath</span><span class="sh_symbol">=</span>prova/prova.html
<span class="sh_type">Comment</span><span class="sh_symbol">=</span>A KDE KPart Application
<span class="sh_type">Comment</span><span class="sh_cbracket">[fr]</span><span class="sh_symbol">=</span>Une application KPart pour KDE.
<span class="sh_type">Comment</span><span class="sh_cbracket">[pt_BR]</span><span class="sh_symbol">=</span>Um Aplicativo KPart do KDE
<span class="sh_type">Comment</span><span class="sh_cbracket">[it]</span><span class="sh_symbol">=</span>Applicazione KPart di KDE</pre>
</td>
<td><pre class="sh_desktop">[BrowserBar]
Width=295

# a comment

[Filebrowser]
Dir History=
Location=file://$HOME/
Separate Directories=false
Show Preview=false
Show hidden files=false
Sort by=Name
Sort case insensitively=true
Sort directories first=true
Sort reversed=false
View Style=Simple

[General]
HiddenOnExit=false
Timeout=20

[PlaylistColumnsLayout]
ColumnNames=Filename,Title,Artist,AlbumArtist,Composer,Year,Album,DiscNumber,Track,BPM,Genre,Comment,Directory,Type,Length,Bitrate,SampleRate,Score,Rating,PlayCount,LastPlayed,Mood,Filesize
ColumnOrder=0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22
ColumnWidths=0,184,92,0,0,100,92,0,0,0,0,0,73,0,80,0,0,0,0,0,0,0,0
ColumnsVersion=1
SortAscending=true
SortColumn=200

[Desktop Entry]
Encoding=UTF-8
Name=prova
Exec=prova %i %m -caption "%c"
Icon=prova
Type=Application
DocPath=prova/prova.html
Comment=A KDE KPart Application
Comment[fr]=Une application KPart pour KDE.
Comment[pt_BR]=Um Aplicativo KPart do KDE
Comment[it]=Applicazione KPart di KDE</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode">diff -ruP source-highlight-2.1.1/source-highlight.spec source-highlight-2.1.2/source-highlight.spec
<span class="sh_oldfile">--- source-highlight-2.1.1/source-highlight.spec	2005-08-03 14:54:18.000000000 +0200</span>
<span class="sh_newfile">+++ source-highlight-2.1.2/source-highlight.spec	2005-08-25 16:11:37.000000000 +0200</span>
<span class="sh_difflines">@@ -6,8 +6,8 @@</span>
 
 Summary:   syntax highlighting for source documents
 Name:      source-highlight
<span class="sh_oldfile">-Version:   2.1.1</span>
<span class="sh_oldfile">-Release:   2.1.1</span>
<span class="sh_newfile">+Version:   2.1.2</span>
<span class="sh_newfile">+Release:   2.1.2</span>
 License:   GPL
 Group:     Utilities/Console
 Source:    ftp://ftp.gnu.org/gnu/source-highlight/%{name}-%{version}.tar.gz
diff -ruP source-highlight-2.1.1/src/latex.outlang source-highlight-2.1.2/src/latex.outlang
<span class="sh_oldfile">--- source-highlight-2.1.1/src/latex.outlang	2005-07-12 22:21:46.000000000 +0200</span>
<span class="sh_newfile">+++ source-highlight-2.1.2/src/latex.outlang	2005-08-25 16:15:53.000000000 +0200</span>
<span class="sh_difflines">@@ -34,4 +34,5 @@</span>
 "|" "$|$"
 "--" "-\\/-"
 "---" "-\\/-\\/-"
<span class="sh_newfile">+"\"" "\"{}" # avoids problems with some inputenc</span>
 end
\ No newline at end of file
diff -ruP source-highlight-2.1.1/src/lib/messages.cc source-highlight-2.1.2/src/lib/messages.cc
<span class="sh_oldfile">--- source-highlight-2.1.1/src/lib/messages.cc	2005-07-12 12:18:59.000000000 +0200</span>
<span class="sh_newfile">+++ source-highlight-2.1.2/src/lib/messages.cc	2005-08-25 16:08:44.000000000 +0200</span>
<span class="sh_difflines">@@ -85,3 +85,9 @@</span>
   cerr &lt;&lt; PACKAGE &lt;&lt; ": " &lt;&lt; error &lt;&lt; endl;
   exit(EXIT_FAILURE);
 }
<span class="sh_newfile">+</span>
<span class="sh_newfile">+void foundBug(const std::string &amp;error, const std::string &amp;file, int line)</span>
<span class="sh_newfile">+{</span>
<span class="sh_newfile">+  cerr &lt;&lt; PACKAGE &lt;&lt; ": " &lt;&lt; error &lt;&lt; ", " &lt;&lt; file &lt;&lt; ":" &lt;&lt; line &lt;&lt; endl;</span>
<span class="sh_newfile">+  exit(EXIT_FAILURE);</span>
<span class="sh_newfile">+}</span>
</pre>
</td>
<td><pre class="sh_diff">diff -ruP source-highlight-2.1.1/source-highlight.spec source-highlight-2.1.2/source-highlight.spec
--- source-highlight-2.1.1/source-highlight.spec	2005-08-03 14:54:18.000000000 +0200
+++ source-highlight-2.1.2/source-highlight.spec	2005-08-25 16:11:37.000000000 +0200
@@ -6,8 +6,8 @@
 
 Summary:   syntax highlighting for source documents
 Name:      source-highlight
-Version:   2.1.1
-Release:   2.1.1
+Version:   2.1.2
+Release:   2.1.2
 License:   GPL
 Group:     Utilities/Console
 Source:    ftp://ftp.gnu.org/gnu/source-highlight/%{name}-%{version}.tar.gz
diff -ruP source-highlight-2.1.1/src/latex.outlang source-highlight-2.1.2/src/latex.outlang
--- source-highlight-2.1.1/src/latex.outlang	2005-07-12 22:21:46.000000000 +0200
+++ source-highlight-2.1.2/src/latex.outlang	2005-08-25 16:15:53.000000000 +0200
@@ -34,4 +34,5 @@
 "|" "$|$"
 "--" "-\\/-"
 "---" "-\\/-\\/-"
+"\"" "\"{}" # avoids problems with some inputenc
 end
\ No newline at end of file
diff -ruP source-highlight-2.1.1/src/lib/messages.cc source-highlight-2.1.2/src/lib/messages.cc
--- source-highlight-2.1.1/src/lib/messages.cc	2005-07-12 12:18:59.000000000 +0200
+++ source-highlight-2.1.2/src/lib/messages.cc	2005-08-25 16:08:44.000000000 +0200
@@ -85,3 +85,9 @@
   cerr &lt;&lt; PACKAGE &lt;&lt; ": " &lt;&lt; error &lt;&lt; endl;
   exit(EXIT_FAILURE);
 }
+
+void foundBug(const std::string &amp;error, const std::string &amp;file, int line)
+{
+  cerr &lt;&lt; PACKAGE &lt;&lt; ": " &lt;&lt; error &lt;&lt; ", " &lt;&lt; file &lt;&lt; ":" &lt;&lt; line &lt;&lt; endl;
+  exit(EXIT_FAILURE);
+}
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_preproc">#version</span> <span class="sh_number">120</span>
<span class="sh_preproc">#pragma</span> optimize off
<span class="sh_preproc">#pragma</span> debug on

<span class="sh_keyword">uniform</span> <span class="sh_type">vec4</span>	vSkyParams<span class="sh_symbol">;</span>
<span class="sh_keyword">varying</span> <span class="sh_type">ivec4</span>	vpos<span class="sh_symbol">,</span> lpos<span class="sh_symbol">;</span>
<span class="sh_keyword">varying</span> <span class="sh_type">bvec2</span>	wave0<span class="sh_symbol">,</span> wave1<span class="sh_symbol">,</span> wave2<span class="sh_symbol">;</span>
<span class="sh_keyword">const</span>	<span class="sh_type">float</span>	lambda <span class="sh_symbol">=</span> <span class="sh_number">2.0</span><span class="sh_symbol">;</span>

<span class="sh_type">void</span>  <span class="sh_function">main</span><span class="sh_symbol">(</span><span class="sh_type">void</span><span class="sh_symbol">)</span>
<span class="sh_cbracket">{</span>
<span class="sh_comment">// Texture coordinates generation</span>
<span class="sh_type">vec2</span> vTexCoords <span class="sh_symbol">=</span> <span class="sh_predef_var">gl_Vertex.xz</span><span class="sh_symbol">*</span>vSkyParams<span class="sh_predef_var">.z</span><span class="sh_symbol">;</span>

<span class="sh_comment">// Scale texture coordinates to get mix of low/high frequency details</span>
wave0 <span class="sh_symbol">=</span> vTexCoords <span class="sh_symbol">*</span> lambda <span class="sh_symbol">+</span> vSkyParams<span class="sh_predef_var">.w</span> <span class="sh_symbol">*</span> <span class="sh_type">vec2</span><span class="sh_symbol">(</span> <span class="sh_number">0.5</span><span class="sh_symbol">,</span> <span class="sh_number">1.0</span> <span class="sh_symbol">);</span>

<span class="sh_comment">// Perspective corrected projection</span>
<span class="sh_predef_var">gl_Position</span> <span class="sh_symbol">=</span> <span class="sh_predef_func">ftransform</span><span class="sh_symbol">();</span>
vpos <span class="sh_symbol">=</span> <span class="sh_predef_var">gl_Vertex</span><span class="sh_symbol">;</span>
lpos <span class="sh_symbol">=</span> <span class="sh_predef_var">gl_LightSource</span><span class="sh_symbol">[</span><span class="sh_number">0</span><span class="sh_symbol">]</span><span class="sh_predef_var">.position</span><span class="sh_symbol">;</span>

<span class="sh_comment">// Compute normal (assumes this is a sphere)</span>
<span class="sh_type">vec3</span> norm <span class="sh_symbol">=</span> <span class="sh_predef_func">normalize</span><span class="sh_symbol">(</span>vpos<span class="sh_symbol">)</span><span class="sh_predef_var">.xyz</span><span class="sh_symbol">;</span>

<span class="sh_comment">//Compute sun light</span>
<span class="sh_type">vec4</span> sunlight <span class="sh_symbol">=</span> <span class="sh_type">vec4</span><span class="sh_symbol">(</span><span class="sh_predef_func">pow</span><span class="sh_symbol">(</span> <span class="sh_predef_func">max</span><span class="sh_symbol">(</span><span class="sh_number">0.0</span><span class="sh_symbol">,</span> <span class="sh_predef_func">dot</span><span class="sh_symbol">(</span>light<span class="sh_symbol">,</span>norm<span class="sh_symbol">)),</span> <span class="sh_number">1024.0</span> <span class="sh_symbol">));</span>

<span class="sh_comment">// Get bump layers</span>
<span class="sh_type">vec3</span> vBumpTexA <span class="sh_symbol">=</span> <span class="sh_predef_func">texture2D</span><span class="sh_symbol">(</span>BumpMap<span class="sh_symbol">,</span> wave0<span class="sh_symbol">)</span><span class="sh_predef_var">.xyz</span><span class="sh_symbol">;</span>

<span class="sh_comment">//Add an horizon haze</span>
<span class="sh_type">float</span> haze <span class="sh_symbol">=</span> <span class="sh_predef_func">pow</span><span class="sh_symbol">(</span><span class="sh_predef_var">gl_FragCoord.z</span><span class="sh_symbol">*(</span><span class="sh_number">1.0</span><span class="sh_symbol">-</span>norm<span class="sh_predef_var">.y</span><span class="sh_symbol">),</span> <span class="sh_number">10.0</span><span class="sh_symbol">);</span>
skyColor <span class="sh_symbol">=</span> <span class="sh_predef_func">mix</span><span class="sh_symbol">(</span> grey<span class="sh_symbol">,</span> skyColor<span class="sh_symbol">,</span> haze <span class="sh_symbol">);</span>

<span class="sh_predef_var">gl_FragColor</span> <span class="sh_symbol">=</span> skyColor <span class="sh_symbol">+</span> vSkyParams<span class="sh_predef_var">.x</span><span class="sh_symbol">*</span>sunlight<span class="sh_symbol">;</span>
<span class="sh_cbracket">}</span></pre>
</td>
<td><pre class="sh_glsl">#version 120
#pragma optimize off
#pragma debug on

uniform vec4	vSkyParams;
varying ivec4	vpos, lpos;
varying bvec2	wave0, wave1, wave2;
const	float	lambda = 2.0;

void  main(void)
{
// Texture coordinates generation
vec2 vTexCoords = gl_Vertex.xz*vSkyParams.z;

// Scale texture coordinates to get mix of low/high frequency details
wave0 = vTexCoords * lambda + vSkyParams.w * vec2( 0.5, 1.0 );

// Perspective corrected projection
gl_Position = ftransform();
vpos = gl_Vertex;
lpos = gl_LightSource[0].position;

// Compute normal (assumes this is a sphere)
vec3 norm = normalize(vpos).xyz;

//Compute sun light
vec4 sunlight = vec4(pow( max(0.0, dot(light,norm)), 1024.0 ));

// Get bump layers
vec3 vBumpTexA = texture2D(BumpMap, wave0).xyz;

//Add an horizon haze
float haze = pow(gl_FragCoord.z*(1.0-norm.y), 10.0);
skyColor = mix( grey, skyColor, haze );

gl_FragColor = skyColor + vSkyParams.x*sunlight;
}</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_comment">/**</span>
<span class="sh_comment">** Copyright (C) 1999-2007 Lorenzo Bettini</span>
<span class="sh_comment">**  </span>
<span class="sh_comment">  </span><span class="sh_url">http://www.lorenzobettini.it</span>
<span class="sh_comment">  </span>
<span class="sh_comment">  r2 = r2 XOR (1&lt;&lt;10);</span>
<span class="sh_comment">  cout &lt;&lt; "hello world" &lt;&lt; endl;</span>
<span class="sh_comment">**  </span>
<span class="sh_comment">*/</span>

<span class="sh_comment">// this file also contains the definition of mysum as a #define</span>

<span class="sh_comment">// textgenerator.h : Text Generator class &amp;&amp;</span>

<span class="sh_preproc">#ifndef</span> _TEXTGEN_H
<span class="sh_preproc">#define</span> _TEXTGEN_H

<span class="sh_preproc">#define</span> <span class="sh_function">foo</span><span class="sh_symbol">(</span>x<span class="sh_symbol">)</span> <span class="sh_symbol">(</span>x <span class="sh_symbol">+</span> <span class="sh_number">1</span><span class="sh_symbol">)</span>

<span class="sh_preproc">#define</span> mysum myfunbody 

<span class="sh_preproc">#include</span> <span class="sh_string">&lt;iostream.h&gt;</span> <span class="sh_comment">// for cerr</span>

<span class="sh_preproc">#include</span> <span class="sh_string">"genfun.h"</span> <span class="sh_comment">/* for generating functions */</span>

<span class="sh_keyword">class</span> <span class="sh_classname">TextGenerator</span> <span class="sh_cbracket">{</span>
  <span class="sh_keyword">public</span> <span class="sh_symbol">:</span>
    <span class="sh_keyword">virtual</span> <span class="sh_type">void</span> <span class="sh_function">generate</span><span class="sh_symbol">(</span> <span class="sh_keyword">const</span> <span class="sh_type">char</span> <span class="sh_symbol">*</span>s <span class="sh_symbol">)</span> <span class="sh_keyword">const</span> <span class="sh_cbracket">{</span> <span class="sh_symbol">(*</span>sout<span class="sh_symbol">)</span> <span class="sh_symbol">&lt;&lt;</span> s <span class="sh_symbol">;</span> <span class="sh_cbracket">}</span>
    <span class="sh_keyword">virtual</span> <span class="sh_type">void</span> <span class="sh_function">generate</span><span class="sh_symbol">(</span> <span class="sh_keyword">const</span> <span class="sh_type">char</span> <span class="sh_symbol">*</span>s<span class="sh_symbol">,</span> <span class="sh_type">int</span> start<span class="sh_symbol">,</span> <span class="sh_type">int</span> end <span class="sh_symbol">)</span> <span class="sh_keyword">const</span> 
      <span class="sh_cbracket">{</span>
        <span class="sh_keyword">for</span> <span class="sh_symbol">(</span> <span class="sh_type">int</span> i <span class="sh_symbol">=</span> start <span class="sh_symbol">;</span> i <span class="sh_symbol">&lt;=</span> end <span class="sh_symbol">;</span> <span class="sh_symbol">++</span>i <span class="sh_symbol">)</span>
          <span class="sh_symbol">(*</span>sout<span class="sh_symbol">)</span> <span class="sh_symbol">&lt;&lt;</span> s<span class="sh_symbol">[</span>i<span class="sh_symbol">]</span> <span class="sh_symbol">;</span>
        <span class="sh_keyword">return</span> a<span class="sh_symbol">&lt;</span>p<span class="sh_symbol">-&gt;</span>b <span class="sh_symbol">?</span> a <span class="sh_symbol">:</span> <span class="sh_number">3</span><span class="sh_symbol">;</span>
      <span class="sh_cbracket">}</span>
    <span class="sh_keyword">virtual</span> <span class="sh_type">void</span> <span class="sh_function">generateln</span><span class="sh_symbol">(</span> <span class="sh_keyword">const</span> <span class="sh_type">char</span> <span class="sh_symbol">*</span>s <span class="sh_symbol">)</span> <span class="sh_keyword">const</span>
	<span class="sh_cbracket">{</span> 
	    <span class="sh_function">generate</span><span class="sh_symbol">(</span> s <span class="sh_symbol">)</span> <span class="sh_symbol">;</span>
	    <span class="sh_symbol">(*</span>sout<span class="sh_symbol">)</span> <span class="sh_symbol">&lt;&lt;</span> endl <span class="sh_symbol">;</span> 
	<span class="sh_cbracket">}</span>
    <span class="sh_keyword">virtual</span> <span class="sh_type">void</span> <span class="sh_function">generateEntire</span><span class="sh_symbol">(</span> <span class="sh_keyword">const</span> <span class="sh_type">char</span> <span class="sh_symbol">*</span>s <span class="sh_symbol">)</span> <span class="sh_keyword">const</span>
	<span class="sh_cbracket">{</span>
	    <span class="sh_function">startTextGeneration</span><span class="sh_symbol">()</span> <span class="sh_symbol">;</span>
	    <span class="sh_function">generate</span><span class="sh_symbol">(</span>s<span class="sh_symbol">)</span> <span class="sh_symbol">;</span>
	    <span class="sh_function">endTextGeneration</span><span class="sh_symbol">()</span> <span class="sh_symbol">;</span>
	<span class="sh_cbracket">}</span>
    <span class="sh_keyword">virtual</span> <span class="sh_type">void</span> <span class="sh_function">startTextGeneration</span><span class="sh_symbol">()</span> <span class="sh_keyword">const</span> <span class="sh_cbracket">{}</span>
    <span class="sh_keyword">virtual</span> <span class="sh_type">void</span> <span class="sh_function">endTextGeneration</span><span class="sh_symbol">()</span> <span class="sh_keyword">const</span> <span class="sh_cbracket">{}</span>
    <span class="sh_keyword">virtual</span> <span class="sh_type">void</span> <span class="sh_function">beginText</span><span class="sh_symbol">(</span> <span class="sh_keyword">const</span> <span class="sh_type">char</span> <span class="sh_symbol">*</span>s <span class="sh_symbol">)</span> <span class="sh_keyword">const</span>
	<span class="sh_cbracket">{</span>
	    <span class="sh_function">startTextGeneration</span><span class="sh_symbol">()</span> <span class="sh_symbol">;</span>
	    <span class="sh_keyword">if</span> <span class="sh_symbol">(</span> s <span class="sh_symbol">)</span>
		<span class="sh_function">generate</span><span class="sh_symbol">(</span> s <span class="sh_symbol">)</span> <span class="sh_symbol">;</span>
	<span class="sh_cbracket">}</span>
    <span class="sh_keyword">virtual</span> <span class="sh_type">void</span> <span class="sh_function">endText</span><span class="sh_symbol">(</span> <span class="sh_keyword">const</span> <span class="sh_type">char</span> <span class="sh_symbol">*</span>s <span class="sh_symbol">)</span> <span class="sh_keyword">const</span>
	<span class="sh_cbracket">{</span>
	    <span class="sh_keyword">if</span> <span class="sh_symbol">(</span> s <span class="sh_symbol">)</span>
		<span class="sh_function">generate</span><span class="sh_symbol">(</span> s <span class="sh_symbol">)</span> <span class="sh_symbol">;</span>
	    <span class="sh_function">endTextGeneration</span><span class="sh_symbol">()</span> <span class="sh_symbol">;</span>
	<span class="sh_cbracket">}</span>
<span class="sh_cbracket">}</span> <span class="sh_symbol">;</span>

<span class="sh_comment">// Decorator</span>
<span class="sh_keyword">class</span> <span class="sh_classname">TextDecorator</span> <span class="sh_symbol">:</span> <span class="sh_keyword">public</span> TextGenerator <span class="sh_cbracket">{</span>
  <span class="sh_keyword">protected</span> <span class="sh_symbol">:</span>
    <span class="sh_usertype">TextGenerator</span> <span class="sh_symbol">*</span>decorated <span class="sh_symbol">;</span>
  
  <span class="sh_keyword">public</span> <span class="sh_symbol">:</span>
    <span class="sh_function">TextDecorator</span><span class="sh_symbol">(</span> <span class="sh_usertype">TextGenerator</span> <span class="sh_symbol">*</span>t <span class="sh_symbol">)</span> <span class="sh_symbol">:</span> <span class="sh_function">decorated</span><span class="sh_symbol">(</span> t <span class="sh_symbol">)</span> <span class="sh_cbracket">{}</span>

    <span class="sh_keyword">virtual</span> <span class="sh_type">void</span> <span class="sh_function">startTextGeneration</span><span class="sh_symbol">()</span> <span class="sh_keyword">const</span> 
    <span class="sh_cbracket">{</span> 
	<span class="sh_function">startDecorate</span><span class="sh_symbol">()</span> <span class="sh_symbol">;</span>
	<span class="sh_keyword">if</span> <span class="sh_symbol">(</span> decorated <span class="sh_symbol">)</span>
	    decorated<span class="sh_symbol">-&gt;</span><span class="sh_function">startTextGeneration</span><span class="sh_symbol">()</span> <span class="sh_symbol">;</span>
    <span class="sh_cbracket">}</span>
    <span class="sh_keyword">virtual</span> <span class="sh_type">void</span> <span class="sh_function">endTextGeneration</span><span class="sh_symbol">()</span> <span class="sh_keyword">const</span> 
    <span class="sh_cbracket">{</span> 
	<span class="sh_keyword">if</span> <span class="sh_symbol">(</span> decorated <span class="sh_symbol">)</span>
	    decorated<span class="sh_symbol">-&gt;</span><span class="sh_function">endTextGeneration</span><span class="sh_symbol">()</span> <span class="sh_symbol">;</span>
	<span class="sh_function">endDecorate</span><span class="sh_symbol">()</span> <span class="sh_symbol">;</span>
	mysum<span class="sh_symbol">;</span>
    <span class="sh_cbracket">}</span>

    <span class="sh_comment">// pure virtual functions</span>
    <span class="sh_keyword">virtual</span> <span class="sh_type">void</span> <span class="sh_function">startDecorate</span><span class="sh_symbol">()</span> <span class="sh_keyword">const</span> <span class="sh_symbol">=</span> <span class="sh_number">0</span> <span class="sh_symbol">;</span>
    <span class="sh_keyword">virtual</span> <span class="sh_type">void</span> <span class="sh_function">endDecorate</span><span class="sh_symbol">()</span> <span class="sh_keyword">const</span> <span class="sh_symbol">=</span> <span class="sh_number">0</span> <span class="sh_symbol">;</span>
<span class="sh_cbracket">}</span> <span class="sh_symbol">;</span>

<span class="sh_preproc">#endif</span> <span class="sh_comment">// _TEXTGEN_H</span>
</pre>
</td>
<td><pre class="sh_cpp">/**
** Copyright (C) 1999-2007 Lorenzo Bettini
**  
  http://www.lorenzobettini.it
  
  r2 = r2 XOR (1&lt;&lt;10);
  cout &lt;&lt; "hello world" &lt;&lt; endl;
**  
*/

// this file also contains the definition of mysum as a #define

// textgenerator.h : Text Generator class &amp;&amp;

#ifndef _TEXTGEN_H
#define _TEXTGEN_H

#define foo(x) (x + 1)

#define mysum myfunbody 

#include &lt;iostream.h&gt; // for cerr

#include "genfun.h" /* for generating functions */

class TextGenerator {
  public :
    virtual void generate( const char *s ) const { (*sout) &lt;&lt; s ; }
    virtual void generate( const char *s, int start, int end ) const 
      {
        for ( int i = start ; i &lt;= end ; ++i )
          (*sout) &lt;&lt; s[i] ;
        return a&lt;p-&gt;b ? a : 3;
      }
    virtual void generateln( const char *s ) const
	{ 
	    generate( s ) ;
	    (*sout) &lt;&lt; endl ; 
	}
    virtual void generateEntire( const char *s ) const
	{
	    startTextGeneration() ;
	    generate(s) ;
	    endTextGeneration() ;
	}
    virtual void startTextGeneration() const {}
    virtual void endTextGeneration() const {}
    virtual void beginText( const char *s ) const
	{
	    startTextGeneration() ;
	    if ( s )
		generate( s ) ;
	}
    virtual void endText( const char *s ) const
	{
	    if ( s )
		generate( s ) ;
	    endTextGeneration() ;
	}
} ;

// Decorator
class TextDecorator : public TextGenerator {
  protected :
    TextGenerator *decorated ;
  
  public :
    TextDecorator( TextGenerator *t ) : decorated( t ) {}

    virtual void startTextGeneration() const 
    { 
	startDecorate() ;
	if ( decorated )
	    decorated-&gt;startTextGeneration() ;
    }
    virtual void endTextGeneration() const 
    { 
	if ( decorated )
	    decorated-&gt;endTextGeneration() ;
	endDecorate() ;
	mysum;
    }

    // pure virtual functions
    virtual void startDecorate() const = 0 ;
    virtual void endDecorate() const = 0 ;
} ;

#endif // _TEXTGEN_H
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_preproc">&lt;!DOCTYPE</span> <span class="sh_type">HTML</span> <span class="sh_type">PUBLIC</span> <span class="sh_string">"-//IETF//DTD HTML//EN"</span><span class="sh_preproc">&gt;</span>
<span class="sh_keyword">&lt;html&gt;</span>
<span class="sh_keyword">&lt;head&gt;</span>
<span class="sh_keyword">&lt;meta</span> <span class="sh_type">http-equiv</span><span class="sh_symbol">=</span><span class="sh_string">"Content-Type"</span>
<span class="sh_type">content</span><span class="sh_symbol">=</span><span class="sh_string">"text/html; charset=iso-8859-1"</span><span class="sh_keyword">&gt;</span>
<span class="sh_keyword">&lt;meta</span> <span class="sh_type">name</span><span class="sh_symbol">=</span><span class="sh_string">"GENERATOR"</span> <span class="sh_type">content</span><span class="sh_symbol">=</span><span class="sh_string">"GNU source-highlight </span>
<span class="sh_string">by Lorenzo Bettini</span>
<span class="sh_string">http://www.lorenzobettini.it</span>
<span class="sh_string">http://www.gnu.org/software/src-highlite"</span><span class="sh_keyword">&gt;</span>
<span class="sh_keyword">&lt;title&gt;</span>Java formatted in html<span class="sh_keyword">&lt;/title&gt;</span>
<span class="sh_keyword">&lt;/head&gt;</span>
<span class="sh_keyword">&lt;body&gt;</span>
<span class="sh_comment">&lt;!--HEADSTART--&gt;</span>
<span class="sh_keyword">&lt;p&gt;&lt;hr&gt;&lt;p&gt;</span>
<span class="sh_keyword">&lt;center&gt;</span>
<span class="sh_keyword">&lt;table</span> <span class="sh_type">BORDER</span><span class="sh_symbol">=</span><span class="sh_type">3</span> <span class="sh_type">CELLPADDING</span><span class="sh_symbol">=</span><span class="sh_type">10</span> <span class="sh_type">COLS</span><span class="sh_symbol">=</span><span class="sh_type">1</span> <span class="sh_type">WIDTH</span><span class="sh_symbol">=</span><span class="sh_string">"90%"</span> <span class="sh_type">BGCOLOR</span><span class="sh_symbol">=</span><span class="sh_string">"#FFFF99"</span> <span class="sh_type">NOSAVE</span> <span class="sh_keyword">&gt;</span>
<span class="sh_keyword">&lt;tr</span> <span class="sh_type">NOSAVE</span><span class="sh_keyword">&gt;</span>
<span class="sh_keyword">&lt;td</span> <span class="sh_type">NOSAVE</span><span class="sh_keyword">&gt;</span> 
<span class="sh_comment">&lt;!--HEADEND--&gt;</span>
<span class="sh_keyword">&lt;pre&gt;&lt;tt&gt;&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span>/*<span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;</span>
<span class="sh_keyword">&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span>  This is a classical Hello program<span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;</span>
<span class="sh_keyword">&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span>  to test source-highlight with Java programs.<span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;</span>
<span class="sh_keyword">&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span>  <span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;</span>
<span class="sh_keyword">&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span>  to have an html translation type<span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;</span>

<span class="sh_keyword">&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span>	source-highlight -s java -f html --input Hello.java --output Hello.html<span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;</span>
<span class="sh_keyword">&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span>	source-highlight -s java -f html <span class="sh_preproc">&amp;lt;</span> Hello.java <span class="sh_preproc">&amp;gt;</span> Hello.html<span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;</span>

<span class="sh_keyword">&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span>  or type source-highlight --help for the list of options<span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;</span>

<span class="sh_keyword">&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span>  written by<span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;</span>
<span class="sh_keyword">&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span>  Lorenzo Bettini<span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;</span>
<span class="sh_keyword">&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span>  <span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;&lt;u&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#0000FF"</span><span class="sh_keyword">&gt;</span>http://www.lorenzobettini.it<span class="sh_keyword">&lt;/font&gt;&lt;/u&gt;</span>
<span class="sh_keyword">&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span>  <span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;&lt;u&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#0000FF"</span><span class="sh_keyword">&gt;</span>http://www.gnu.org/software/src-highlite<span class="sh_keyword">&lt;/font&gt;&lt;/u&gt;</span>
<span class="sh_keyword">&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span>*/<span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;</span>

<span class="sh_keyword">&lt;b&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#000080"</span><span class="sh_keyword">&gt;</span>package<span class="sh_keyword">&lt;/font&gt;&lt;/b&gt;</span> hello<span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>;<span class="sh_keyword">&lt;/font&gt;</span>

<span class="sh_keyword">&lt;b&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#000080"</span><span class="sh_keyword">&gt;</span>import<span class="sh_keyword">&lt;/font&gt;&lt;/b&gt;</span> java<span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>.<span class="sh_keyword">&lt;/font&gt;</span>io<span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>.*<span class="sh_keyword">&lt;/font&gt;</span> <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>;<span class="sh_keyword">&lt;/font&gt;</span>

<span class="sh_keyword">&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span>/**<span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;</span>
<span class="sh_keyword">&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span> * <span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;&lt;b&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#0000FF"</span><span class="sh_keyword">&gt;</span><span class="sh_preproc">&amp;lt;</span>p<span class="sh_preproc">&amp;gt;</span><span class="sh_keyword">&lt;/font&gt;&lt;/b&gt;</span>
<span class="sh_keyword">&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span> * A simple Hello World class, used to demonstrate some<span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;</span>
<span class="sh_keyword">&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span> * features of Java source highlighting.<span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;</span>
<span class="sh_keyword">&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span> * <span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;&lt;b&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#0000FF"</span><span class="sh_keyword">&gt;</span><span class="sh_preproc">&amp;lt;</span>/p<span class="sh_preproc">&amp;gt;</span><span class="sh_keyword">&lt;/font&gt;&lt;/b&gt;</span>
<span class="sh_keyword">&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span> * <span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;&lt;b&gt;</span>TODO:<span class="sh_keyword">&lt;/b&gt;&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span> nothing, just to show an highlighted <span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;&lt;b&gt;</span>TODO<span class="sh_keyword">&lt;/b&gt;&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span> or <span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;&lt;b&gt;</span>FIXME<span class="sh_keyword">&lt;/b&gt;</span>
<span class="sh_keyword">&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span> *<span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;</span>
<span class="sh_keyword">&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span> * <span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#009900"</span><span class="sh_keyword">&gt;</span>@author<span class="sh_keyword">&lt;/font&gt;&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span> Lorenzo Bettini<span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;</span>
<span class="sh_keyword">&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span> * <span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#009900"</span><span class="sh_keyword">&gt;</span>@version<span class="sh_keyword">&lt;/font&gt;&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span> 2.0<span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;</span>
<span class="sh_keyword">&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span> */<span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;</span>
<span class="sh_keyword">&lt;b&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#0000FF"</span><span class="sh_keyword">&gt;</span>public<span class="sh_keyword">&lt;/font&gt;&lt;/b&gt;</span> <span class="sh_keyword">&lt;b&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#0000FF"</span><span class="sh_keyword">&gt;</span>class<span class="sh_keyword">&lt;/font&gt;&lt;/b&gt;</span> Hello <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#FF0000"</span><span class="sh_keyword">&gt;</span>{<span class="sh_keyword">&lt;/font&gt;</span>
    <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#009900"</span><span class="sh_keyword">&gt;</span>int<span class="sh_keyword">&lt;/font&gt;</span> foo <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>=<span class="sh_keyword">&lt;/font&gt;</span> <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#993399"</span><span class="sh_keyword">&gt;</span>1998<span class="sh_keyword">&lt;/font&gt;</span> <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>;<span class="sh_keyword">&lt;/font&gt;</span>
    <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#009900"</span><span class="sh_keyword">&gt;</span>int<span class="sh_keyword">&lt;/font&gt;</span> hex_foo <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>=<span class="sh_keyword">&lt;/font&gt;</span> <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#993399"</span><span class="sh_keyword">&gt;</span>0xCAFEBABE<span class="sh_keyword">&lt;/font&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>;<span class="sh_keyword">&lt;/font&gt;</span>
    <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#009900"</span><span class="sh_keyword">&gt;</span>boolean<span class="sh_keyword">&lt;/font&gt;</span> b <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>=<span class="sh_keyword">&lt;/font&gt;</span> <span class="sh_keyword">&lt;b&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#0000FF"</span><span class="sh_keyword">&gt;</span>false<span class="sh_keyword">&lt;/font&gt;&lt;/b&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>;<span class="sh_keyword">&lt;/font&gt;</span>
    Integer i <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>=<span class="sh_keyword">&lt;/font&gt;</span> <span class="sh_keyword">&lt;b&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#0000FF"</span><span class="sh_keyword">&gt;</span>null<span class="sh_keyword">&lt;/font&gt;&lt;/b&gt;</span> <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>;<span class="sh_keyword">&lt;/font&gt;</span>
    <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#009900"</span><span class="sh_keyword">&gt;</span>char<span class="sh_keyword">&lt;/font&gt;</span> c <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>=<span class="sh_keyword">&lt;/font&gt;</span> <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#FF0000"</span><span class="sh_keyword">&gt;</span>'<span class="sh_keyword">&lt;/font&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#CC33CC"</span><span class="sh_keyword">&gt;</span>\'<span class="sh_keyword">&lt;/font&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#FF0000"</span><span class="sh_keyword">&gt;</span>'<span class="sh_keyword">&lt;/font&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>,<span class="sh_keyword">&lt;/font&gt;</span> d <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>=<span class="sh_keyword">&lt;/font&gt;</span> <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#FF0000"</span><span class="sh_keyword">&gt;</span>'n'<span class="sh_keyword">&lt;/font&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>,<span class="sh_keyword">&lt;/font&gt;</span> e <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>=<span class="sh_keyword">&lt;/font&gt;</span> <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#FF0000"</span><span class="sh_keyword">&gt;</span>'<span class="sh_keyword">&lt;/font&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#CC33CC"</span><span class="sh_keyword">&gt;</span>\\<span class="sh_keyword">&lt;/font&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#FF0000"</span><span class="sh_keyword">&gt;</span>'<span class="sh_keyword">&lt;/font&gt;</span> <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>;<span class="sh_keyword">&lt;/font&gt;</span>
    String xml <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>=<span class="sh_keyword">&lt;/font&gt;</span> <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#FF0000"</span><span class="sh_keyword">&gt;</span>"<span class="sh_preproc">&amp;lt;</span>tag attr=<span class="sh_keyword">&lt;/font&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#CC33CC"</span><span class="sh_keyword">&gt;</span>\"<span class="sh_keyword">&lt;/font&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#FF0000"</span><span class="sh_keyword">&gt;</span>value<span class="sh_keyword">&lt;/font&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#CC33CC"</span><span class="sh_keyword">&gt;</span>\"<span class="sh_keyword">&lt;/font&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#FF0000"</span><span class="sh_keyword">&gt;</span><span class="sh_preproc">&amp;gt;&amp;amp;</span>auml;<span class="sh_preproc">&amp;lt;</span>/tag<span class="sh_preproc">&amp;gt;</span>"<span class="sh_keyword">&lt;/font&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>,<span class="sh_keyword">&lt;/font&gt;</span> foo2 <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>=<span class="sh_keyword">&lt;/font&gt;</span> <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#FF0000"</span><span class="sh_keyword">&gt;</span>"<span class="sh_keyword">&lt;/font&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#CC33CC"</span><span class="sh_keyword">&gt;</span>\\<span class="sh_keyword">&lt;/font&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#FF0000"</span><span class="sh_keyword">&gt;</span>"<span class="sh_keyword">&lt;/font&gt;</span> <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>;<span class="sh_keyword">&lt;/font&gt;</span>
    
    <span class="sh_keyword">&lt;b&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#0000FF"</span><span class="sh_keyword">&gt;</span>public<span class="sh_keyword">&lt;/font&gt;&lt;/b&gt;</span> <span class="sh_keyword">&lt;b&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#0000FF"</span><span class="sh_keyword">&gt;</span>static<span class="sh_keyword">&lt;/font&gt;&lt;/b&gt;</span> <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#009900"</span><span class="sh_keyword">&gt;</span>void<span class="sh_keyword">&lt;/font&gt;</span> <span class="sh_keyword">&lt;b&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#000000"</span><span class="sh_keyword">&gt;</span>main<span class="sh_keyword">&lt;/font&gt;&lt;/b&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>(<span class="sh_keyword">&lt;/font&gt;</span> String args<span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>[]<span class="sh_keyword">&lt;/font&gt;</span> <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>)<span class="sh_keyword">&lt;/font&gt;</span> <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#FF0000"</span><span class="sh_keyword">&gt;</span>{<span class="sh_keyword">&lt;/font&gt;</span>
	<span class="sh_keyword">&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span>// just some greetings ;-)  /*<span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;</span>
	System<span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>.<span class="sh_keyword">&lt;/font&gt;</span>out<span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>.<span class="sh_keyword">&lt;/font&gt;&lt;b&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#000000"</span><span class="sh_keyword">&gt;</span>println<span class="sh_keyword">&lt;/font&gt;&lt;/b&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>(<span class="sh_keyword">&lt;/font&gt;</span> <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#FF0000"</span><span class="sh_keyword">&gt;</span>"Hello from java2html :-)"<span class="sh_keyword">&lt;/font&gt;</span> <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>)<span class="sh_keyword">&lt;/font&gt;</span> <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>;<span class="sh_keyword">&lt;/font&gt;</span>
	System<span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>.<span class="sh_keyword">&lt;/font&gt;</span>out<span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>.<span class="sh_keyword">&lt;/font&gt;&lt;b&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#000000"</span><span class="sh_keyword">&gt;</span>println<span class="sh_keyword">&lt;/font&gt;&lt;/b&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>(<span class="sh_keyword">&lt;/font&gt;</span> <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#FF0000"</span><span class="sh_keyword">&gt;</span>"<span class="sh_keyword">&lt;/font&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#CC33CC"</span><span class="sh_keyword">&gt;</span>\t<span class="sh_keyword">&lt;/font&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#FF0000"</span><span class="sh_keyword">&gt;</span>by Lorenzo Bettini"<span class="sh_keyword">&lt;/font&gt;</span> <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>)<span class="sh_keyword">&lt;/font&gt;</span> <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>;<span class="sh_keyword">&lt;/font&gt;</span>
	System<span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>.<span class="sh_keyword">&lt;/font&gt;</span>out<span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>.<span class="sh_keyword">&lt;/font&gt;&lt;b&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#000000"</span><span class="sh_keyword">&gt;</span>println<span class="sh_keyword">&lt;/font&gt;&lt;/b&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>(<span class="sh_keyword">&lt;/font&gt;</span> <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#FF0000"</span><span class="sh_keyword">&gt;</span>"<span class="sh_keyword">&lt;/font&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#CC33CC"</span><span class="sh_keyword">&gt;</span>\t<span class="sh_keyword">&lt;/font&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#FF0000"</span><span class="sh_keyword">&gt;</span>http://www.lorenzobettini.it"<span class="sh_keyword">&lt;/font&gt;</span> <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>)<span class="sh_keyword">&lt;/font&gt;</span> <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>;<span class="sh_keyword">&lt;/font&gt;</span>
        <span class="sh_keyword">&lt;b&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#0000FF"</span><span class="sh_keyword">&gt;</span>if<span class="sh_keyword">&lt;/font&gt;&lt;/b&gt;</span> <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>(<span class="sh_keyword">&lt;/font&gt;</span>argc <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span><span class="sh_preproc">&amp;gt;</span><span class="sh_keyword">&lt;/font&gt;</span> <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#993399"</span><span class="sh_keyword">&gt;</span>0<span class="sh_keyword">&lt;/font&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>)<span class="sh_keyword">&lt;/font&gt;</span>
            String param <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>=<span class="sh_keyword">&lt;/font&gt;</span> argc<span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>[<span class="sh_keyword">&lt;/font&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#993399"</span><span class="sh_keyword">&gt;</span>0<span class="sh_keyword">&lt;/font&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#990000"</span><span class="sh_keyword">&gt;</span>];<span class="sh_keyword">&lt;/font&gt;</span>
        <span class="sh_keyword">&lt;i&gt;&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#9A1900"</span><span class="sh_keyword">&gt;</span>//System.out.println( "bye bye... :-D" ) ; // see you soon<span class="sh_keyword">&lt;/font&gt;&lt;/i&gt;</span>
    <span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#FF0000"</span><span class="sh_keyword">&gt;</span>}<span class="sh_keyword">&lt;/font&gt;</span>
<span class="sh_keyword">&lt;font</span> <span class="sh_type">color</span><span class="sh_symbol">=</span><span class="sh_string">"#FF0000"</span><span class="sh_keyword">&gt;</span>}<span class="sh_keyword">&lt;/font&gt;</span>
<span class="sh_keyword">&lt;/tt&gt;&lt;/pre&gt;</span>
<span class="sh_comment">&lt;!--FOOTSTART--&gt;</span> 
<span class="sh_keyword">&lt;/td&gt;</span>
<span class="sh_keyword">&lt;/tr&gt;</span>
<span class="sh_keyword">&lt;/table&gt;</span>
<span class="sh_keyword">&lt;/center&gt;</span>
<span class="sh_keyword">&lt;p&gt;&lt;hr&gt;&lt;p&gt;</span>
<span class="sh_comment">&lt;!--FOOTEND--&gt;</span> 
<span class="sh_keyword">&lt;/body&gt;</span>
<span class="sh_keyword">&lt;/html&gt;</span>

<span class="sh_comment">&lt;!-- this is an</span>
<span class="sh_comment">     added HTML comment</span>
<span class="sh_comment">     at the end of the file --&gt;</span>
</pre>
</td>
<td><pre class="sh_html">&lt;!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN"&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1"&gt;
&lt;meta name="GENERATOR" content="GNU source-highlight 
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite"&gt;
&lt;title&gt;Java formatted in html&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;!--HEADSTART--&gt;
&lt;p&gt;&lt;hr&gt;&lt;p&gt;
&lt;center&gt;
&lt;table BORDER=3 CELLPADDING=10 COLS=1 WIDTH="90%" BGCOLOR="#FFFF99" NOSAVE &gt;
&lt;tr NOSAVE&gt;
&lt;td NOSAVE&gt; 
&lt;!--HEADEND--&gt;
&lt;pre&gt;&lt;tt&gt;&lt;i&gt;&lt;font color="#9A1900"&gt;/*&lt;/font&gt;&lt;/i&gt;
&lt;i&gt;&lt;font color="#9A1900"&gt;  This is a classical Hello program&lt;/font&gt;&lt;/i&gt;
&lt;i&gt;&lt;font color="#9A1900"&gt;  to test source-highlight with Java programs.&lt;/font&gt;&lt;/i&gt;
&lt;i&gt;&lt;font color="#9A1900"&gt;  &lt;/font&gt;&lt;/i&gt;
&lt;i&gt;&lt;font color="#9A1900"&gt;  to have an html translation type&lt;/font&gt;&lt;/i&gt;

&lt;i&gt;&lt;font color="#9A1900"&gt;	source-highlight -s java -f html --input Hello.java --output Hello.html&lt;/font&gt;&lt;/i&gt;
&lt;i&gt;&lt;font color="#9A1900"&gt;	source-highlight -s java -f html &amp;lt; Hello.java &amp;gt; Hello.html&lt;/font&gt;&lt;/i&gt;

&lt;i&gt;&lt;font color="#9A1900"&gt;  or type source-highlight --help for the list of options&lt;/font&gt;&lt;/i&gt;

&lt;i&gt;&lt;font color="#9A1900"&gt;  written by&lt;/font&gt;&lt;/i&gt;
&lt;i&gt;&lt;font color="#9A1900"&gt;  Lorenzo Bettini&lt;/font&gt;&lt;/i&gt;
&lt;i&gt;&lt;font color="#9A1900"&gt;  &lt;/font&gt;&lt;/i&gt;&lt;u&gt;&lt;font color="#0000FF"&gt;http://www.lorenzobettini.it&lt;/font&gt;&lt;/u&gt;
&lt;i&gt;&lt;font color="#9A1900"&gt;  &lt;/font&gt;&lt;/i&gt;&lt;u&gt;&lt;font color="#0000FF"&gt;http://www.gnu.org/software/src-highlite&lt;/font&gt;&lt;/u&gt;
&lt;i&gt;&lt;font color="#9A1900"&gt;*/&lt;/font&gt;&lt;/i&gt;

&lt;b&gt;&lt;font color="#000080"&gt;package&lt;/font&gt;&lt;/b&gt; hello&lt;font color="#990000"&gt;;&lt;/font&gt;

&lt;b&gt;&lt;font color="#000080"&gt;import&lt;/font&gt;&lt;/b&gt; java&lt;font color="#990000"&gt;.&lt;/font&gt;io&lt;font color="#990000"&gt;.*&lt;/font&gt; &lt;font color="#990000"&gt;;&lt;/font&gt;

&lt;i&gt;&lt;font color="#9A1900"&gt;/**&lt;/font&gt;&lt;/i&gt;
&lt;i&gt;&lt;font color="#9A1900"&gt; * &lt;/font&gt;&lt;/i&gt;&lt;b&gt;&lt;font color="#0000FF"&gt;&amp;lt;p&amp;gt;&lt;/font&gt;&lt;/b&gt;
&lt;i&gt;&lt;font color="#9A1900"&gt; * A simple Hello World class, used to demonstrate some&lt;/font&gt;&lt;/i&gt;
&lt;i&gt;&lt;font color="#9A1900"&gt; * features of Java source highlighting.&lt;/font&gt;&lt;/i&gt;
&lt;i&gt;&lt;font color="#9A1900"&gt; * &lt;/font&gt;&lt;/i&gt;&lt;b&gt;&lt;font color="#0000FF"&gt;&amp;lt;/p&amp;gt;&lt;/font&gt;&lt;/b&gt;
&lt;i&gt;&lt;font color="#9A1900"&gt; * &lt;/font&gt;&lt;/i&gt;&lt;b&gt;TODO:&lt;/b&gt;&lt;i&gt;&lt;font color="#9A1900"&gt; nothing, just to show an highlighted &lt;/font&gt;&lt;/i&gt;&lt;b&gt;TODO&lt;/b&gt;&lt;i&gt;&lt;font color="#9A1900"&gt; or &lt;/font&gt;&lt;/i&gt;&lt;b&gt;FIXME&lt;/b&gt;
&lt;i&gt;&lt;font color="#9A1900"&gt; *&lt;/font&gt;&lt;/i&gt;
&lt;i&gt;&lt;font color="#9A1900"&gt; * &lt;/font&gt;&lt;/i&gt;&lt;font color="#009900"&gt;@author&lt;/font&gt;&lt;i&gt;&lt;font color="#9A1900"&gt; Lorenzo Bettini&lt;/font&gt;&lt;/i&gt;
&lt;i&gt;&lt;font color="#9A1900"&gt; * &lt;/font&gt;&lt;/i&gt;&lt;font color="#009900"&gt;@version&lt;/font&gt;&lt;i&gt;&lt;font color="#9A1900"&gt; 2.0&lt;/font&gt;&lt;/i&gt;
&lt;i&gt;&lt;font color="#9A1900"&gt; */&lt;/font&gt;&lt;/i&gt;
&lt;b&gt;&lt;font color="#0000FF"&gt;public&lt;/font&gt;&lt;/b&gt; &lt;b&gt;&lt;font color="#0000FF"&gt;class&lt;/font&gt;&lt;/b&gt; Hello &lt;font color="#FF0000"&gt;{&lt;/font&gt;
    &lt;font color="#009900"&gt;int&lt;/font&gt; foo &lt;font color="#990000"&gt;=&lt;/font&gt; &lt;font color="#993399"&gt;1998&lt;/font&gt; &lt;font color="#990000"&gt;;&lt;/font&gt;
    &lt;font color="#009900"&gt;int&lt;/font&gt; hex_foo &lt;font color="#990000"&gt;=&lt;/font&gt; &lt;font color="#993399"&gt;0xCAFEBABE&lt;/font&gt;&lt;font color="#990000"&gt;;&lt;/font&gt;
    &lt;font color="#009900"&gt;boolean&lt;/font&gt; b &lt;font color="#990000"&gt;=&lt;/font&gt; &lt;b&gt;&lt;font color="#0000FF"&gt;false&lt;/font&gt;&lt;/b&gt;&lt;font color="#990000"&gt;;&lt;/font&gt;
    Integer i &lt;font color="#990000"&gt;=&lt;/font&gt; &lt;b&gt;&lt;font color="#0000FF"&gt;null&lt;/font&gt;&lt;/b&gt; &lt;font color="#990000"&gt;;&lt;/font&gt;
    &lt;font color="#009900"&gt;char&lt;/font&gt; c &lt;font color="#990000"&gt;=&lt;/font&gt; &lt;font color="#FF0000"&gt;'&lt;/font&gt;&lt;font color="#CC33CC"&gt;\'&lt;/font&gt;&lt;font color="#FF0000"&gt;'&lt;/font&gt;&lt;font color="#990000"&gt;,&lt;/font&gt; d &lt;font color="#990000"&gt;=&lt;/font&gt; &lt;font color="#FF0000"&gt;'n'&lt;/font&gt;&lt;font color="#990000"&gt;,&lt;/font&gt; e &lt;font color="#990000"&gt;=&lt;/font&gt; &lt;font color="#FF0000"&gt;'&lt;/font&gt;&lt;font color="#CC33CC"&gt;\\&lt;/font&gt;&lt;font color="#FF0000"&gt;'&lt;/font&gt; &lt;font color="#990000"&gt;;&lt;/font&gt;
    String xml &lt;font color="#990000"&gt;=&lt;/font&gt; &lt;font color="#FF0000"&gt;"&amp;lt;tag attr=&lt;/font&gt;&lt;font color="#CC33CC"&gt;\"&lt;/font&gt;&lt;font color="#FF0000"&gt;value&lt;/font&gt;&lt;font color="#CC33CC"&gt;\"&lt;/font&gt;&lt;font color="#FF0000"&gt;&amp;gt;&amp;amp;auml;&amp;lt;/tag&amp;gt;"&lt;/font&gt;&lt;font color="#990000"&gt;,&lt;/font&gt; foo2 &lt;font color="#990000"&gt;=&lt;/font&gt; &lt;font color="#FF0000"&gt;"&lt;/font&gt;&lt;font color="#CC33CC"&gt;\\&lt;/font&gt;&lt;font color="#FF0000"&gt;"&lt;/font&gt; &lt;font color="#990000"&gt;;&lt;/font&gt;
    
    &lt;b&gt;&lt;font color="#0000FF"&gt;public&lt;/font&gt;&lt;/b&gt; &lt;b&gt;&lt;font color="#0000FF"&gt;static&lt;/font&gt;&lt;/b&gt; &lt;font color="#009900"&gt;void&lt;/font&gt; &lt;b&gt;&lt;font color="#000000"&gt;main&lt;/font&gt;&lt;/b&gt;&lt;font color="#990000"&gt;(&lt;/font&gt; String args&lt;font color="#990000"&gt;[]&lt;/font&gt; &lt;font color="#990000"&gt;)&lt;/font&gt; &lt;font color="#FF0000"&gt;{&lt;/font&gt;
	&lt;i&gt;&lt;font color="#9A1900"&gt;// just some greetings ;-)  /*&lt;/font&gt;&lt;/i&gt;
	System&lt;font color="#990000"&gt;.&lt;/font&gt;out&lt;font color="#990000"&gt;.&lt;/font&gt;&lt;b&gt;&lt;font color="#000000"&gt;println&lt;/font&gt;&lt;/b&gt;&lt;font color="#990000"&gt;(&lt;/font&gt; &lt;font color="#FF0000"&gt;"Hello from java2html :-)"&lt;/font&gt; &lt;font color="#990000"&gt;)&lt;/font&gt; &lt;font color="#990000"&gt;;&lt;/font&gt;
	System&lt;font color="#990000"&gt;.&lt;/font&gt;out&lt;font color="#990000"&gt;.&lt;/font&gt;&lt;b&gt;&lt;font color="#000000"&gt;println&lt;/font&gt;&lt;/b&gt;&lt;font color="#990000"&gt;(&lt;/font&gt; &lt;font color="#FF0000"&gt;"&lt;/font&gt;&lt;font color="#CC33CC"&gt;\t&lt;/font&gt;&lt;font color="#FF0000"&gt;by Lorenzo Bettini"&lt;/font&gt; &lt;font color="#990000"&gt;)&lt;/font&gt; &lt;font color="#990000"&gt;;&lt;/font&gt;
	System&lt;font color="#990000"&gt;.&lt;/font&gt;out&lt;font color="#990000"&gt;.&lt;/font&gt;&lt;b&gt;&lt;font color="#000000"&gt;println&lt;/font&gt;&lt;/b&gt;&lt;font color="#990000"&gt;(&lt;/font&gt; &lt;font color="#FF0000"&gt;"&lt;/font&gt;&lt;font color="#CC33CC"&gt;\t&lt;/font&gt;&lt;font color="#FF0000"&gt;http://www.lorenzobettini.it"&lt;/font&gt; &lt;font color="#990000"&gt;)&lt;/font&gt; &lt;font color="#990000"&gt;;&lt;/font&gt;
        &lt;b&gt;&lt;font color="#0000FF"&gt;if&lt;/font&gt;&lt;/b&gt; &lt;font color="#990000"&gt;(&lt;/font&gt;argc &lt;font color="#990000"&gt;&amp;gt;&lt;/font&gt; &lt;font color="#993399"&gt;0&lt;/font&gt;&lt;font color="#990000"&gt;)&lt;/font&gt;
            String param &lt;font color="#990000"&gt;=&lt;/font&gt; argc&lt;font color="#990000"&gt;[&lt;/font&gt;&lt;font color="#993399"&gt;0&lt;/font&gt;&lt;font color="#990000"&gt;];&lt;/font&gt;
        &lt;i&gt;&lt;font color="#9A1900"&gt;//System.out.println( "bye bye... :-D" ) ; // see you soon&lt;/font&gt;&lt;/i&gt;
    &lt;font color="#FF0000"&gt;}&lt;/font&gt;
&lt;font color="#FF0000"&gt;}&lt;/font&gt;
&lt;/tt&gt;&lt;/pre&gt;
&lt;!--FOOTSTART--&gt; 
&lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;/center&gt;
&lt;p&gt;&lt;hr&gt;&lt;p&gt;
&lt;!--FOOTEND--&gt; 
&lt;/body&gt;
&lt;/html&gt;

&lt;!-- this is an
     added HTML comment
     at the end of the file --&gt;
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_comment">/*</span>
<span class="sh_comment"> * test for haxe</span>
<span class="sh_comment"> */</span>
<span class="sh_preproc">import</span> Math<span class="sh_symbol">;</span>
<span class="sh_keyword">class</span> <span class="sh_classname">ShuffleBag</span><span class="sh_cbracket">{</span>
    <span class="sh_keyword">var</span> data<span class="sh_symbol">:</span>Array<span class="sh_symbol">&lt;</span><span class="sh_type">Int</span><span class="sh_symbol">&gt;;</span>
    <span class="sh_keyword">var</span> cursor<span class="sh_symbol">:</span><span class="sh_type">Int</span><span class="sh_symbol">;</span>
    <span class="sh_comment">//c'tor</span>
    <span class="sh_keyword">public</span> <span class="sh_keyword">function</span> <span class="sh_keyword">new</span><span class="sh_symbol">()</span><span class="sh_cbracket">{</span>
        data<span class="sh_symbol">=[];</span>
        cursor<span class="sh_symbol">=-</span><span class="sh_number">1</span><span class="sh_symbol">;</span>

        <span class="sh_comment">//pointless preprocessor tests :)</span>
<span class="sh_preproc">        #if neko</span> <span class="sh_comment">//nya :3</span>
            <span class="sh_function">trace</span><span class="sh_symbol">(</span><span class="sh_string">"neko"</span><span class="sh_symbol">);</span>
<span class="sh_preproc">        #else flash9</span><span class="sh_comment">//no space</span>
            <span class="sh_function">trace</span><span class="sh_symbol">(</span><span class="sh_string">"flash9"</span><span class="sh_symbol">);</span>
<span class="sh_preproc">        #end</span> <span class="sh_comment">//foo</span>
        
<span class="sh_preproc">        #if flash8</span>
            <span class="sh_function">trace</span><span class="sh_symbol">(</span><span class="sh_string">"flash8"</span><span class="sh_symbol">);</span>
<span class="sh_preproc">        #end</span><span class="sh_comment">//no space</span>
    <span class="sh_cbracket">}</span>
    <span class="sh_comment">//add one or several item(s)</span>
    <span class="sh_keyword">public</span> <span class="sh_keyword">function</span> <span class="sh_function">add</span><span class="sh_symbol">(</span>item<span class="sh_symbol">:</span><span class="sh_type">Int</span><span class="sh_symbol">,?</span>quantity<span class="sh_symbol">:</span><span class="sh_type">Int</span><span class="sh_symbol">)</span><span class="sh_cbracket">{</span>
        <span class="sh_keyword">if</span><span class="sh_symbol">(</span>quantity<span class="sh_symbol">==</span><span class="sh_keyword">null</span><span class="sh_symbol">)</span><span class="sh_cbracket">{</span>
            data<span class="sh_symbol">.</span><span class="sh_function">push</span><span class="sh_symbol">(</span>item<span class="sh_symbol">);</span>
        <span class="sh_cbracket">}</span><span class="sh_keyword">else</span><span class="sh_cbracket">{</span>
            <span class="sh_keyword">for</span><span class="sh_symbol">(</span>i <span class="sh_keyword">in</span> <span class="sh_number">0</span><span class="sh_symbol">...</span>quantity<span class="sh_symbol">)</span>
                data<span class="sh_symbol">.</span><span class="sh_function">push</span><span class="sh_symbol">(</span>item<span class="sh_symbol">);</span>
        <span class="sh_cbracket">}</span>
        cursor<span class="sh_symbol">=</span>data<span class="sh_symbol">.</span>length <span class="sh_symbol">-</span> <span class="sh_number">1</span><span class="sh_symbol">;</span>
    <span class="sh_cbracket">}</span>
    <span class="sh_comment">//returns the next item in the bag</span>
    <span class="sh_keyword">public</span> <span class="sh_keyword">function</span> <span class="sh_function">next</span><span class="sh_symbol">()</span><span class="sh_cbracket">{</span>
        <span class="sh_keyword">if</span><span class="sh_symbol">(</span>cursor<span class="sh_symbol">&lt;</span><span class="sh_number">1</span><span class="sh_symbol">)</span><span class="sh_cbracket">{</span>
            cursor<span class="sh_symbol">=</span>data<span class="sh_symbol">.</span>length <span class="sh_symbol">-</span> <span class="sh_number">1</span><span class="sh_symbol">;</span>
            <span class="sh_keyword">return</span> data<span class="sh_symbol">[</span><span class="sh_number">0</span><span class="sh_symbol">];</span>
        <span class="sh_cbracket">}</span>
        <span class="sh_keyword">var</span> grab<span class="sh_symbol">:</span><span class="sh_type">Int</span><span class="sh_symbol">=</span>Math<span class="sh_symbol">.</span><span class="sh_function">floor</span><span class="sh_symbol">(</span>Math<span class="sh_symbol">.</span><span class="sh_function">random</span><span class="sh_symbol">()*(</span>cursor <span class="sh_symbol">+</span> <span class="sh_number">1</span><span class="sh_symbol">));</span>
        <span class="sh_keyword">var</span> temp<span class="sh_symbol">:</span><span class="sh_type">Int</span><span class="sh_symbol">=</span>data<span class="sh_symbol">[</span>grab<span class="sh_symbol">];</span>
        data<span class="sh_symbol">[</span>grab<span class="sh_symbol">]=</span>data<span class="sh_symbol">[</span>cursor<span class="sh_symbol">];</span>
        data<span class="sh_symbol">[</span>cursor<span class="sh_symbol">]=</span>temp<span class="sh_symbol">;</span>
        cursor<span class="sh_symbol">--;</span>
        <span class="sh_keyword">return</span> temp<span class="sh_symbol">;</span>
    <span class="sh_cbracket">}</span>
<span class="sh_cbracket">}</span></pre>
</td>
<td><pre class="sh_haxe">/*
 * test for haxe
 */
import Math;
class ShuffleBag{
    var data:Array&lt;Int&gt;;
    var cursor:Int;
    //c'tor
    public function new(){
        data=[];
        cursor=-1;

        //pointless preprocessor tests :)
        #if neko //nya :3
            trace("neko");
        #else flash9//no space
            trace("flash9");
        #end //foo
        
        #if flash8
            trace("flash8");
        #end//no space
    }
    //add one or several item(s)
    public function add(item:Int,?quantity:Int){
        if(quantity==null){
            data.push(item);
        }else{
            for(i in 0...quantity)
                data.push(item);
        }
        cursor=data.length - 1;
    }
    //returns the next item in the bag
    public function next(){
        if(cursor&lt;1){
            cursor=data.length - 1;
            return data[0];
        }
        var grab:Int=Math.floor(Math.random()*(cursor + 1));
        var temp:Int=data[grab];
        data[grab]=data[cursor];
        data[cursor]=temp;
        cursor--;
        return temp;
    }
}</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_comment">/*</span>
<span class="sh_comment">  This is a classical Hello program</span>
<span class="sh_comment">  to test source-highlight with Java programs.</span>
<span class="sh_comment">  </span>
<span class="sh_comment">  to have an html translation type</span>

<span class="sh_comment">	source-highlight -s java -f html --input Hello.java --output Hello.html</span>
<span class="sh_comment">	source-highlight -s java -f html &lt; Hello.java &gt; Hello.html</span>

<span class="sh_comment">  or type source-highlight --help for the list of options</span>

<span class="sh_comment">  written by</span>
<span class="sh_comment">  Lorenzo Bettini</span>
<span class="sh_comment">  </span><span class="sh_url">http://www.lorenzobettini.it</span>
<span class="sh_comment">  </span><span class="sh_url">http://www.gnu.org/software/src-highlite</span>
<span class="sh_comment">*/</span>

<span class="sh_preproc">package</span> hello<span class="sh_symbol">;</span>

<span class="sh_preproc">import</span> java<span class="sh_symbol">.</span>io<span class="sh_symbol">.*</span> <span class="sh_symbol">;</span>

<span class="sh_comment">/**</span>
<span class="sh_comment"> * </span><span class="sh_keyword">&lt;p&gt;</span>
<span class="sh_comment"> * A simple Hello World class, used to demonstrate some</span>
<span class="sh_comment"> * features of Java source highlighting.</span>
<span class="sh_comment"> * </span><span class="sh_keyword">&lt;/p&gt;</span>
<span class="sh_comment"> * </span><span class="sh_todo">TODO:</span><span class="sh_comment"> nothing, just to show an highlighted </span><span class="sh_todo">TODO</span><span class="sh_comment"> or </span><span class="sh_todo">FIXME</span>
<span class="sh_comment"> *</span>
<span class="sh_comment"> * </span><span class="sh_type">@author</span><span class="sh_comment"> Lorenzo Bettini</span>
<span class="sh_comment"> * </span><span class="sh_type">@version</span><span class="sh_comment"> 2.0</span>
<span class="sh_comment"> */</span>
<span class="sh_keyword">public</span> <span class="sh_keyword">class</span> <span class="sh_classname">Hello</span> <span class="sh_cbracket">{</span>
    <span class="sh_type">int</span> foo <span class="sh_symbol">=</span> <span class="sh_number">1998</span> <span class="sh_symbol">;</span>
    <span class="sh_type">int</span> hex_foo <span class="sh_symbol">=</span> <span class="sh_number">0xCAFEBABE</span><span class="sh_symbol">;</span>
    <span class="sh_type">boolean</span> b <span class="sh_symbol">=</span> <span class="sh_keyword">false</span><span class="sh_symbol">;</span>
    <span class="sh_usertype">Integer</span> i <span class="sh_symbol">=</span> <span class="sh_keyword">null</span> <span class="sh_symbol">;</span>
    <span class="sh_type">char</span> c <span class="sh_symbol">=</span> <span class="sh_string">'</span><span class="sh_specialchar">\'</span><span class="sh_string">'</span><span class="sh_symbol">,</span> d <span class="sh_symbol">=</span> <span class="sh_string">'n'</span><span class="sh_symbol">,</span> e <span class="sh_symbol">=</span> <span class="sh_string">'</span><span class="sh_specialchar">\\</span><span class="sh_string">'</span> <span class="sh_symbol">;</span>
    <span class="sh_usertype">String</span> xml <span class="sh_symbol">=</span> <span class="sh_string">"&lt;tag attr=</span><span class="sh_specialchar">\"</span><span class="sh_string">value</span><span class="sh_specialchar">\"</span><span class="sh_string">&gt;&amp;auml;&lt;/tag&gt;"</span><span class="sh_symbol">,</span> foo2 <span class="sh_symbol">=</span> <span class="sh_string">"</span><span class="sh_specialchar">\\</span><span class="sh_string">"</span> <span class="sh_symbol">;</span>
    
    <span class="sh_keyword">public</span> <span class="sh_keyword">static</span> <span class="sh_type">void</span> <span class="sh_function">main</span><span class="sh_symbol">(</span> <span class="sh_usertype">String</span> args<span class="sh_symbol">[]</span> <span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
	<span class="sh_comment">// just some greetings ;-)  /*</span>
	System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span> <span class="sh_string">"Hello from java2html :-)"</span> <span class="sh_symbol">)</span> <span class="sh_symbol">;</span>
	System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span> <span class="sh_string">"</span><span class="sh_specialchar">\t</span><span class="sh_string">by Lorenzo Bettini"</span> <span class="sh_symbol">)</span> <span class="sh_symbol">;</span>
	System<span class="sh_symbol">.</span>out<span class="sh_symbol">.</span><span class="sh_function">println</span><span class="sh_symbol">(</span> <span class="sh_string">"</span><span class="sh_specialchar">\t</span><span class="sh_string">http://www.lorenzobettini.it"</span> <span class="sh_symbol">)</span> <span class="sh_symbol">;</span>
        <span class="sh_keyword">if</span> <span class="sh_symbol">(</span>argc <span class="sh_symbol">&gt;</span> <span class="sh_number">0</span><span class="sh_symbol">)</span>
            <span class="sh_usertype">String</span> param <span class="sh_symbol">=</span> argc<span class="sh_symbol">[</span><span class="sh_number">0</span><span class="sh_symbol">];</span>
        <span class="sh_comment">//System.out.println( "bye bye... :-D" ) ; // see you soon</span>
    <span class="sh_cbracket">}</span>
<span class="sh_cbracket">}</span>
</pre>
</td>
<td><pre class="sh_java">/*
  This is a classical Hello program
  to test source-highlight with Java programs.
  
  to have an html translation type

	source-highlight -s java -f html --input Hello.java --output Hello.html
	source-highlight -s java -f html &lt; Hello.java &gt; Hello.html

  or type source-highlight --help for the list of options

  written by
  Lorenzo Bettini
  http://www.lorenzobettini.it
  http://www.gnu.org/software/src-highlite
*/

package hello;

import java.io.* ;

/**
 * &lt;p&gt;
 * A simple Hello World class, used to demonstrate some
 * features of Java source highlighting.
 * &lt;/p&gt;
 * TODO: nothing, just to show an highlighted TODO or FIXME
 *
 * @author Lorenzo Bettini
 * @version 2.0
 */
public class Hello {
    int foo = 1998 ;
    int hex_foo = 0xCAFEBABE;
    boolean b = false;
    Integer i = null ;
    char c = '\'', d = 'n', e = '\\' ;
    String xml = "&lt;tag attr=\"value\"&gt;&amp;auml;&lt;/tag&gt;", foo2 = "\\" ;
    
    public static void main( String args[] ) {
	// just some greetings ;-)  /*
	System.out.println( "Hello from java2html :-)" ) ;
	System.out.println( "\tby Lorenzo Bettini" ) ;
	System.out.println( "\thttp://www.lorenzobettini.it" ) ;
        if (argc &gt; 0)
            String param = argc[0];
        //System.out.println( "bye bye... :-D" ) ; // see you soon
    }
}
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode">
<span class="sh_comment">/*</span>
<span class="sh_comment">* Sarissa XML library v 0.9 beta 4</span>
<span class="sh_comment">* Author: Manos Batsis, mailto: </span><span class="sh_url">mbatsis@netsmart.gr</span>
<span class="sh_comment">*</span>
<span class="sh_comment">* This source code is distributed under the GNU GPL version 2 (see sarissa_license_gpl.txt) or higher, if </span>
<span class="sh_comment">* a more recent version has been released.</span>
<span class="sh_comment">* In case your copy of Sarissa does not include a copy of the license, you may find it online at </span>
<span class="sh_comment">* </span><span class="sh_url">http://www.gnu.org/copyleft/gpl.html</span>
<span class="sh_comment">*/</span>

<span class="sh_comment">// some basic browser detection</span>
<span class="sh_keyword">var</span> _SARISSA_IS_IE <span class="sh_symbol">=</span> <span class="sh_symbol">(</span>navigator<span class="sh_symbol">.</span>userAgent<span class="sh_symbol">.</span><span class="sh_function">toLowerCase</span><span class="sh_symbol">().</span><span class="sh_function">indexOf</span><span class="sh_symbol">(</span><span class="sh_string">"msie"</span><span class="sh_symbol">)</span> <span class="sh_symbol">&gt;</span> <span class="sh_symbol">-</span><span class="sh_number">1</span><span class="sh_symbol">)?</span><span class="sh_keyword">true</span><span class="sh_symbol">:</span><span class="sh_keyword">false</span><span class="sh_symbol">;</span>
<span class="sh_keyword">var</span> _SARISSA_IS_MOZ <span class="sh_symbol">=</span> <span class="sh_symbol">(</span>document<span class="sh_symbol">.</span>implementation <span class="sh_symbol">&amp;&amp;</span> document<span class="sh_symbol">.</span>implementation<span class="sh_symbol">.</span>createDocument<span class="sh_symbol">)?</span><span class="sh_keyword">true</span><span class="sh_symbol">:</span><span class="sh_keyword">false</span><span class="sh_symbol">;</span>
<span class="sh_keyword">var</span> _sarissa_iNsCounter <span class="sh_symbol">=</span> <span class="sh_number">0</span><span class="sh_symbol">;</span>
<span class="sh_keyword">var</span> _SARISSA_IEPREFIX4XSLPARAM <span class="sh_symbol">=</span> <span class="sh_string">""</span><span class="sh_symbol">;</span>
<span class="sh_keyword">if</span> <span class="sh_symbol">(</span>_SARISSA_IS_MOZ<span class="sh_symbol">)</span>
<span class="sh_cbracket">{</span>
	<span class="sh_comment">//============================================</span>
	<span class="sh_comment">// Section: Factory methods for Moz</span>
	<span class="sh_comment">//============================================</span>
	<span class="sh_comment">// @param sUri the namespace of the root node (if any)</span>
	<span class="sh_comment">// @param sUri the local name of the root node (if any)</span>
	<span class="sh_comment">// @return a DOM Document</span>
	Sarissa<span class="sh_symbol">.</span>getDomDocument <span class="sh_symbol">=</span> <span class="sh_keyword">function</span><span class="sh_symbol">(</span>sUri<span class="sh_symbol">,</span> sName<span class="sh_symbol">)</span>
	<span class="sh_cbracket">{</span>
		<span class="sh_keyword">var</span> oDoc <span class="sh_symbol">=</span> document<span class="sh_symbol">.</span>implementation<span class="sh_symbol">.</span><span class="sh_function">createDocument</span><span class="sh_symbol">(</span>sUri<span class="sh_symbol">,</span> sName<span class="sh_symbol">,</span> <span class="sh_keyword">null</span><span class="sh_symbol">);</span>
		oDoc<span class="sh_symbol">.</span><span class="sh_function">addEventListener</span><span class="sh_symbol">(</span><span class="sh_string">"load"</span><span class="sh_symbol">,</span> _sarissa__XMLDocument_onload<span class="sh_symbol">,</span> <span class="sh_keyword">false</span><span class="sh_symbol">);</span>
		<span class="sh_keyword">return</span> oDoc<span class="sh_symbol">;</span>
	<span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
	<span class="sh_comment">// AFAIK, the object behaves exactly like </span>
	<span class="sh_comment">// IE's IXMLHTTPRequest)</span>
	<span class="sh_comment">// @return a XmlHttpRequst object suitable for Moz</span>
	Sarissa<span class="sh_symbol">.</span>getXmlHttpRequest <span class="sh_symbol">=</span> <span class="sh_keyword">function</span><span class="sh_symbol">()</span>
	<span class="sh_cbracket">{</span>
		<span class="sh_keyword">return</span> <span class="sh_keyword">new</span> <span class="sh_function">XMLHttpRequest</span><span class="sh_symbol">();</span>
	<span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
	<span class="sh_comment">//============================================</span>
	<span class="sh_comment">// Section: utility functions for internal use</span>
	<span class="sh_comment">//============================================</span>
	<span class="sh_comment">// Attached by an event handler to the load event.</span>
	<span class="sh_keyword">function</span> <span class="sh_function">_sarissa__XMLDocument_onload</span><span class="sh_symbol">()</span>
	<span class="sh_cbracket">{</span>
		<span class="sh_function">_sarissa_loadHandler</span><span class="sh_symbol">(</span><span class="sh_keyword">this</span><span class="sh_symbol">);</span>
	<span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
	<span class="sh_comment">// Ensures the document was loaded correctly, otherwise sets the parseError to -1</span>
	<span class="sh_comment">// to indicate something went wrong.</span>
	<span class="sh_keyword">function</span> <span class="sh_function">_sarissa_loadHandler</span><span class="sh_symbol">(</span>oDoc<span class="sh_symbol">)</span>
	<span class="sh_cbracket">{</span>
		<span class="sh_keyword">if</span> <span class="sh_symbol">(!</span>oDoc<span class="sh_symbol">.</span>documentElement <span class="sh_symbol">||</span> oDoc<span class="sh_symbol">.</span>documentElement<span class="sh_symbol">.</span>tagName <span class="sh_symbol">==</span> <span class="sh_string">"parsererror"</span><span class="sh_symbol">)</span>
			oDoc<span class="sh_symbol">.</span>parseError <span class="sh_symbol">=</span> <span class="sh_symbol">-</span><span class="sh_number">1</span><span class="sh_symbol">;</span>
		<span class="sh_function">_sarissa_setReadyState</span><span class="sh_symbol">(</span>oDoc<span class="sh_symbol">,</span> <span class="sh_number">4</span><span class="sh_symbol">);</span>
	<span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
	<span class="sh_comment">// Sets the readyState property</span>
	<span class="sh_keyword">function</span> <span class="sh_function">_sarissa_setReadyState</span><span class="sh_symbol">(</span>oDoc<span class="sh_symbol">,</span> iReadyState<span class="sh_symbol">)</span> 
	<span class="sh_cbracket">{</span>
		oDoc<span class="sh_symbol">.</span>readyState <span class="sh_symbol">=</span> iReadyState<span class="sh_symbol">;</span>
		<span class="sh_keyword">if</span> <span class="sh_symbol">(</span>oDoc<span class="sh_symbol">.</span>onreadystatechange <span class="sh_symbol">!=</span> <span class="sh_keyword">null</span> <span class="sh_symbol">&amp;&amp;</span> <span class="sh_keyword">typeof</span> oDoc<span class="sh_symbol">.</span>onreadystatechange <span class="sh_symbol">==</span> <span class="sh_string">"function"</span><span class="sh_symbol">)</span>
			oDoc<span class="sh_symbol">.</span><span class="sh_function">onreadystatechange</span><span class="sh_symbol">();</span>
	<span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
	
	XMLDocument<span class="sh_symbol">.</span><span class="sh_keyword">prototype</span><span class="sh_symbol">.</span>_sarissa_clearDOM <span class="sh_symbol">=</span> <span class="sh_keyword">function</span><span class="sh_symbol">()</span>
	<span class="sh_cbracket">{</span>
		<span class="sh_keyword">while</span><span class="sh_symbol">(</span><span class="sh_keyword">this</span><span class="sh_symbol">.</span><span class="sh_function">hasChildNodes</span><span class="sh_symbol">())</span>
			<span class="sh_keyword">this</span><span class="sh_symbol">.</span><span class="sh_function">removeChild</span><span class="sh_symbol">(</span><span class="sh_keyword">this</span><span class="sh_symbol">.</span>firstChild<span class="sh_symbol">);</span>
	<span class="sh_cbracket">}</span>
	<span class="sh_comment">// Replaces the contents of the object with the contents of </span>
	<span class="sh_comment">// the object given as the parameter</span>
	XMLDocument<span class="sh_symbol">.</span><span class="sh_keyword">prototype</span><span class="sh_symbol">.</span>_sarissa_copyDOM <span class="sh_symbol">=</span> <span class="sh_keyword">function</span><span class="sh_symbol">(</span>oDoc<span class="sh_symbol">)</span>
	<span class="sh_cbracket">{</span>
		<span class="sh_keyword">this</span><span class="sh_symbol">.</span><span class="sh_function">_sarissa_clearDOM</span><span class="sh_symbol">();</span>
		<span class="sh_comment">// importNode is not yet needed in Moz due to a bug but it will be </span>
		<span class="sh_comment">// fixed so...</span>
            <span class="sh_keyword">var</span> oNodes <span class="sh_symbol">=</span> oDoc<span class="sh_symbol">.</span>childNodes<span class="sh_symbol">;</span>
            <span class="sh_keyword">for</span><span class="sh_symbol">(</span>i<span class="sh_symbol">=</span><span class="sh_number">0</span><span class="sh_symbol">;</span>i<span class="sh_symbol">&lt;</span>oNodes<span class="sh_symbol">.</span>length<span class="sh_symbol">;</span>i<span class="sh_symbol">++)</span>
                  <span class="sh_keyword">this</span><span class="sh_symbol">.</span><span class="sh_function">appendChild</span><span class="sh_symbol">(</span><span class="sh_keyword">this</span><span class="sh_symbol">.</span><span class="sh_function">importNode</span><span class="sh_symbol">(</span>oNodes<span class="sh_symbol">[</span>i<span class="sh_symbol">],</span> <span class="sh_keyword">true</span><span class="sh_symbol">));</span>
	<span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
	<span class="sh_keyword">var</span> _SARISSA_WSMULT <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_predef_func">RegExp</span><span class="sh_symbol">(</span><span class="sh_string">"^</span><span class="sh_specialchar">\\</span><span class="sh_string">s*|</span><span class="sh_specialchar">\\</span><span class="sh_string">s*$"</span><span class="sh_symbol">,</span> <span class="sh_string">"g"</span><span class="sh_symbol">);</span>
	<span class="sh_keyword">var</span> _SARISSA_WSENDS <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_predef_func">RegExp</span><span class="sh_symbol">(</span><span class="sh_string">"</span><span class="sh_specialchar">\\</span><span class="sh_string">s</span><span class="sh_specialchar">\\</span><span class="sh_string">s+"</span><span class="sh_symbol">,</span> <span class="sh_string">"g"</span><span class="sh_symbol">);</span>
	<span class="sh_keyword">function</span> <span class="sh_function">_sarissa_normalizeText</span><span class="sh_symbol">(</span>sIn<span class="sh_symbol">)</span>
	<span class="sh_cbracket">{</span>
		<span class="sh_keyword">return</span> sIn<span class="sh_symbol">.</span><span class="sh_function">replace</span><span class="sh_symbol">(</span>_SARISSA_WSENDS<span class="sh_symbol">,</span> <span class="sh_string">" "</span><span class="sh_symbol">).</span><span class="sh_function">replace</span><span class="sh_symbol">(</span>_SARISSA_WSMULT<span class="sh_symbol">,</span> <span class="sh_string">" "</span><span class="sh_symbol">);</span>
	<span class="sh_cbracket">}</span>
	<span class="sh_comment">//============================================</span>
	<span class="sh_comment">// Section: Extending Mozilla's DOM implementation </span>
	<span class="sh_comment">// to emulate IE extentions</span>
	<span class="sh_comment">//============================================</span>
	<span class="sh_comment">// Parses the String given as parameter to build the document content</span>
	<span class="sh_comment">// for the object, exactly like IE's loadXML().</span>
	<span class="sh_comment">// @return the old contents serialized to String (xml)</span>
	XMLDocument<span class="sh_symbol">.</span><span class="sh_keyword">prototype</span><span class="sh_symbol">.</span>loadXML <span class="sh_symbol">=</span> <span class="sh_keyword">function</span><span class="sh_symbol">(</span>strXML<span class="sh_symbol">)</span> 
	<span class="sh_cbracket">{</span>
		<span class="sh_function">_sarissa_setReadyState</span><span class="sh_symbol">(</span><span class="sh_keyword">this</span><span class="sh_symbol">,</span> <span class="sh_number">1</span><span class="sh_symbol">);</span>
		<span class="sh_keyword">var</span> sOldXML <span class="sh_symbol">=</span> <span class="sh_keyword">this</span><span class="sh_symbol">.</span>xml<span class="sh_symbol">;</span>
		<span class="sh_keyword">var</span> oDoc <span class="sh_symbol">=</span> <span class="sh_symbol">(</span><span class="sh_keyword">new</span> <span class="sh_function">DOMParser</span><span class="sh_symbol">()).</span><span class="sh_function">parseFromString</span><span class="sh_symbol">(</span>strXML<span class="sh_symbol">,</span> <span class="sh_string">"text/xml"</span><span class="sh_symbol">);</span>
		<span class="sh_function">_sarissa_setReadyState</span><span class="sh_symbol">(</span><span class="sh_keyword">this</span><span class="sh_symbol">,</span> <span class="sh_number">2</span><span class="sh_symbol">);</span>
		<span class="sh_keyword">this</span><span class="sh_symbol">.</span><span class="sh_function">_sarissa_copyDOM</span><span class="sh_symbol">(</span>oDoc<span class="sh_symbol">);</span>
		<span class="sh_function">_sarissa_setReadyState</span><span class="sh_symbol">(</span><span class="sh_keyword">this</span><span class="sh_symbol">,</span> <span class="sh_number">3</span><span class="sh_symbol">);</span>
		<span class="sh_function">_sarissa_loadHandler</span><span class="sh_symbol">(</span><span class="sh_keyword">this</span><span class="sh_symbol">);</span>
		<span class="sh_keyword">return</span> sOldXML<span class="sh_symbol">;</span>
	<span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
	<span class="sh_comment">// Emulates IE's xml property. Gives an XML serialization of the DOM Object</span>
    XMLDocument<span class="sh_symbol">.</span><span class="sh_keyword">prototype</span><span class="sh_symbol">.</span><span class="sh_function">__defineGetter__</span><span class="sh_symbol">(</span><span class="sh_string">"xml"</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">()</span>
	<span class="sh_cbracket">{</span>
		<span class="sh_keyword">return</span> <span class="sh_symbol">(</span><span class="sh_keyword">new</span> <span class="sh_function">XMLSerializer</span><span class="sh_symbol">()).</span><span class="sh_function">serializeToString</span><span class="sh_symbol">(</span><span class="sh_keyword">this</span><span class="sh_symbol">);</span>
	<span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
	<span class="sh_comment">// Emulates IE's xml property. Gives an XML serialization of the DOM Object</span>
    Node<span class="sh_symbol">.</span><span class="sh_keyword">prototype</span><span class="sh_symbol">.</span><span class="sh_function">__defineGetter__</span><span class="sh_symbol">(</span><span class="sh_string">"xml"</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">()</span>
	<span class="sh_cbracket">{</span>
		<span class="sh_keyword">return</span> <span class="sh_symbol">(</span><span class="sh_keyword">new</span> <span class="sh_function">XMLSerializer</span><span class="sh_symbol">()).</span><span class="sh_function">serializeToString</span><span class="sh_symbol">(</span><span class="sh_keyword">this</span><span class="sh_symbol">);</span>
	<span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
	<span class="sh_comment">// Ensures and informs the xml property is read only</span>
	XMLDocument<span class="sh_symbol">.</span><span class="sh_keyword">prototype</span><span class="sh_symbol">.</span><span class="sh_function">__defineSetter__</span><span class="sh_symbol">(</span><span class="sh_string">"xml"</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">()</span>
	<span class="sh_cbracket">{</span>
		<span class="sh_keyword">throw</span> <span class="sh_string">"Invalid assignment on read-only property 'xml'. Hint: Use the 'loadXML(String xml)' method instead. (original exception: "</span><span class="sh_symbol">+</span>e<span class="sh_symbol">+</span><span class="sh_string">")"</span><span class="sh_symbol">;</span>
	<span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
	<span class="sh_comment">// Emulates IE's innerText (write). Note that this removes all childNodes of </span>
	<span class="sh_comment">// an Element and just replaces it with a textNode</span>
	HTMLElement<span class="sh_symbol">.</span><span class="sh_keyword">prototype</span><span class="sh_symbol">.</span><span class="sh_function">__defineSetter__</span><span class="sh_symbol">(</span><span class="sh_string">"innerText"</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">(</span>sText<span class="sh_symbol">)</span>
	<span class="sh_cbracket">{</span>
		<span class="sh_keyword">var</span> s <span class="sh_symbol">=</span> <span class="sh_string">""</span> <span class="sh_symbol">+</span> sText<span class="sh_symbol">;</span>
		<span class="sh_keyword">this</span><span class="sh_symbol">.</span>innerHTML <span class="sh_symbol">=</span> s<span class="sh_symbol">.</span><span class="sh_function">replace</span><span class="sh_symbol">(</span><span class="sh_regexp">/\&amp;/g</span><span class="sh_symbol">,</span> <span class="sh_string">"&amp;amp;"</span><span class="sh_symbol">).</span><span class="sh_function">replace</span><span class="sh_symbol">(</span><span class="sh_regexp">/&lt;/g</span><span class="sh_symbol">,</span> <span class="sh_string">"&amp;lt;"</span><span class="sh_symbol">).</span><span class="sh_function">replace</span><span class="sh_symbol">(</span><span class="sh_regexp">/&gt;/g</span><span class="sh_symbol">,</span> <span class="sh_string">"&amp;gt;"</span><span class="sh_symbol">);</span>
	<span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
	<span class="sh_comment">// Emulate IE's innerText (read). Gives the concatenation of all text nodes under the Element</span>
	HTMLElement<span class="sh_symbol">.</span><span class="sh_keyword">prototype</span><span class="sh_symbol">.</span><span class="sh_function">__defineGetter__</span><span class="sh_symbol">(</span><span class="sh_string">"innerText"</span><span class="sh_symbol">,</span> <span class="sh_keyword">function</span> <span class="sh_symbol">()</span>
	<span class="sh_cbracket">{</span>
		<span class="sh_keyword">return</span> <span class="sh_function">_sarissa_normalizeText</span><span class="sh_symbol">(</span><span class="sh_keyword">this</span><span class="sh_symbol">.</span>innerHTML<span class="sh_symbol">.</span><span class="sh_function">replace</span><span class="sh_symbol">(</span><span class="sh_regexp">/&lt;[^&gt;]+&gt;/g</span><span class="sh_symbol">,</span><span class="sh_string">""</span><span class="sh_symbol">));</span>
	<span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
	<span class="sh_comment">// Emulate IE's onreadystatechange attribute </span>
	<span class="sh_comment">// used as a listener to the onreadystatechange event (also emulated)</span>
    Document<span class="sh_symbol">.</span><span class="sh_keyword">prototype</span><span class="sh_symbol">.</span>onreadystatechange <span class="sh_symbol">=</span> <span class="sh_keyword">null</span><span class="sh_symbol">;</span>
    <span class="sh_comment">// Emulate IE's parseError attribute</span>
    Document<span class="sh_symbol">.</span><span class="sh_keyword">prototype</span><span class="sh_symbol">.</span>parseError <span class="sh_symbol">=</span> <span class="sh_number">0</span><span class="sh_symbol">;</span>
	<span class="sh_comment">// Emulates IE's readyState property, which always gives an integer from 0 to 4:</span>
	<span class="sh_comment">// 1 == LOADING</span>
	<span class="sh_comment">// 2 == LOADED</span>
	<span class="sh_comment">// 3 == INTERACTIVE</span>
	<span class="sh_comment">// 4 == COMPLETED </span>
    XMLDocument<span class="sh_symbol">.</span><span class="sh_keyword">prototype</span><span class="sh_symbol">.</span>readyState <span class="sh_symbol">=</span> <span class="sh_number">0</span><span class="sh_symbol">;</span>
	<span class="sh_comment">// Emulates IE's async property. It controls whether loading of </span>
	<span class="sh_comment">// remote XML files works synchronously or asynchronously.</span>
	<span class="sh_comment">// NOTE: setting async to false will only work with documents </span>
	<span class="sh_comment">// called over HTTP (meaning a server), not the local file system,</span>
	<span class="sh_comment">// unless you are using Moz 1.4.</span>
	<span class="sh_comment">// BTW the try&gt;catch block is for 1.4; I haven't found a way to check if the property is implemented without </span>
	<span class="sh_comment">// causing an error and I dont want to use user agent stuff for that...</span>
	<span class="sh_keyword">try</span><span class="sh_cbracket">{</span>
		XMLDocument<span class="sh_symbol">.</span><span class="sh_keyword">prototype</span><span class="sh_symbol">.</span>async <span class="sh_symbol">=</span> <span class="sh_keyword">true</span><span class="sh_symbol">;</span>
	<span class="sh_cbracket">}</span><span class="sh_keyword">catch</span><span class="sh_symbol">(</span>e<span class="sh_symbol">)</span><span class="sh_cbracket">{</span><span class="sh_comment">/*trap*/</span><span class="sh_cbracket">}</span>
	<span class="sh_comment">// Keeps a handle to the original load() method</span>
	XMLDocument<span class="sh_symbol">.</span><span class="sh_keyword">prototype</span><span class="sh_symbol">.</span>_sarissa_load <span class="sh_symbol">=</span> XMLDocument<span class="sh_symbol">.</span><span class="sh_keyword">prototype</span><span class="sh_symbol">.</span>load<span class="sh_symbol">;</span>
	<span class="sh_comment">/** Extends the load method to provide synchronous loading</span>
<span class="sh_comment">	* using an XMLHttpRequest object (if async is set to false)</span>
<span class="sh_comment">	* </span><span class="sh_type">@return</span><span class="sh_comment"> the DOM Object as it was before the load() call (may be empty)</span>
<span class="sh_comment">	*/</span>
    XMLDocument<span class="sh_symbol">.</span><span class="sh_keyword">prototype</span><span class="sh_symbol">.</span>load <span class="sh_symbol">=</span> <span class="sh_keyword">function</span><span class="sh_symbol">(</span>sURI<span class="sh_symbol">)</span>
	<span class="sh_cbracket">{</span>
		<span class="sh_keyword">var</span> oDoc <span class="sh_symbol">=</span> document<span class="sh_symbol">.</span>implementation<span class="sh_symbol">.</span><span class="sh_function">createDocument</span><span class="sh_symbol">(</span><span class="sh_string">""</span><span class="sh_symbol">,</span> <span class="sh_string">""</span><span class="sh_symbol">,</span> <span class="sh_keyword">null</span><span class="sh_symbol">);</span>
		oDoc<span class="sh_symbol">.</span><span class="sh_function">_sarissa_copyDOM</span><span class="sh_symbol">(</span><span class="sh_keyword">this</span><span class="sh_symbol">);</span>
		<span class="sh_keyword">this</span><span class="sh_symbol">.</span>parseError <span class="sh_symbol">=</span> <span class="sh_number">0</span><span class="sh_symbol">;</span>
		<span class="sh_function">_sarissa_setReadyState</span><span class="sh_symbol">(</span><span class="sh_keyword">this</span><span class="sh_symbol">,</span> <span class="sh_number">1</span><span class="sh_symbol">);</span>
		<span class="sh_keyword">try</span>
		<span class="sh_cbracket">{</span>
			<span class="sh_keyword">if</span><span class="sh_symbol">(</span><span class="sh_keyword">this</span><span class="sh_symbol">.</span>async <span class="sh_symbol">==</span> <span class="sh_keyword">false</span><span class="sh_symbol">)</span>
			<span class="sh_cbracket">{</span>
				<span class="sh_keyword">var</span> tmp <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">XMLHttpRequest</span><span class="sh_symbol">();</span>
				tmp<span class="sh_symbol">.</span><span class="sh_function">open</span><span class="sh_symbol">(</span><span class="sh_string">"GET"</span><span class="sh_symbol">,</span> sURI<span class="sh_symbol">,</span> <span class="sh_keyword">false</span><span class="sh_symbol">);</span>
				tmp<span class="sh_symbol">.</span><span class="sh_function">overrideMimeType</span><span class="sh_symbol">(</span><span class="sh_string">"text/xml"</span><span class="sh_symbol">);</span>
				tmp<span class="sh_symbol">.</span><span class="sh_function">send</span><span class="sh_symbol">(</span><span class="sh_keyword">null</span><span class="sh_symbol">);</span>
				<span class="sh_function">_sarissa_setReadyState</span><span class="sh_symbol">(</span><span class="sh_keyword">this</span><span class="sh_symbol">,</span> <span class="sh_number">2</span><span class="sh_symbol">);</span>
				<span class="sh_keyword">this</span><span class="sh_symbol">.</span><span class="sh_function">_sarissa_copyDOM</span><span class="sh_symbol">(</span>tmp<span class="sh_symbol">.</span>responseXML<span class="sh_symbol">);</span>
				<span class="sh_function">_sarissa_setReadyState</span><span class="sh_symbol">(</span><span class="sh_keyword">this</span><span class="sh_symbol">,</span> <span class="sh_number">3</span><span class="sh_symbol">);</span>
			<span class="sh_cbracket">}</span>
			<span class="sh_keyword">else</span>
				<span class="sh_keyword">this</span><span class="sh_symbol">.</span><span class="sh_function">_sarissa_load</span><span class="sh_symbol">(</span>sURI<span class="sh_symbol">);</span>
		<span class="sh_cbracket">}</span>
		<span class="sh_keyword">catch</span> <span class="sh_symbol">(</span>objException<span class="sh_symbol">)</span>
		<span class="sh_cbracket">{</span>
			<span class="sh_keyword">this</span><span class="sh_symbol">.</span>parseError <span class="sh_symbol">=</span> <span class="sh_symbol">-</span><span class="sh_number">1</span><span class="sh_symbol">;</span>
		<span class="sh_cbracket">}</span>
		<span class="sh_keyword">finally</span>
		<span class="sh_cbracket">{</span>
			<span class="sh_function">_sarissa_loadHandler</span><span class="sh_symbol">(</span><span class="sh_keyword">this</span><span class="sh_symbol">);</span>
		<span class="sh_cbracket">}</span>
		<span class="sh_keyword">return</span> oDoc<span class="sh_symbol">;</span>
	<span class="sh_cbracket">}</span><span class="sh_symbol">;</span> 
	<span class="sh_comment">// Emulate IE's transformNodeToObject</span>
	Document<span class="sh_symbol">.</span><span class="sh_keyword">prototype</span><span class="sh_symbol">.</span>transformNodeToObject <span class="sh_symbol">=</span> <span class="sh_keyword">function</span><span class="sh_symbol">(</span>xslDoc<span class="sh_symbol">,</span> oResult<span class="sh_symbol">)</span>
	<span class="sh_cbracket">{</span>
		<span class="sh_keyword">var</span> xsltProcessor <span class="sh_symbol">=</span> <span class="sh_keyword">null</span><span class="sh_symbol">;</span>
		<span class="sh_keyword">try</span>
		<span class="sh_cbracket">{</span>
		    xsltProcessor <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">XSLTProcessor</span><span class="sh_symbol">();</span>
		    <span class="sh_keyword">if</span><span class="sh_symbol">(</span>xsltProcessor<span class="sh_symbol">.</span>reset<span class="sh_symbol">)</span>
		    <span class="sh_cbracket">{</span>
				<span class="sh_comment">// new nsIXSLTProcessor is available</span>
				xsltProcessor<span class="sh_symbol">.</span><span class="sh_function">importStylesheet</span><span class="sh_symbol">(</span>xslDoc<span class="sh_symbol">);</span>
				<span class="sh_keyword">var</span> newFragment <span class="sh_symbol">=</span> xsltProcessor<span class="sh_symbol">.</span><span class="sh_function">transformToFragment</span><span class="sh_symbol">(</span><span class="sh_keyword">this</span><span class="sh_symbol">,</span> oResult<span class="sh_symbol">);</span>
				oResult<span class="sh_symbol">.</span><span class="sh_function">_sarissa_copyDOM</span><span class="sh_symbol">(</span>newFragment<span class="sh_symbol">);</span>
            <span class="sh_cbracket">}</span>
            <span class="sh_keyword">else</span>
		    <span class="sh_cbracket">{</span>
				<span class="sh_comment">// only nsIXSLTProcessorObsolete is available</span>
				xsltProcessor<span class="sh_symbol">.</span><span class="sh_function">transformDocument</span><span class="sh_symbol">(</span><span class="sh_keyword">this</span><span class="sh_symbol">,</span> xslDoc<span class="sh_symbol">,</span> oResult<span class="sh_symbol">,</span> <span class="sh_keyword">null</span><span class="sh_symbol">);</span>
            <span class="sh_cbracket">}</span>
		<span class="sh_cbracket">}</span>
		<span class="sh_keyword">catch</span><span class="sh_symbol">(</span>e<span class="sh_symbol">)</span>
		<span class="sh_cbracket">{</span>
			<span class="sh_keyword">if</span><span class="sh_symbol">(</span>xslDoc <span class="sh_symbol">&amp;&amp;</span> oResult<span class="sh_symbol">)</span>
				<span class="sh_keyword">throw</span> <span class="sh_string">"Sarissa_TransformNodeToObjectException: Failed to transform document. (original exception: "</span><span class="sh_symbol">+</span>e<span class="sh_symbol">+</span><span class="sh_string">")"</span><span class="sh_symbol">;</span>
			<span class="sh_keyword">else</span> <span class="sh_keyword">if</span><span class="sh_symbol">(!</span>xslDoc<span class="sh_symbol">)</span>
				<span class="sh_keyword">throw</span> <span class="sh_string">"Sarissa_TransformNodeToObjectException: No Stylesheet Document was provided. (original exception: "</span><span class="sh_symbol">+</span>e<span class="sh_symbol">+</span><span class="sh_string">")"</span><span class="sh_symbol">;</span>
			<span class="sh_keyword">else</span> <span class="sh_keyword">if</span><span class="sh_symbol">(!</span>oResult<span class="sh_symbol">)</span>
				<span class="sh_keyword">throw</span> <span class="sh_string">"Sarissa_TransformNodeToObjectException: No Result Document was provided. (original exception: "</span><span class="sh_symbol">+</span>e<span class="sh_symbol">+</span><span class="sh_string">")"</span><span class="sh_symbol">;</span>
			<span class="sh_keyword">else</span> <span class="sh_keyword">if</span><span class="sh_symbol">(</span>xsltProcessor <span class="sh_symbol">==</span> <span class="sh_keyword">null</span><span class="sh_symbol">)</span>
                            <span class="sh_keyword">throw</span> <span class="sh_string">"Sarissa_XSLTProcessorNotAvailableException: Could not instantiate an XSLTProcessor object. (original exception: "</span><span class="sh_symbol">+</span>e<span class="sh_symbol">+</span><span class="sh_string">")"</span><span class="sh_symbol">;</span>
                        <span class="sh_keyword">else</span>
                            <span class="sh_keyword">throw</span> e<span class="sh_symbol">;</span>
		<span class="sh_cbracket">}</span>
	<span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
	<span class="sh_comment">// Emulate IE's transformNode() method. Gives the result XML serialised to a String</span>
	Document<span class="sh_symbol">.</span><span class="sh_keyword">prototype</span><span class="sh_symbol">.</span>transformNode <span class="sh_symbol">=</span> <span class="sh_keyword">function</span><span class="sh_symbol">(</span>xslDoc<span class="sh_symbol">)</span>
	<span class="sh_cbracket">{</span>
		<span class="sh_keyword">var</span> out <span class="sh_symbol">=</span> document<span class="sh_symbol">.</span>implementation<span class="sh_symbol">.</span><span class="sh_function">createDocument</span><span class="sh_symbol">(</span><span class="sh_string">""</span><span class="sh_symbol">,</span> <span class="sh_string">""</span><span class="sh_symbol">,</span> <span class="sh_keyword">null</span><span class="sh_symbol">);</span>
		<span class="sh_keyword">this</span><span class="sh_symbol">.</span><span class="sh_function">transformNodeToObject</span><span class="sh_symbol">(</span>xslDoc<span class="sh_symbol">,</span> out<span class="sh_symbol">);</span>
		<span class="sh_keyword">var</span> str <span class="sh_symbol">=</span> <span class="sh_keyword">null</span><span class="sh_symbol">;</span>
		<span class="sh_keyword">try</span>
		<span class="sh_cbracket">{</span>
			<span class="sh_keyword">var</span> serializer <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">XMLSerializer</span><span class="sh_symbol">();</span>
			str <span class="sh_symbol">=</span> serializer<span class="sh_symbol">.</span><span class="sh_function">serializeToString</span><span class="sh_symbol">(</span>out<span class="sh_symbol">);</span>
		<span class="sh_cbracket">}</span>
		<span class="sh_keyword">catch</span><span class="sh_symbol">(</span>e<span class="sh_symbol">)</span>
		<span class="sh_cbracket">{</span>
			<span class="sh_keyword">throw</span> <span class="sh_string">"Sarissa_TransformNodeException: Failed to serialize result document. (original exception: "</span><span class="sh_symbol">+</span>e<span class="sh_symbol">+</span><span class="sh_string">")"</span><span class="sh_symbol">;</span>
		<span class="sh_cbracket">}</span>
		<span class="sh_keyword">return</span> str<span class="sh_symbol">;</span>
	<span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
	<span class="sh_comment">// Extend the Array to behave as a NodeList	</span>
	<span class="sh_predef_func">Array</span><span class="sh_symbol">.</span><span class="sh_keyword">prototype</span><span class="sh_symbol">.</span>item <span class="sh_symbol">=</span> <span class="sh_keyword">function</span><span class="sh_symbol">(</span>i<span class="sh_symbol">)</span>
	<span class="sh_cbracket">{</span>
		<span class="sh_keyword">return</span> <span class="sh_keyword">this</span><span class="sh_symbol">[</span>i<span class="sh_symbol">];</span>
	<span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
	<span class="sh_comment">// add IE's expr property</span>
	<span class="sh_predef_func">Array</span><span class="sh_symbol">.</span><span class="sh_keyword">prototype</span><span class="sh_symbol">.</span>expr <span class="sh_symbol">=</span> <span class="sh_string">""</span><span class="sh_symbol">;</span>
    <span class="sh_comment">// dummy, used to accept IE's stuff without throwing errors</span>
	XMLDocument<span class="sh_symbol">.</span><span class="sh_keyword">prototype</span><span class="sh_symbol">.</span>setProperty  <span class="sh_symbol">=</span> <span class="sh_keyword">function</span><span class="sh_symbol">(</span>x<span class="sh_symbol">,</span>y<span class="sh_symbol">)</span><span class="sh_cbracket">{}</span><span class="sh_symbol">;</span>
	<span class="sh_comment">// Emulate IE's selectNodes</span>
	XMLDocument<span class="sh_symbol">.</span><span class="sh_keyword">prototype</span><span class="sh_symbol">.</span>selectNodes <span class="sh_symbol">=</span> <span class="sh_keyword">function</span><span class="sh_symbol">(</span>sExpr<span class="sh_symbol">,</span> contextNode<span class="sh_symbol">)</span>
	<span class="sh_cbracket">{</span>
		<span class="sh_keyword">var</span> oResult <span class="sh_symbol">=</span> <span class="sh_keyword">this</span><span class="sh_symbol">.</span><span class="sh_function">evaluate</span><span class="sh_symbol">(</span>sExpr<span class="sh_symbol">,</span> <span class="sh_symbol">(</span>contextNode<span class="sh_symbol">?</span>contextNode<span class="sh_symbol">:</span><span class="sh_keyword">this</span><span class="sh_symbol">),</span> 
							<span class="sh_keyword">this</span><span class="sh_symbol">.</span><span class="sh_function">createNSResolver</span><span class="sh_symbol">(</span><span class="sh_keyword">this</span><span class="sh_symbol">.</span>documentElement<span class="sh_symbol">),</span>
							XPathResult<span class="sh_symbol">.</span>ORDERED_NODE_SNAPSHOT_TYPE<span class="sh_symbol">,</span> <span class="sh_keyword">null</span><span class="sh_symbol">);</span>
		<span class="sh_keyword">var</span> nodeList <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_predef_func">Array</span><span class="sh_symbol">(</span>oResult<span class="sh_symbol">.</span>snapshotLength<span class="sh_symbol">);</span>
		nodeList<span class="sh_symbol">.</span>expr <span class="sh_symbol">=</span> sExpr<span class="sh_symbol">;</span>
		<span class="sh_keyword">for</span><span class="sh_symbol">(</span>i<span class="sh_symbol">=</span><span class="sh_number">0</span><span class="sh_symbol">;</span>i<span class="sh_symbol">&lt;</span>nodeList<span class="sh_symbol">.</span>length<span class="sh_symbol">;</span>i<span class="sh_symbol">++)</span>
			nodeList<span class="sh_symbol">[</span>i<span class="sh_symbol">]</span> <span class="sh_symbol">=</span> oResult<span class="sh_symbol">.</span><span class="sh_function">snapshotItem</span><span class="sh_symbol">(</span>i<span class="sh_symbol">);</span>
		<span class="sh_keyword">return</span> nodeList<span class="sh_symbol">;</span>
	<span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
	Element<span class="sh_symbol">.</span><span class="sh_keyword">prototype</span><span class="sh_symbol">.</span>selectNodes <span class="sh_symbol">=</span> <span class="sh_keyword">function</span><span class="sh_symbol">(</span>sExpr<span class="sh_symbol">)</span>
	<span class="sh_cbracket">{</span>
		<span class="sh_keyword">var</span> doc <span class="sh_symbol">=</span> <span class="sh_keyword">this</span><span class="sh_symbol">.</span>ownerDocument<span class="sh_symbol">;</span>
		<span class="sh_keyword">if</span><span class="sh_symbol">(</span>doc<span class="sh_symbol">.</span>selectNodes<span class="sh_symbol">)</span>
			<span class="sh_keyword">return</span> doc<span class="sh_symbol">.</span><span class="sh_function">selectNodes</span><span class="sh_symbol">(</span>sExpr<span class="sh_symbol">,</span> <span class="sh_keyword">this</span><span class="sh_symbol">);</span>
		<span class="sh_keyword">else</span>
			<span class="sh_keyword">throw</span> <span class="sh_string">"SarissaXPathOperationException: Method selectNodes is only supported by XML Nodes"</span><span class="sh_symbol">;</span>
	<span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
	<span class="sh_comment">// Emulate IE's selectSingleNode</span>
	XMLDocument<span class="sh_symbol">.</span><span class="sh_keyword">prototype</span><span class="sh_symbol">.</span>selectSingleNode <span class="sh_symbol">=</span> <span class="sh_keyword">function</span><span class="sh_symbol">(</span>sExpr<span class="sh_symbol">,</span> contextNode<span class="sh_symbol">)</span>
	<span class="sh_cbracket">{</span>
		<span class="sh_keyword">var</span> ctx <span class="sh_symbol">=</span> contextNode<span class="sh_symbol">?</span>contextNode<span class="sh_symbol">:</span><span class="sh_keyword">null</span><span class="sh_symbol">;</span>
		sExpr <span class="sh_symbol">+=</span> <span class="sh_string">"[1]"</span><span class="sh_symbol">;</span>
		<span class="sh_keyword">var</span> nodeList <span class="sh_symbol">=</span> <span class="sh_keyword">this</span><span class="sh_symbol">.</span><span class="sh_function">selectNodes</span><span class="sh_symbol">(</span>sExpr<span class="sh_symbol">,</span> ctx<span class="sh_symbol">);</span>
		<span class="sh_keyword">if</span><span class="sh_symbol">(</span>nodeList<span class="sh_symbol">.</span>length <span class="sh_symbol">&gt;</span> <span class="sh_number">0</span><span class="sh_symbol">)</span>
			<span class="sh_keyword">return</span> nodeList<span class="sh_symbol">[</span><span class="sh_number">0</span><span class="sh_symbol">];</span>
		<span class="sh_keyword">else</span> 
			<span class="sh_keyword">return</span> <span class="sh_keyword">null</span><span class="sh_symbol">;</span>
	<span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
	Element<span class="sh_symbol">.</span><span class="sh_keyword">prototype</span><span class="sh_symbol">.</span>selectSingleNode <span class="sh_symbol">=</span> <span class="sh_keyword">function</span><span class="sh_symbol">(</span>sExpr<span class="sh_symbol">)</span>
	<span class="sh_cbracket">{</span>
		<span class="sh_keyword">var</span> doc <span class="sh_symbol">=</span> <span class="sh_keyword">this</span><span class="sh_symbol">.</span>ownerDocument<span class="sh_symbol">;</span>
		<span class="sh_keyword">if</span><span class="sh_symbol">(</span>doc<span class="sh_symbol">.</span>selectSingleNode<span class="sh_symbol">)</span>
			<span class="sh_keyword">return</span> doc<span class="sh_symbol">.</span><span class="sh_function">selectSingleNode</span><span class="sh_symbol">(</span>sExpr<span class="sh_symbol">,</span> <span class="sh_keyword">this</span><span class="sh_symbol">);</span>
		<span class="sh_keyword">else</span>
			<span class="sh_keyword">throw</span> <span class="sh_string">"SarissaXPathOperationException: Method selectSingleNode is only supported by XML Nodes. (original exception: "</span><span class="sh_symbol">+</span>e<span class="sh_symbol">+</span><span class="sh_string">")"</span><span class="sh_symbol">;</span>
	<span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
<span class="sh_cbracket">}</span>
<span class="sh_keyword">else</span> <span class="sh_keyword">if</span> <span class="sh_symbol">(</span>_SARISSA_IS_IE<span class="sh_symbol">)</span>
<span class="sh_cbracket">{</span>
	<span class="sh_comment">//============================================</span>
	<span class="sh_comment">// Section: IE Initialization</span>
	<span class="sh_comment">//============================================</span>
	<span class="sh_comment">// Add NodeType constants; missing in IE4, 5 and 6</span>
	<span class="sh_keyword">if</span><span class="sh_symbol">(!</span>window<span class="sh_symbol">.</span>Node<span class="sh_symbol">)</span>
	<span class="sh_cbracket">{</span>
		<span class="sh_keyword">var</span> Node <span class="sh_symbol">=</span> <span class="sh_cbracket">{</span>
			ELEMENT_NODE<span class="sh_symbol">:</span> <span class="sh_number">1</span><span class="sh_symbol">,</span>
			ATTRIBUTE_NODE<span class="sh_symbol">:</span> <span class="sh_number">2</span><span class="sh_symbol">,</span>
			TEXT_NODE<span class="sh_symbol">:</span> <span class="sh_number">3</span><span class="sh_symbol">,</span>
			CDATA_SECTION_NODE<span class="sh_symbol">:</span> <span class="sh_number">4</span><span class="sh_symbol">,</span>
			ENTITY_REFERENCE_NODE<span class="sh_symbol">:</span> <span class="sh_number">5</span><span class="sh_symbol">,</span>
			ENTITY_NODE<span class="sh_symbol">:</span> <span class="sh_number">6</span><span class="sh_symbol">,</span>
			PROCESSING_INSTRUCTION_NODE<span class="sh_symbol">:</span> <span class="sh_number">7</span><span class="sh_symbol">,</span>
			COMMENT_NODE<span class="sh_symbol">:</span> <span class="sh_number">8</span><span class="sh_symbol">,</span>
			DOCUMENT_NODE<span class="sh_symbol">:</span> <span class="sh_number">9</span><span class="sh_symbol">,</span>
			DOCUMENT_TYPE_NODE<span class="sh_symbol">:</span> <span class="sh_number">10</span><span class="sh_symbol">,</span>
			DOCUMENT_FRAGMENT_NODE<span class="sh_symbol">:</span> <span class="sh_number">11</span><span class="sh_symbol">,</span>
			NOTATION_NODE<span class="sh_symbol">:</span> <span class="sh_number">12</span>
		<span class="sh_cbracket">}</span>
	<span class="sh_cbracket">}</span>
	<span class="sh_comment">// for XSLT parameter names</span>
	_SARISSA_IEPREFIX4XSLPARAM <span class="sh_symbol">=</span> <span class="sh_string">"xsl:"</span><span class="sh_symbol">;</span>
	<span class="sh_comment">// used to store the most recent ProgID available out of the above</span>
	<span class="sh_keyword">var</span> _SARISSA_DOM_PROGID <span class="sh_symbol">=</span> <span class="sh_string">""</span><span class="sh_symbol">;</span>
	<span class="sh_keyword">var</span> _SARISSA_XMLHTTP_PROGID <span class="sh_symbol">=</span> <span class="sh_string">""</span><span class="sh_symbol">;</span>
	<span class="sh_comment">// used to pick most recent ProgIDs</span>
	<span class="sh_keyword">function</span> <span class="sh_function">pickRecentProgID</span><span class="sh_symbol">(</span>idList<span class="sh_symbol">)</span>
	<span class="sh_cbracket">{</span>
		<span class="sh_comment">// found progID flag</span>
		<span class="sh_keyword">var</span> bFound <span class="sh_symbol">=</span> <span class="sh_keyword">false</span><span class="sh_symbol">;</span>
		<span class="sh_keyword">for</span> <span class="sh_symbol">(</span><span class="sh_keyword">var</span> i<span class="sh_symbol">=</span><span class="sh_number">0</span><span class="sh_symbol">;</span> i <span class="sh_symbol">&lt;</span> idList<span class="sh_symbol">.</span>length <span class="sh_symbol">&amp;&amp;</span> <span class="sh_symbol">!</span>bFound<span class="sh_symbol">;</span> i<span class="sh_symbol">++)</span>
		<span class="sh_cbracket">{</span>
			<span class="sh_keyword">try</span>
			<span class="sh_cbracket">{</span>
				<span class="sh_keyword">var</span> oDoc <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">ActiveXObject</span><span class="sh_symbol">(</span>idList<span class="sh_symbol">[</span>i<span class="sh_symbol">]);</span>
				o2Store <span class="sh_symbol">=</span> idList<span class="sh_symbol">[</span>i<span class="sh_symbol">];</span>
				bFound <span class="sh_symbol">=</span> <span class="sh_keyword">true</span><span class="sh_symbol">;</span>
			<span class="sh_cbracket">}</span>
			<span class="sh_keyword">catch</span> <span class="sh_symbol">(</span>objException<span class="sh_symbol">)</span>
			<span class="sh_cbracket">{</span>
				<span class="sh_comment">// trap; try next progID</span>
			<span class="sh_cbracket">}</span>
		<span class="sh_cbracket">}</span>
		<span class="sh_keyword">if</span> <span class="sh_symbol">(!</span>bFound<span class="sh_symbol">)</span>
			<span class="sh_keyword">throw</span> <span class="sh_string">"Sarissa_Exception: Could not retreive a valid progID of Class: "</span> <span class="sh_symbol">+</span> idList<span class="sh_symbol">[</span>idList<span class="sh_symbol">.</span>length <span class="sh_symbol">-</span> <span class="sh_number">1</span><span class="sh_symbol">]+</span><span class="sh_string">". (original exception: "</span><span class="sh_symbol">+</span>e<span class="sh_symbol">+</span><span class="sh_string">")"</span><span class="sh_symbol">;</span>
		idList <span class="sh_symbol">=</span> <span class="sh_keyword">null</span><span class="sh_symbol">;</span>
		<span class="sh_keyword">return</span> o2Store<span class="sh_symbol">;</span>
	<span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
	<span class="sh_comment">// store proper progIDs</span>
	_SARISSA_DOM_PROGID <span class="sh_symbol">=</span> <span class="sh_function">pickRecentProgID</span><span class="sh_symbol">([</span><span class="sh_string">"Msxml2.DOMDocument.4.0"</span><span class="sh_symbol">,</span> <span class="sh_string">"Msxml2.DOMDocument.3.0"</span><span class="sh_symbol">,</span> <span class="sh_string">"MSXML2.DOMDocument"</span><span class="sh_symbol">,</span> <span class="sh_string">"MSXML.DOMDocument"</span><span class="sh_symbol">,</span> <span class="sh_string">"Microsoft.XmlDom"</span><span class="sh_symbol">]);</span>
	_SARISSA_XMLHTTP_PROGID <span class="sh_symbol">=</span> <span class="sh_function">pickRecentProgID</span><span class="sh_symbol">([</span><span class="sh_string">"Msxml2.XMLHTTP.4.0"</span><span class="sh_symbol">,</span> <span class="sh_string">"MSXML2.XMLHTTP.3.0"</span><span class="sh_symbol">,</span> <span class="sh_string">"MSXML2.XMLHTTP"</span><span class="sh_symbol">,</span> <span class="sh_string">"Microsoft.XMLHTTP"</span><span class="sh_symbol">]);</span>
	<span class="sh_comment">// we dont need this anymore</span>
	pickRecentProgID <span class="sh_symbol">=</span> <span class="sh_keyword">null</span><span class="sh_symbol">;</span>
	<span class="sh_comment">//============================================</span>
	<span class="sh_comment">// Section: Factory methods (IE)</span>
	<span class="sh_comment">//============================================</span>
	<span class="sh_comment">// Factory method, returns a DOMDocument suitable for IE</span>
    Sarissa<span class="sh_symbol">.</span>getDomDocument <span class="sh_symbol">=</span> <span class="sh_keyword">function</span><span class="sh_symbol">(</span>sUri<span class="sh_symbol">,</span> sName<span class="sh_symbol">)</span>
    <span class="sh_cbracket">{</span>
		<span class="sh_keyword">var</span> oDoc <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">ActiveXObject</span><span class="sh_symbol">(</span>_SARISSA_DOM_PROGID<span class="sh_symbol">);</span>
		<span class="sh_comment">// if a root tag name was provided, we need to load it in the DOM object</span>
		<span class="sh_keyword">if</span> <span class="sh_symbol">(</span>sName<span class="sh_symbol">)</span>
		<span class="sh_cbracket">{</span>
			<span class="sh_comment">// if needed, create an artifical namespace prefix the way Moz does</span>
			<span class="sh_keyword">if</span> <span class="sh_symbol">(</span>sUri<span class="sh_symbol">)</span>
			<span class="sh_cbracket">{</span>
				oDoc<span class="sh_symbol">.</span><span class="sh_function">loadXML</span><span class="sh_symbol">(</span><span class="sh_string">"&lt;a"</span> <span class="sh_symbol">+</span> _sarissa_iNsCounter <span class="sh_symbol">+</span> <span class="sh_string">":"</span> <span class="sh_symbol">+</span> sName <span class="sh_symbol">+</span> <span class="sh_string">" xmlns:a"</span> <span class="sh_symbol">+</span> _sarissa_iNsCounter <span class="sh_symbol">+</span> <span class="sh_string">"=</span><span class="sh_specialchar">\"</span><span class="sh_string">"</span> <span class="sh_symbol">+</span> sUri <span class="sh_symbol">+</span> <span class="sh_string">"</span><span class="sh_specialchar">\"</span><span class="sh_string"> /&gt;"</span><span class="sh_symbol">);</span>
				<span class="sh_comment">// don't use the same prefix again</span>
				<span class="sh_symbol">++</span>_sarissa_iNsCounter<span class="sh_symbol">;</span>
			<span class="sh_cbracket">}</span>
			<span class="sh_keyword">else</span>
				oDoc<span class="sh_symbol">.</span><span class="sh_function">loadXML</span><span class="sh_symbol">(</span><span class="sh_string">"&lt;"</span> <span class="sh_symbol">+</span> sName <span class="sh_symbol">+</span> <span class="sh_string">"/&gt;"</span><span class="sh_symbol">);</span>
		<span class="sh_cbracket">}</span>
		<span class="sh_keyword">return</span> oDoc<span class="sh_symbol">;</span>
    <span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
	<span class="sh_comment">// Factory method, returns an IXMLHTTPRequest object </span>
	<span class="sh_comment">// AFAIK, the object behaves exactly like </span>
	<span class="sh_comment">// Mozilla's XmlHttpRequest</span>
	Sarissa<span class="sh_symbol">.</span>getXmlHttpRequest <span class="sh_symbol">=</span> <span class="sh_keyword">function</span><span class="sh_symbol">()</span>
	<span class="sh_cbracket">{</span>
		<span class="sh_keyword">return</span> <span class="sh_keyword">new</span> <span class="sh_function">ActiveXObject</span><span class="sh_symbol">(</span>_SARISSA_XMLHTTP_PROGID<span class="sh_symbol">);</span>
	<span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
<span class="sh_cbracket">}</span>
<span class="sh_comment">// Factory Class</span>
<span class="sh_keyword">function</span> <span class="sh_function">Sarissa</span><span class="sh_symbol">()</span><span class="sh_cbracket">{}</span>
<span class="sh_comment">// Common factory method, used to set xslt parameters.</span>
<span class="sh_comment">// TODO: figure out how to implement support for both Mozilla's and IE's </span>
<span class="sh_comment">// XSL Processor objects to improove performance for reusable stylesheets.</span>
<span class="sh_comment">// @param oXslDoc the target XSLT DOM Document</span>
<span class="sh_comment">// @param sParamName the name of the XSLT parameter</span>
<span class="sh_comment">// @param sParamValue the value of the XSLT parameter</span>
<span class="sh_comment">// @return whether the parameter was set succefully</span>
Sarissa<span class="sh_symbol">.</span>setXslParameter <span class="sh_symbol">=</span> <span class="sh_keyword">function</span><span class="sh_symbol">(</span>oXslDoc<span class="sh_symbol">,</span> sParamQName<span class="sh_symbol">,</span> sParamValue<span class="sh_symbol">)</span>
<span class="sh_cbracket">{</span>
	<span class="sh_keyword">try</span>
	<span class="sh_cbracket">{</span>
		<span class="sh_keyword">var</span> params <span class="sh_symbol">=</span> oXslDoc<span class="sh_symbol">.</span><span class="sh_function">getElementsByTagName</span><span class="sh_symbol">(</span>_SARISSA_IEPREFIX4XSLPARAM<span class="sh_symbol">+</span><span class="sh_string">"param"</span><span class="sh_symbol">);</span>
		<span class="sh_keyword">var</span> iLength <span class="sh_symbol">=</span> params<span class="sh_symbol">.</span>length<span class="sh_symbol">;</span>
		<span class="sh_keyword">var</span> bFound <span class="sh_symbol">=</span> <span class="sh_keyword">false</span><span class="sh_symbol">;</span>
		<span class="sh_keyword">var</span> param<span class="sh_symbol">;</span>
		
		<span class="sh_keyword">if</span><span class="sh_symbol">(</span>sParamValue<span class="sh_symbol">)</span>
		<span class="sh_cbracket">{</span>
			<span class="sh_keyword">for</span><span class="sh_symbol">(</span>i<span class="sh_symbol">=</span><span class="sh_number">0</span><span class="sh_symbol">;</span> i <span class="sh_symbol">&lt;</span> iLength <span class="sh_symbol">&amp;&amp;</span> <span class="sh_symbol">!</span>bFound<span class="sh_symbol">;</span>i<span class="sh_symbol">++)</span>
			<span class="sh_cbracket">{</span>
				<span class="sh_comment">// match a param name attribute with the name given as argument</span>
				<span class="sh_keyword">if</span><span class="sh_symbol">(</span>params<span class="sh_symbol">[</span>i<span class="sh_symbol">].</span><span class="sh_function">getAttribute</span><span class="sh_symbol">(</span><span class="sh_string">"name"</span><span class="sh_symbol">)</span> <span class="sh_symbol">==</span> sParamQName<span class="sh_symbol">)</span>
				<span class="sh_cbracket">{</span>
					param <span class="sh_symbol">=</span> params<span class="sh_symbol">[</span>i<span class="sh_symbol">];</span>
					<span class="sh_comment">// clean up the parameter</span>
					<span class="sh_keyword">while</span><span class="sh_symbol">(</span>param<span class="sh_symbol">.</span>firstChild<span class="sh_symbol">)</span>
						param<span class="sh_symbol">.</span><span class="sh_function">removeChild</span><span class="sh_symbol">(</span>param<span class="sh_symbol">.</span>firstChild<span class="sh_symbol">);</span>
					<span class="sh_keyword">if</span><span class="sh_symbol">(!</span>sParamValue <span class="sh_symbol">||</span> sParamValue <span class="sh_symbol">==</span> <span class="sh_keyword">null</span><span class="sh_symbol">)</span>
					<span class="sh_cbracket">{</span>
						<span class="sh_comment">// do nothing; we've cleaned up the parameter anyway</span>
					<span class="sh_cbracket">}</span>
					<span class="sh_comment">// if String</span>
					<span class="sh_keyword">else</span> <span class="sh_keyword">if</span><span class="sh_symbol">(</span><span class="sh_keyword">typeof</span> sParamValue <span class="sh_symbol">==</span> <span class="sh_string">"string"</span><span class="sh_symbol">)</span>
					<span class="sh_cbracket">{</span> 
						param<span class="sh_symbol">.</span><span class="sh_function">setAttribute</span><span class="sh_symbol">(</span><span class="sh_string">"select"</span><span class="sh_symbol">,</span> sParamValue<span class="sh_symbol">);</span>
						bFound <span class="sh_symbol">=</span> <span class="sh_keyword">true</span><span class="sh_symbol">;</span>
					<span class="sh_cbracket">}</span>
					<span class="sh_comment">// if node</span>
					<span class="sh_keyword">else</span> <span class="sh_keyword">if</span><span class="sh_symbol">(</span>sParamValue<span class="sh_symbol">.</span>nodeName<span class="sh_symbol">)</span>
					<span class="sh_cbracket">{</span>
						param<span class="sh_symbol">.</span><span class="sh_function">removeAttribute</span><span class="sh_symbol">(</span><span class="sh_string">"select"</span><span class="sh_symbol">);</span>
						param<span class="sh_symbol">.</span><span class="sh_function">appendChild</span><span class="sh_symbol">(</span>sParamValue<span class="sh_symbol">.</span><span class="sh_function">cloneNode</span><span class="sh_symbol">(</span><span class="sh_keyword">true</span><span class="sh_symbol">));</span>
						bFound <span class="sh_symbol">=</span> <span class="sh_keyword">true</span><span class="sh_symbol">;</span>
					<span class="sh_cbracket">}</span>
					<span class="sh_comment">// if NodeList</span>
					<span class="sh_keyword">else</span> <span class="sh_keyword">if</span> <span class="sh_symbol">(</span>sParamValue<span class="sh_symbol">.</span><span class="sh_function">item</span><span class="sh_symbol">(</span><span class="sh_number">0</span><span class="sh_symbol">)</span>
						<span class="sh_symbol">&amp;&amp;</span> sParamValue<span class="sh_symbol">.</span><span class="sh_function">item</span><span class="sh_symbol">(</span><span class="sh_number">0</span><span class="sh_symbol">).</span>nodeType<span class="sh_symbol">)</span>
					<span class="sh_cbracket">{</span>
						<span class="sh_keyword">for</span><span class="sh_symbol">(</span>j<span class="sh_symbol">=</span><span class="sh_number">0</span><span class="sh_symbol">;</span>j <span class="sh_symbol">&lt;</span> sParamValue<span class="sh_symbol">.</span>length<span class="sh_symbol">;</span>j<span class="sh_symbol">++)</span>
						<span class="sh_keyword">if</span><span class="sh_symbol">(</span>sParamValue<span class="sh_symbol">.</span><span class="sh_function">item</span><span class="sh_symbol">(</span>j<span class="sh_symbol">).</span>nodeType<span class="sh_symbol">)</span> <span class="sh_comment">// check if this is a Node</span>
							param<span class="sh_symbol">.</span><span class="sh_function">appendChild</span><span class="sh_symbol">(</span>sParamValue<span class="sh_symbol">.</span><span class="sh_function">item</span><span class="sh_symbol">(</span>j<span class="sh_symbol">).</span><span class="sh_function">cloneNode</span><span class="sh_symbol">(</span><span class="sh_keyword">true</span><span class="sh_symbol">));</span>
						bFound <span class="sh_symbol">=</span> <span class="sh_keyword">true</span><span class="sh_symbol">;</span>
					<span class="sh_cbracket">}</span>
					<span class="sh_comment">// if Array or IE's IXMLDOMNodeList</span>
					<span class="sh_keyword">else</span>
						<span class="sh_keyword">throw</span> <span class="sh_string">"SarissaTypeMissMatchException in method: Sarissa.setXslParameter. (original exception: "</span><span class="sh_symbol">+</span>e<span class="sh_symbol">+</span><span class="sh_string">")"</span><span class="sh_symbol">;</span>
				<span class="sh_cbracket">}</span>
			<span class="sh_cbracket">}</span>
		<span class="sh_cbracket">}</span>
		<span class="sh_keyword">return</span> bFound<span class="sh_symbol">;</span>
	<span class="sh_cbracket">}</span>
	<span class="sh_keyword">catch</span><span class="sh_symbol">(</span>e<span class="sh_symbol">)</span>
	<span class="sh_cbracket">{</span>
		<span class="sh_keyword">throw</span> e<span class="sh_symbol">;</span>
		<span class="sh_keyword">return</span> <span class="sh_keyword">false</span><span class="sh_symbol">;</span>
	<span class="sh_cbracket">}</span>
<span class="sh_cbracket">}</span>
<span class="sh_comment">// EOF</span>


</pre>
</td>
<td><pre class="sh_javascript">
/*
* Sarissa XML library v 0.9 beta 4
* Author: Manos Batsis, mailto: mbatsis@netsmart.gr
*
* This source code is distributed under the GNU GPL version 2 (see sarissa_license_gpl.txt) or higher, if 
* a more recent version has been released.
* In case your copy of Sarissa does not include a copy of the license, you may find it online at 
* http://www.gnu.org/copyleft/gpl.html
*/

// some basic browser detection
var _SARISSA_IS_IE = (navigator.userAgent.toLowerCase().indexOf("msie") &gt; -1)?true:false;
var _SARISSA_IS_MOZ = (document.implementation &amp;&amp; document.implementation.createDocument)?true:false;
var _sarissa_iNsCounter = 0;
var _SARISSA_IEPREFIX4XSLPARAM = "";
if (_SARISSA_IS_MOZ)
{
	//============================================
	// Section: Factory methods for Moz
	//============================================
	// @param sUri the namespace of the root node (if any)
	// @param sUri the local name of the root node (if any)
	// @return a DOM Document
	Sarissa.getDomDocument = function(sUri, sName)
	{
		var oDoc = document.implementation.createDocument(sUri, sName, null);
		oDoc.addEventListener("load", _sarissa__XMLDocument_onload, false);
		return oDoc;
	};
	// AFAIK, the object behaves exactly like 
	// IE's IXMLHTTPRequest)
	// @return a XmlHttpRequst object suitable for Moz
	Sarissa.getXmlHttpRequest = function()
	{
		return new XMLHttpRequest();
	};
	//============================================
	// Section: utility functions for internal use
	//============================================
	// Attached by an event handler to the load event.
	function _sarissa__XMLDocument_onload()
	{
		_sarissa_loadHandler(this);
	};
	// Ensures the document was loaded correctly, otherwise sets the parseError to -1
	// to indicate something went wrong.
	function _sarissa_loadHandler(oDoc)
	{
		if (!oDoc.documentElement || oDoc.documentElement.tagName == "parsererror")
			oDoc.parseError = -1;
		_sarissa_setReadyState(oDoc, 4);
	};
	// Sets the readyState property
	function _sarissa_setReadyState(oDoc, iReadyState) 
	{
		oDoc.readyState = iReadyState;
		if (oDoc.onreadystatechange != null &amp;&amp; typeof oDoc.onreadystatechange == "function")
			oDoc.onreadystatechange();
	};
	
	XMLDocument.prototype._sarissa_clearDOM = function()
	{
		while(this.hasChildNodes())
			this.removeChild(this.firstChild);
	}
	// Replaces the contents of the object with the contents of 
	// the object given as the parameter
	XMLDocument.prototype._sarissa_copyDOM = function(oDoc)
	{
		this._sarissa_clearDOM();
		// importNode is not yet needed in Moz due to a bug but it will be 
		// fixed so...
            var oNodes = oDoc.childNodes;
            for(i=0;i&lt;oNodes.length;i++)
                  this.appendChild(this.importNode(oNodes[i], true));
	};
	var _SARISSA_WSMULT = new RegExp("^\\s*|\\s*$", "g");
	var _SARISSA_WSENDS = new RegExp("\\s\\s+", "g");
	function _sarissa_normalizeText(sIn)
	{
		return sIn.replace(_SARISSA_WSENDS, " ").replace(_SARISSA_WSMULT, " ");
	}
	//============================================
	// Section: Extending Mozilla's DOM implementation 
	// to emulate IE extentions
	//============================================
	// Parses the String given as parameter to build the document content
	// for the object, exactly like IE's loadXML().
	// @return the old contents serialized to String (xml)
	XMLDocument.prototype.loadXML = function(strXML) 
	{
		_sarissa_setReadyState(this, 1);
		var sOldXML = this.xml;
		var oDoc = (new DOMParser()).parseFromString(strXML, "text/xml");
		_sarissa_setReadyState(this, 2);
		this._sarissa_copyDOM(oDoc);
		_sarissa_setReadyState(this, 3);
		_sarissa_loadHandler(this);
		return sOldXML;
	};
	// Emulates IE's xml property. Gives an XML serialization of the DOM Object
    XMLDocument.prototype.__defineGetter__("xml", function ()
	{
		return (new XMLSerializer()).serializeToString(this);
	});
	// Emulates IE's xml property. Gives an XML serialization of the DOM Object
    Node.prototype.__defineGetter__("xml", function ()
	{
		return (new XMLSerializer()).serializeToString(this);
	});
	// Ensures and informs the xml property is read only
	XMLDocument.prototype.__defineSetter__("xml", function ()
	{
		throw "Invalid assignment on read-only property 'xml'. Hint: Use the 'loadXML(String xml)' method instead. (original exception: "+e+")";
	});
	// Emulates IE's innerText (write). Note that this removes all childNodes of 
	// an Element and just replaces it with a textNode
	HTMLElement.prototype.__defineSetter__("innerText", function (sText)
	{
		var s = "" + sText;
		this.innerHTML = s.replace(/\&amp;/g, "&amp;amp;").replace(/&lt;/g, "&amp;lt;").replace(/&gt;/g, "&amp;gt;");
	});
	// Emulate IE's innerText (read). Gives the concatenation of all text nodes under the Element
	HTMLElement.prototype.__defineGetter__("innerText", function ()
	{
		return _sarissa_normalizeText(this.innerHTML.replace(/&lt;[^&gt;]+&gt;/g,""));
	});
	// Emulate IE's onreadystatechange attribute 
	// used as a listener to the onreadystatechange event (also emulated)
    Document.prototype.onreadystatechange = null;
    // Emulate IE's parseError attribute
    Document.prototype.parseError = 0;
	// Emulates IE's readyState property, which always gives an integer from 0 to 4:
	// 1 == LOADING
	// 2 == LOADED
	// 3 == INTERACTIVE
	// 4 == COMPLETED 
    XMLDocument.prototype.readyState = 0;
	// Emulates IE's async property. It controls whether loading of 
	// remote XML files works synchronously or asynchronously.
	// NOTE: setting async to false will only work with documents 
	// called over HTTP (meaning a server), not the local file system,
	// unless you are using Moz 1.4.
	// BTW the try&gt;catch block is for 1.4; I haven't found a way to check if the property is implemented without 
	// causing an error and I dont want to use user agent stuff for that...
	try{
		XMLDocument.prototype.async = true;
	}catch(e){/*trap*/}
	// Keeps a handle to the original load() method
	XMLDocument.prototype._sarissa_load = XMLDocument.prototype.load;
	/** Extends the load method to provide synchronous loading
	* using an XMLHttpRequest object (if async is set to false)
	* @return the DOM Object as it was before the load() call (may be empty)
	*/
    XMLDocument.prototype.load = function(sURI)
	{
		var oDoc = document.implementation.createDocument("", "", null);
		oDoc._sarissa_copyDOM(this);
		this.parseError = 0;
		_sarissa_setReadyState(this, 1);
		try
		{
			if(this.async == false)
			{
				var tmp = new XMLHttpRequest();
				tmp.open("GET", sURI, false);
				tmp.overrideMimeType("text/xml");
				tmp.send(null);
				_sarissa_setReadyState(this, 2);
				this._sarissa_copyDOM(tmp.responseXML);
				_sarissa_setReadyState(this, 3);
			}
			else
				this._sarissa_load(sURI);
		}
		catch (objException)
		{
			this.parseError = -1;
		}
		finally
		{
			_sarissa_loadHandler(this);
		}
		return oDoc;
	}; 
	// Emulate IE's transformNodeToObject
	Document.prototype.transformNodeToObject = function(xslDoc, oResult)
	{
		var xsltProcessor = null;
		try
		{
		    xsltProcessor = new XSLTProcessor();
		    if(xsltProcessor.reset)
		    {
				// new nsIXSLTProcessor is available
				xsltProcessor.importStylesheet(xslDoc);
				var newFragment = xsltProcessor.transformToFragment(this, oResult);
				oResult._sarissa_copyDOM(newFragment);
            }
            else
		    {
				// only nsIXSLTProcessorObsolete is available
				xsltProcessor.transformDocument(this, xslDoc, oResult, null);
            }
		}
		catch(e)
		{
			if(xslDoc &amp;&amp; oResult)
				throw "Sarissa_TransformNodeToObjectException: Failed to transform document. (original exception: "+e+")";
			else if(!xslDoc)
				throw "Sarissa_TransformNodeToObjectException: No Stylesheet Document was provided. (original exception: "+e+")";
			else if(!oResult)
				throw "Sarissa_TransformNodeToObjectException: No Result Document was provided. (original exception: "+e+")";
			else if(xsltProcessor == null)
                            throw "Sarissa_XSLTProcessorNotAvailableException: Could not instantiate an XSLTProcessor object. (original exception: "+e+")";
                        else
                            throw e;
		}
	};
	// Emulate IE's transformNode() method. Gives the result XML serialised to a String
	Document.prototype.transformNode = function(xslDoc)
	{
		var out = document.implementation.createDocument("", "", null);
		this.transformNodeToObject(xslDoc, out);
		var str = null;
		try
		{
			var serializer = new XMLSerializer();
			str = serializer.serializeToString(out);
		}
		catch(e)
		{
			throw "Sarissa_TransformNodeException: Failed to serialize result document. (original exception: "+e+")";
		}
		return str;
	};
	// Extend the Array to behave as a NodeList	
	Array.prototype.item = function(i)
	{
		return this[i];
	};
	// add IE's expr property
	Array.prototype.expr = "";
    // dummy, used to accept IE's stuff without throwing errors
	XMLDocument.prototype.setProperty  = function(x,y){};
	// Emulate IE's selectNodes
	XMLDocument.prototype.selectNodes = function(sExpr, contextNode)
	{
		var oResult = this.evaluate(sExpr, (contextNode?contextNode:this), 
							this.createNSResolver(this.documentElement),
							XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);
		var nodeList = new Array(oResult.snapshotLength);
		nodeList.expr = sExpr;
		for(i=0;i&lt;nodeList.length;i++)
			nodeList[i] = oResult.snapshotItem(i);
		return nodeList;
	};
	Element.prototype.selectNodes = function(sExpr)
	{
		var doc = this.ownerDocument;
		if(doc.selectNodes)
			return doc.selectNodes(sExpr, this);
		else
			throw "SarissaXPathOperationException: Method selectNodes is only supported by XML Nodes";
	};
	// Emulate IE's selectSingleNode
	XMLDocument.prototype.selectSingleNode = function(sExpr, contextNode)
	{
		var ctx = contextNode?contextNode:null;
		sExpr += "[1]";
		var nodeList = this.selectNodes(sExpr, ctx);
		if(nodeList.length &gt; 0)
			return nodeList[0];
		else 
			return null;
	};
	Element.prototype.selectSingleNode = function(sExpr)
	{
		var doc = this.ownerDocument;
		if(doc.selectSingleNode)
			return doc.selectSingleNode(sExpr, this);
		else
			throw "SarissaXPathOperationException: Method selectSingleNode is only supported by XML Nodes. (original exception: "+e+")";
	};
}
else if (_SARISSA_IS_IE)
{
	//============================================
	// Section: IE Initialization
	//============================================
	// Add NodeType constants; missing in IE4, 5 and 6
	if(!window.Node)
	{
		var Node = {
			ELEMENT_NODE: 1,
			ATTRIBUTE_NODE: 2,
			TEXT_NODE: 3,
			CDATA_SECTION_NODE: 4,
			ENTITY_REFERENCE_NODE: 5,
			ENTITY_NODE: 6,
			PROCESSING_INSTRUCTION_NODE: 7,
			COMMENT_NODE: 8,
			DOCUMENT_NODE: 9,
			DOCUMENT_TYPE_NODE: 10,
			DOCUMENT_FRAGMENT_NODE: 11,
			NOTATION_NODE: 12
		}
	}
	// for XSLT parameter names
	_SARISSA_IEPREFIX4XSLPARAM = "xsl:";
	// used to store the most recent ProgID available out of the above
	var _SARISSA_DOM_PROGID = "";
	var _SARISSA_XMLHTTP_PROGID = "";
	// used to pick most recent ProgIDs
	function pickRecentProgID(idList)
	{
		// found progID flag
		var bFound = false;
		for (var i=0; i &lt; idList.length &amp;&amp; !bFound; i++)
		{
			try
			{
				var oDoc = new ActiveXObject(idList[i]);
				o2Store = idList[i];
				bFound = true;
			}
			catch (objException)
			{
				// trap; try next progID
			}
		}
		if (!bFound)
			throw "Sarissa_Exception: Could not retreive a valid progID of Class: " + idList[idList.length - 1]+". (original exception: "+e+")";
		idList = null;
		return o2Store;
	};
	// store proper progIDs
	_SARISSA_DOM_PROGID = pickRecentProgID(["Msxml2.DOMDocument.4.0", "Msxml2.DOMDocument.3.0", "MSXML2.DOMDocument", "MSXML.DOMDocument", "Microsoft.XmlDom"]);
	_SARISSA_XMLHTTP_PROGID = pickRecentProgID(["Msxml2.XMLHTTP.4.0", "MSXML2.XMLHTTP.3.0", "MSXML2.XMLHTTP", "Microsoft.XMLHTTP"]);
	// we dont need this anymore
	pickRecentProgID = null;
	//============================================
	// Section: Factory methods (IE)
	//============================================
	// Factory method, returns a DOMDocument suitable for IE
    Sarissa.getDomDocument = function(sUri, sName)
    {
		var oDoc = new ActiveXObject(_SARISSA_DOM_PROGID);
		// if a root tag name was provided, we need to load it in the DOM object
		if (sName)
		{
			// if needed, create an artifical namespace prefix the way Moz does
			if (sUri)
			{
				oDoc.loadXML("&lt;a" + _sarissa_iNsCounter + ":" + sName + " xmlns:a" + _sarissa_iNsCounter + "=\"" + sUri + "\" /&gt;");
				// don't use the same prefix again
				++_sarissa_iNsCounter;
			}
			else
				oDoc.loadXML("&lt;" + sName + "/&gt;");
		}
		return oDoc;
    };
	// Factory method, returns an IXMLHTTPRequest object 
	// AFAIK, the object behaves exactly like 
	// Mozilla's XmlHttpRequest
	Sarissa.getXmlHttpRequest = function()
	{
		return new ActiveXObject(_SARISSA_XMLHTTP_PROGID);
	};
}
// Factory Class
function Sarissa(){}
// Common factory method, used to set xslt parameters.
// TODO: figure out how to implement support for both Mozilla's and IE's 
// XSL Processor objects to improove performance for reusable stylesheets.
// @param oXslDoc the target XSLT DOM Document
// @param sParamName the name of the XSLT parameter
// @param sParamValue the value of the XSLT parameter
// @return whether the parameter was set succefully
Sarissa.setXslParameter = function(oXslDoc, sParamQName, sParamValue)
{
	try
	{
		var params = oXslDoc.getElementsByTagName(_SARISSA_IEPREFIX4XSLPARAM+"param");
		var iLength = params.length;
		var bFound = false;
		var param;
		
		if(sParamValue)
		{
			for(i=0; i &lt; iLength &amp;&amp; !bFound;i++)
			{
				// match a param name attribute with the name given as argument
				if(params[i].getAttribute("name") == sParamQName)
				{
					param = params[i];
					// clean up the parameter
					while(param.firstChild)
						param.removeChild(param.firstChild);
					if(!sParamValue || sParamValue == null)
					{
						// do nothing; we've cleaned up the parameter anyway
					}
					// if String
					else if(typeof sParamValue == "string")
					{ 
						param.setAttribute("select", sParamValue);
						bFound = true;
					}
					// if node
					else if(sParamValue.nodeName)
					{
						param.removeAttribute("select");
						param.appendChild(sParamValue.cloneNode(true));
						bFound = true;
					}
					// if NodeList
					else if (sParamValue.item(0)
						&amp;&amp; sParamValue.item(0).nodeType)
					{
						for(j=0;j &lt; sParamValue.length;j++)
						if(sParamValue.item(j).nodeType) // check if this is a Node
							param.appendChild(sParamValue.item(j).cloneNode(true));
						bFound = true;
					}
					// if Array or IE's IXMLDOMNodeList
					else
						throw "SarissaTypeMissMatchException in method: Sarissa.setXslParameter. (original exception: "+e+")";
				}
			}
		}
		return bFound;
	}
	catch(e)
	{
		throw e;
		return false;
	}
}
// EOF


</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_preproc">%{</span>
<span class="sh_comment">/*</span>
<span class="sh_comment"> * Copyright (C) 1999, 2000, 2001  Lorenzo Bettini</span>
<span class="sh_comment"> *</span>
<span class="sh_comment"> * This program is free software; you can redistribute it and/or modify</span>
<span class="sh_comment"> * it under the terms of the GNU General Public License as published by</span>
<span class="sh_comment"> * the Free Software Foundation; either version 2 of the License, or</span>
<span class="sh_comment"> * (at your option) any later version.</span>
<span class="sh_comment"> *</span>
<span class="sh_comment"> * This program is distributed in the hope that it will be useful,</span>
<span class="sh_comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="sh_comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="sh_comment"> * GNU General Public License for more details.</span>
<span class="sh_comment"> *</span>
<span class="sh_comment"> * You should have received a copy of the GNU General Public License</span>
<span class="sh_comment"> * along with this program; if not, write to the Free Software</span>
<span class="sh_comment"> * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.</span>
<span class="sh_comment"> *</span>
<span class="sh_comment"> */</span>

<span class="sh_keyword">static</span> <span class="sh_type">int</span> lineno <span class="sh_symbol">=</span> <span class="sh_number">1</span> <span class="sh_symbol">;</span> <span class="sh_comment">/* number of scanned lines */</span>
<span class="sh_type">char</span> linebuf<span class="sh_symbol">[</span><span class="sh_number">1024</span><span class="sh_symbol">]</span> <span class="sh_symbol">;</span> <span class="sh_comment">/* current code line in the source */</span>
<span class="sh_type">int</span> tokenpos <span class="sh_symbol">=</span> <span class="sh_number">0</span> <span class="sh_symbol">;</span> <span class="sh_comment">// current token position in the current line</span>

<span class="sh_preproc">#include</span> <span class="sh_string">"tags.h"</span>
<span class="sh_preproc">#include</span> <span class="sh_string">"tokens.h"</span>
<span class="sh_preproc">#include</span> <span class="sh_string">"colors.h"</span>

<span class="sh_preproc">#include</span> <span class="sh_string">"genfun.h"</span>

<span class="sh_preproc">%}</span>
<span class="sh_preproc">%option</span> <span class="sh_keyword">prefix</span><span class="sh_symbol">=</span><span class="sh_string">"java_scanner_"</span>
<span class="sh_preproc">%option</span> <span class="sh_keyword">noyywrap</span>

<span class="sh_preproc">ws</span> <span class="sh_symbol">[</span> <span class="sh_symbol">]+</span>
<span class="sh_preproc">tabs</span> <span class="sh_symbol">[\</span>t<span class="sh_symbol">]+</span>

<span class="sh_preproc">nl</span> <span class="sh_symbol">\</span>n
<span class="sh_preproc">cr</span> <span class="sh_symbol">\</span>r
<span class="sh_preproc">IDE</span> <span class="sh_symbol">[</span>a<span class="sh_symbol">-</span>zA<span class="sh_symbol">-</span>Z_<span class="sh_symbol">]([</span>a<span class="sh_symbol">-</span>zA<span class="sh_symbol">-</span>Z0<span class="sh_symbol">-</span>9_<span class="sh_symbol">])*</span>
<span class="sh_preproc">wspace</span> <span class="sh_symbol">[</span> <span class="sh_symbol">\</span>t<span class="sh_symbol">\</span>n<span class="sh_symbol">\</span>r<span class="sh_symbol">]</span>

<span class="sh_preproc">STRING</span> <span class="sh_symbol">\</span>"<span class="sh_symbol">[^\</span>"<span class="sh_symbol">\</span>n<span class="sh_symbol">]*\</span>"

<span class="sh_preproc">not_alpha</span> <span class="sh_symbol">[^</span>a<span class="sh_symbol">-</span>zA<span class="sh_symbol">-</span>Z0<span class="sh_symbol">-</span>9<span class="sh_symbol">]</span>

<span class="sh_preproc">%s</span> <span class="sh_function">COMMENT_STATE</span>
<span class="sh_preproc">%s</span> <span class="sh_function">SINGLELINE_COMMENT</span>
<span class="sh_preproc">%s</span> <span class="sh_function">STRING_STATE</span>
<span class="sh_preproc">%s</span> <span class="sh_function">CHAR_STATE</span>

<span class="sh_preproc">keyword</span> <span class="sh_symbol">(</span>abstract<span class="sh_symbol">|</span>assert<span class="sh_symbol">|</span>break<span class="sh_symbol">|</span>case<span class="sh_symbol">|</span>catch<span class="sh_symbol">|</span>class<span class="sh_symbol">|</span>const<span class="sh_symbol">|</span>continue<span class="sh_symbol">|</span>default<span class="sh_symbol">|</span>do<span class="sh_symbol">|</span>else<span class="sh_symbol">|</span>extends<span class="sh_symbol">|</span>final<span class="sh_symbol">|</span>finally<span class="sh_symbol">|</span>for<span class="sh_symbol">|</span>goto<span class="sh_symbol">|</span>if<span class="sh_symbol">|</span>implements<span class="sh_symbol">|</span>instanceof<span class="sh_symbol">|</span>interface<span class="sh_symbol">|</span>native<span class="sh_symbol">|</span>new<span class="sh_symbol">|</span>null<span class="sh_symbol">|</span>package<span class="sh_symbol">|</span>private<span class="sh_symbol">|</span>protected<span class="sh_symbol">|</span>public<span class="sh_symbol">|</span>return<span class="sh_symbol">|</span>static<span class="sh_symbol">|</span>super<span class="sh_symbol">|</span>switch<span class="sh_symbol">|</span>synchronized<span class="sh_symbol">|</span>throw<span class="sh_symbol">|</span>throws<span class="sh_symbol">|</span>this<span class="sh_symbol">|</span>transient<span class="sh_symbol">|</span>try<span class="sh_symbol">|</span>volatile<span class="sh_symbol">|</span>while<span class="sh_symbol">)</span>
<span class="sh_preproc">basetype</span> <span class="sh_symbol">(</span>int<span class="sh_symbol">|</span>byte<span class="sh_symbol">|</span>boolean<span class="sh_symbol">|</span>char<span class="sh_symbol">|</span>long<span class="sh_symbol">|</span>float<span class="sh_symbol">|</span>double<span class="sh_symbol">|</span>short<span class="sh_symbol">|</span>void<span class="sh_symbol">)</span>
<span class="sh_preproc">symbol</span> <span class="sh_symbol">[\~\!\%\^\*\(\)\-\+\=\[\]\|\\\:\;\,\.\/\?\&amp;\&lt;\&gt;]</span>
<span class="sh_preproc">funccall</span> <span class="sh_type">{IDE}</span><span class="sh_symbol">/</span><span class="sh_type">{wspace}</span><span class="sh_symbol">*\(</span>

<span class="sh_preproc">%%</span>



<span class="sh_preproc">\r</span> <span class="sh_cbracket">{}</span>

<span class="sh_function">&lt;INITIAL&gt;</span><span class="sh_string">"/*"</span> <span class="sh_cbracket">{</span> <span class="sh_usertype">BEGIN</span> COMMENT_STATE <span class="sh_symbol">;</span>
 <span class="sh_function">startComment</span><span class="sh_symbol">(</span> yytext <span class="sh_symbol">)</span> <span class="sh_symbol">;</span>      
<span class="sh_cbracket">}</span>
<span class="sh_function">&lt;INITIAL&gt;</span><span class="sh_string">"/*"</span><span class="sh_symbol">.*</span><span class="sh_string">"*/"</span> <span class="sh_cbracket">{</span> <span class="sh_function">generateComment</span><span class="sh_symbol">(</span> yytext <span class="sh_symbol">)</span> <span class="sh_symbol">;</span>  <span class="sh_cbracket">}</span>


<span class="sh_function">&lt;COMMENT_STATE&gt;</span><span class="sh_preproc">\n</span> <span class="sh_cbracket">{</span> 
   <span class="sh_function">endComment</span> <span class="sh_symbol">(</span><span class="sh_string">""</span><span class="sh_symbol">);</span> 
   <span class="sh_symbol">++</span>lineno<span class="sh_symbol">;</span>
   <span class="sh_function">generateNewLine</span><span class="sh_symbol">()</span> <span class="sh_symbol">;</span>
   <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_keyword">true</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
      <span class="sh_function">startComment</span> <span class="sh_symbol">(</span><span class="sh_string">""</span><span class="sh_symbol">);</span>
   <span class="sh_cbracket">}</span> <span class="sh_keyword">else</span> <span class="sh_cbracket">{</span>
     <span class="sh_keyword">for</span> <span class="sh_symbol">(</span><span class="sh_type">int</span> i <span class="sh_symbol">=</span> <span class="sh_number">0</span><span class="sh_symbol">;</span> i <span class="sh_symbol">&lt;</span> <span class="sh_number">10</span><span class="sh_symbol">;</span> <span class="sh_symbol">++</span>i<span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
       <span class="sh_symbol">;</span> <span class="sh_comment">// do nothing, just to test the { }</span>
     <span class="sh_cbracket">}</span>
   <span class="sh_cbracket">}</span>
   <span class="sh_comment">/* if we encounter another // during a comment we simply</span>
<span class="sh_comment">      treat it as a ordinary string */</span>
 <span class="sh_cbracket">}</span>
<span class="sh_function">&lt;COMMENT_STATE&gt;</span><span class="sh_string">"*/"</span> <span class="sh_cbracket">{</span> <span class="sh_function">endComment</span><span class="sh_symbol">(</span>yytext<span class="sh_symbol">)</span> <span class="sh_symbol">;</span>
                      <span class="sh_usertype">BEGIN</span> INITIAL <span class="sh_symbol">;</span> <span class="sh_comment">/* end of the comment */</span> <span class="sh_cbracket">}</span>

<span class="sh_function">&lt;INITIAL&gt;</span><span class="sh_string">"//"</span> <span class="sh_cbracket">{</span> <span class="sh_usertype">BEGIN</span> SINGLELINE_COMMENT <span class="sh_symbol">;</span> <span class="sh_function">startComment</span><span class="sh_symbol">(</span> yytext <span class="sh_symbol">)</span> <span class="sh_symbol">;</span> <span class="sh_cbracket">}</span>
<span class="sh_function">&lt;SINGLELINE_COMMENT&gt;</span><span class="sh_preproc">\n</span> <span class="sh_cbracket">{</span> 
   <span class="sh_usertype">BEGIN</span> INITIAL <span class="sh_symbol">;</span>
   <span class="sh_function">yyless</span> <span class="sh_symbol">(</span><span class="sh_number">0</span><span class="sh_symbol">);</span> <span class="sh_comment">// put the \n back</span>
   <span class="sh_function">endComment</span><span class="sh_symbol">(</span> yytext <span class="sh_symbol">)</span> <span class="sh_symbol">;</span> 
   <span class="sh_comment">/* if we encounter another // during a comment we simply</span>
<span class="sh_comment">      treat it as a ordinary string */</span>
 <span class="sh_cbracket">}</span>

<span class="sh_function">&lt;INITIAL&gt;</span><span class="sh_preproc">\"</span> <span class="sh_cbracket">{</span> <span class="sh_usertype">BEGIN</span> STRING_STATE <span class="sh_symbol">;</span> <span class="sh_function">startString</span><span class="sh_symbol">(</span> yytext <span class="sh_symbol">);</span>  <span class="sh_cbracket">}</span>
<span class="sh_function">&lt;STRING_STATE&gt;</span><span class="sh_preproc">\\\\</span> <span class="sh_cbracket">{</span>  <span class="sh_function">generate_preproc</span><span class="sh_symbol">(</span> yytext <span class="sh_symbol">)</span> <span class="sh_symbol">;</span> <span class="sh_cbracket">}</span>
<span class="sh_function">&lt;STRING_STATE&gt;</span><span class="sh_string">"\\\""</span> <span class="sh_cbracket">{</span>  <span class="sh_function">generate_preproc</span><span class="sh_symbol">(</span> yytext <span class="sh_symbol">)</span> <span class="sh_symbol">;</span> <span class="sh_cbracket">}</span>
<span class="sh_function">&lt;STRING_STATE&gt;</span><span class="sh_preproc">\n</span> <span class="sh_cbracket">{</span> 
   <span class="sh_function">endString</span> <span class="sh_symbol">(</span><span class="sh_string">""</span><span class="sh_symbol">);</span> 
   <span class="sh_symbol">++</span>lineno<span class="sh_symbol">;</span>
   <span class="sh_function">generateNewLine</span><span class="sh_symbol">()</span> <span class="sh_symbol">;</span>
   <span class="sh_function">startString</span> <span class="sh_symbol">(</span><span class="sh_string">""</span><span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span>
<span class="sh_function">&lt;STRING_STATE&gt;</span><span class="sh_preproc">\"</span> <span class="sh_cbracket">{</span> <span class="sh_usertype">BEGIN</span> INITIAL <span class="sh_symbol">;</span> <span class="sh_function">endString</span><span class="sh_symbol">(</span> yytext <span class="sh_symbol">)</span> <span class="sh_symbol">;</span> <span class="sh_cbracket">}</span>

<span class="sh_function">&lt;INITIAL&gt;</span><span class="sh_preproc">\'</span> <span class="sh_cbracket">{</span> <span class="sh_usertype">BEGIN</span> CHAR_STATE <span class="sh_symbol">;</span> <span class="sh_function">startString</span><span class="sh_symbol">(</span> yytext <span class="sh_symbol">);</span>  <span class="sh_cbracket">}</span>
<span class="sh_function">&lt;CHAR_STATE&gt;</span><span class="sh_preproc">\\\\</span> <span class="sh_cbracket">{</span>  <span class="sh_function">generate_preproc</span><span class="sh_symbol">(</span> yytext <span class="sh_symbol">)</span> <span class="sh_symbol">;</span> <span class="sh_cbracket">}</span>
<span class="sh_function">&lt;CHAR_STATE&gt;</span><span class="sh_string">"\\\'"</span> <span class="sh_cbracket">{</span>  <span class="sh_function">generate_preproc</span><span class="sh_symbol">(</span> yytext <span class="sh_symbol">)</span> <span class="sh_symbol">;</span> <span class="sh_cbracket">}</span>
<span class="sh_function">&lt;CHAR_STATE&gt;</span><span class="sh_preproc">\'</span> <span class="sh_cbracket">{</span> <span class="sh_usertype">BEGIN</span> INITIAL <span class="sh_symbol">;</span> <span class="sh_function">endString</span><span class="sh_symbol">(</span> yytext <span class="sh_symbol">)</span> <span class="sh_symbol">;</span> <span class="sh_cbracket">}</span>

<span class="sh_function">&lt;INITIAL&gt;</span><span class="sh_type">{keyword}</span>  <span class="sh_cbracket">{</span> <span class="sh_function">generateKeyWord</span><span class="sh_symbol">(</span> yytext <span class="sh_symbol">)</span> <span class="sh_symbol">;</span> <span class="sh_cbracket">}</span>
<span class="sh_function">&lt;INITIAL&gt;</span><span class="sh_type">{basetype}</span> <span class="sh_cbracket">{</span> <span class="sh_function">generateBaseType</span><span class="sh_symbol">(</span> yytext <span class="sh_symbol">)</span> <span class="sh_symbol">;</span> <span class="sh_cbracket">}</span>
<span class="sh_function">&lt;INITIAL&gt;</span><span class="sh_type">{symbol}</span> <span class="sh_cbracket">{</span> <span class="sh_function">generateSymbol</span><span class="sh_symbol">(</span> yytext <span class="sh_symbol">);</span> <span class="sh_cbracket">}</span>
<span class="sh_function">&lt;INITIAL&gt;</span><span class="sh_symbol">[</span><span class="sh_preproc">\{\}</span><span class="sh_symbol">]</span> <span class="sh_cbracket">{</span> <span class="sh_function">generateCBracket</span> <span class="sh_symbol">(</span> yytext <span class="sh_symbol">);</span> <span class="sh_cbracket">}</span>

<span class="sh_function">&lt;INITIAL&gt;</span>0<span class="sh_symbol">[</span>xX<span class="sh_symbol">][</span>0<span class="sh_symbol">-</span>9a<span class="sh_symbol">-</span>fA<span class="sh_symbol">-</span>F<span class="sh_symbol">]*</span> <span class="sh_cbracket">{</span> <span class="sh_function">generateNumber</span><span class="sh_symbol">(</span> yytext <span class="sh_symbol">)</span> <span class="sh_symbol">;</span> <span class="sh_cbracket">}</span>
<span class="sh_function">&lt;INITIAL&gt;</span><span class="sh_symbol">[</span>0<span class="sh_symbol">-</span>9<span class="sh_symbol">][</span>0<span class="sh_symbol">-</span>9<span class="sh_symbol">]*(</span><span class="sh_preproc">\.</span><span class="sh_symbol">[</span>0<span class="sh_symbol">-</span>9<span class="sh_symbol">]*[</span>eE<span class="sh_symbol">]?[-+]?[</span>0<span class="sh_symbol">-</span>9<span class="sh_symbol">]*)?</span> <span class="sh_cbracket">{</span> <span class="sh_function">generateNumber</span><span class="sh_symbol">(</span> yytext <span class="sh_symbol">)</span> <span class="sh_symbol">;</span> <span class="sh_cbracket">}</span>

<span class="sh_function">&lt;INITIAL&gt;</span><span class="sh_type">{keyword}</span><span class="sh_symbol">/</span><span class="sh_type">{wspace}</span><span class="sh_symbol">*</span><span class="sh_preproc">\(</span> <span class="sh_cbracket">{</span> <span class="sh_function">generateKeyWord</span><span class="sh_symbol">(</span> yytext <span class="sh_symbol">)</span> <span class="sh_symbol">;</span> <span class="sh_cbracket">}</span>
<span class="sh_function">&lt;INITIAL&gt;</span><span class="sh_type">{basetype}</span><span class="sh_symbol">/</span><span class="sh_type">{wspace}</span><span class="sh_symbol">*</span><span class="sh_preproc">\(</span> <span class="sh_cbracket">{</span> <span class="sh_function">generateBaseType</span><span class="sh_symbol">(</span> yytext <span class="sh_symbol">)</span> <span class="sh_symbol">;</span> <span class="sh_cbracket">}</span>
<span class="sh_function">&lt;INITIAL&gt;</span><span class="sh_type">{funccall}</span> <span class="sh_cbracket">{</span> <span class="sh_function">generateFunction</span> <span class="sh_symbol">(</span> yytext <span class="sh_symbol">);</span> <span class="sh_cbracket">}</span>

<span class="sh_function">&lt;INITIAL&gt;</span>import <span class="sh_cbracket">{</span> <span class="sh_function">generatePreProc</span><span class="sh_symbol">(</span> yytext<span class="sh_symbol">)</span> <span class="sh_symbol">;</span> <span class="sh_cbracket">}</span>

<span class="sh_function">&lt;INITIAL&gt;</span><span class="sh_symbol">[</span>a<span class="sh_symbol">-</span>zA<span class="sh_symbol">-</span>Z_<span class="sh_symbol">]([</span>a<span class="sh_symbol">-</span>zA<span class="sh_symbol">-</span>Z0<span class="sh_symbol">-</span>9_<span class="sh_symbol">])*</span> <span class="sh_cbracket">{</span> <span class="sh_function">generate_normal</span><span class="sh_symbol">(</span> yytext <span class="sh_symbol">)</span> <span class="sh_symbol">;</span> <span class="sh_cbracket">}</span>

<span class="sh_preproc">\t</span> <span class="sh_cbracket">{</span>
        <span class="sh_function">generateTab</span><span class="sh_symbol">()</span> <span class="sh_symbol">;</span>
<span class="sh_cbracket">}</span>

<span class="sh_symbol">.</span> <span class="sh_cbracket">{</span> <span class="sh_function">generate_preproc</span><span class="sh_symbol">(</span> yytext <span class="sh_symbol">)</span> <span class="sh_symbol">;</span> <span class="sh_comment">/* anything else */</span> <span class="sh_cbracket">}</span>

<span class="sh_preproc">\n</span> <span class="sh_cbracket">{</span> 
       <span class="sh_symbol">++</span>lineno<span class="sh_symbol">;</span>
       <span class="sh_function">generateNewLine</span><span class="sh_symbol">()</span> <span class="sh_symbol">;</span>
<span class="sh_cbracket">}</span>

<span class="sh_preproc">%%</span>

<span class="sh_type">void</span> <span class="sh_function">yyerror</span><span class="sh_symbol">(</span> <span class="sh_type">char</span> <span class="sh_symbol">*</span>s <span class="sh_symbol">)</span> <span class="sh_symbol">;</span>

<span class="sh_type">void</span> <span class="sh_function">yyerror</span><span class="sh_symbol">(</span> <span class="sh_type">char</span> <span class="sh_symbol">*</span>s <span class="sh_symbol">)</span>
<span class="sh_cbracket">{</span>  
  <span class="sh_function">fprintf</span><span class="sh_symbol">(</span> stderr<span class="sh_symbol">,</span> <span class="sh_string">"%d: %s: %s</span><span class="sh_specialchar">\n</span><span class="sh_string">%s</span><span class="sh_specialchar">\n</span><span class="sh_string">"</span><span class="sh_symbol">,</span> lineno<span class="sh_symbol">,</span> s<span class="sh_symbol">,</span> yytext<span class="sh_symbol">,</span> linebuf <span class="sh_symbol">)</span> <span class="sh_symbol">;</span>
  <span class="sh_function">fprintf</span><span class="sh_symbol">(</span> stderr<span class="sh_symbol">,</span> <span class="sh_string">"%*s</span><span class="sh_specialchar">\n</span><span class="sh_string">"</span><span class="sh_symbol">,</span> tokenpos<span class="sh_symbol">,</span> <span class="sh_string">"^"</span> <span class="sh_symbol">)</span> <span class="sh_symbol">;</span>
<span class="sh_cbracket">}</span>

<span class="sh_comment">/* vim:set ft=flex expandtab cindent tabstop=4 softtabstop=4 shiftwidth=4 textwidth=0: */</span>
</pre>
</td>
<td><pre class="sh_flex">%{
/*
 * Copyright (C) 1999, 2000, 2001  Lorenzo Bettini
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
 *
 */

static int lineno = 1 ; /* number of scanned lines */
char linebuf[1024] ; /* current code line in the source */
int tokenpos = 0 ; // current token position in the current line

#include "tags.h"
#include "tokens.h"
#include "colors.h"

#include "genfun.h"

%}
%option prefix="java_scanner_"
%option noyywrap

ws [ ]+
tabs [\t]+

nl \n
cr \r
IDE [a-zA-Z_]([a-zA-Z0-9_])*
wspace [ \t\n\r]

STRING \"[^\"\n]*\"

not_alpha [^a-zA-Z0-9]

%s COMMENT_STATE
%s SINGLELINE_COMMENT
%s STRING_STATE
%s CHAR_STATE

keyword (abstract|assert|break|case|catch|class|const|continue|default|do|else|extends|final|finally|for|goto|if|implements|instanceof|interface|native|new|null|package|private|protected|public|return|static|super|switch|synchronized|throw|throws|this|transient|try|volatile|while)
basetype (int|byte|boolean|char|long|float|double|short|void)
symbol [\~\!\%\^\*\(\)\-\+\=\[\]\|\\\:\;\,\.\/\?\&amp;\&lt;\&gt;]
funccall {IDE}/{wspace}*\(

%%



\r {}

&lt;INITIAL&gt;"/*" { BEGIN COMMENT_STATE ;
 startComment( yytext ) ;      
}
&lt;INITIAL&gt;"/*".*"*/" { generateComment( yytext ) ;  }


&lt;COMMENT_STATE&gt;\n { 
   endComment (""); 
   ++lineno;
   generateNewLine() ;
   if (true) {
      startComment ("");
   } else {
     for (int i = 0; i &lt; 10; ++i) {
       ; // do nothing, just to test the { }
     }
   }
   /* if we encounter another // during a comment we simply
      treat it as a ordinary string */
 }
&lt;COMMENT_STATE&gt;"*/" { endComment(yytext) ;
                      BEGIN INITIAL ; /* end of the comment */ }

&lt;INITIAL&gt;"//" { BEGIN SINGLELINE_COMMENT ; startComment( yytext ) ; }
&lt;SINGLELINE_COMMENT&gt;\n { 
   BEGIN INITIAL ;
   yyless (0); // put the \n back
   endComment( yytext ) ; 
   /* if we encounter another // during a comment we simply
      treat it as a ordinary string */
 }

&lt;INITIAL&gt;\" { BEGIN STRING_STATE ; startString( yytext );  }
&lt;STRING_STATE&gt;\\\\ {  generate_preproc( yytext ) ; }
&lt;STRING_STATE&gt;"\\\"" {  generate_preproc( yytext ) ; }
&lt;STRING_STATE&gt;\n { 
   endString (""); 
   ++lineno;
   generateNewLine() ;
   startString ("");
}
&lt;STRING_STATE&gt;\" { BEGIN INITIAL ; endString( yytext ) ; }

&lt;INITIAL&gt;\' { BEGIN CHAR_STATE ; startString( yytext );  }
&lt;CHAR_STATE&gt;\\\\ {  generate_preproc( yytext ) ; }
&lt;CHAR_STATE&gt;"\\\'" {  generate_preproc( yytext ) ; }
&lt;CHAR_STATE&gt;\' { BEGIN INITIAL ; endString( yytext ) ; }

&lt;INITIAL&gt;{keyword}  { generateKeyWord( yytext ) ; }
&lt;INITIAL&gt;{basetype} { generateBaseType( yytext ) ; }
&lt;INITIAL&gt;{symbol} { generateSymbol( yytext ); }
&lt;INITIAL&gt;[\{\}] { generateCBracket ( yytext ); }

&lt;INITIAL&gt;0[xX][0-9a-fA-F]* { generateNumber( yytext ) ; }
&lt;INITIAL&gt;[0-9][0-9]*(\.[0-9]*[eE]?[-+]?[0-9]*)? { generateNumber( yytext ) ; }

&lt;INITIAL&gt;{keyword}/{wspace}*\( { generateKeyWord( yytext ) ; }
&lt;INITIAL&gt;{basetype}/{wspace}*\( { generateBaseType( yytext ) ; }
&lt;INITIAL&gt;{funccall} { generateFunction ( yytext ); }

&lt;INITIAL&gt;import { generatePreProc( yytext) ; }

&lt;INITIAL&gt;[a-zA-Z_]([a-zA-Z0-9_])* { generate_normal( yytext ) ; }

\t {
        generateTab() ;
}

. { generate_preproc( yytext ) ; /* anything else */ }

\n { 
       ++lineno;
       generateNewLine() ;
}

%%

void yyerror( char *s ) ;

void yyerror( char *s )
{  
  fprintf( stderr, "%d: %s: %s\n%s\n", lineno, s, yytext, linebuf ) ;
  fprintf( stderr, "%*s\n", tokenpos, "^" ) ;
}

/* vim:set ft=flex expandtab cindent tabstop=4 softtabstop=4 shiftwidth=4 textwidth=0: */
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_comment"># comment line</span>

<span class="sh_keyword">dn:</span> <span class="sh_type">cn</span><span class="sh_symbol">=</span><span class="sh_string">Foo Bar</span><span class="sh_symbol">,</span><span class="sh_type">mail</span><span class="sh_symbol">=</span><span class="sh_string">foo@bar.com</span>
<span class="sh_keyword">objectclass:</span><span class="sh_string"> top</span>
<span class="sh_keyword">objectclass:</span><span class="sh_string"> person</span>
<span class="sh_keyword">objectclass:</span><span class="sh_string"> organizationalPerson</span>
<span class="sh_keyword">objectclass:</span><span class="sh_string"> inetOrgPerson</span>
<span class="sh_keyword">objectclass:</span><span class="sh_string"> mozillaAbPersonAlpha</span>
<span class="sh_keyword">givenName:</span><span class="sh_string"> Foo</span>
<span class="sh_keyword">sn:</span><span class="sh_string"> Bar</span>
<span class="sh_keyword">cn:</span><span class="sh_string"> Foo Bar</span>
<span class="sh_keyword">mozillaNickname:</span><span class="sh_string"> albe</span>
<span class="sh_keyword">mail:</span><span class="sh_string"> foo@bar.com</span>
<span class="sh_keyword">modifytimestamp:</span><span class="sh_string"> 0Z</span>
<span class="sh_keyword">my_odifytimestamp:</span><span class="sh_string"> 0Z</span>
</pre>
</td>
<td><pre class="sh_ldap"># comment line

dn: cn=Foo Bar,mail=foo@bar.com
objectclass: top
objectclass: person
objectclass: organizationalPerson
objectclass: inetOrgPerson
objectclass: mozillaAbPersonAlpha
givenName: Foo
sn: Bar
cn: Foo Bar
mozillaNickname: albe
mail: foo@bar.com
modifytimestamp: 0Z
my_odifytimestamp: 0Z
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_date">Jul  8</span> <span class="sh_time">14:50:32</span> <span class="sh_symbol">localhost</span><span class="sh_function"> kde3</span><span class="sh_number">(pam_unix)[3229]</span>: session opened for user bettini by (uid=0)
<span class="sh_date">Jul  8</span> <span class="sh_time">15:01:01</span> <span class="sh_symbol">localhost</span><span class="sh_function"> msec</span>: changed mode of /var/log/wtmp from 664 to 640
<span class="sh_date">Jul  8</span> <span class="sh_time">15:01:01</span> <span class="sh_symbol">localhost</span><span class="sh_function"> msec</span>: changed group of /var/log/wtmp from utmp to adm
<span class="sh_date">Jul  8</span> <span class="sh_time">15:01:01</span> <span class="sh_symbol">localhost</span><span class="sh_function"> msec</span>: changed mode of /var/log/XFree86.0.log from 644 to 640
<span class="sh_date">Jul  8</span> <span class="sh_time">15:01:01</span> <span class="sh_symbol">localhost</span><span class="sh_function"> msec</span>: changed group of /var/log/XFree86.0.log from <span class="sh_string">root</span> to adm
<span class="sh_date">Jul  8</span> <span class="sh_time">15:01:01</span> <span class="sh_symbol">localhost</span><span class="sh_function"> msec</span>: changed mode of /var/log/cups/error_log from 644 to 640
<span class="sh_date">Jul  8</span> <span class="sh_time">15:01:01</span> <span class="sh_symbol">localhost</span><span class="sh_function"> msec</span>: changed mode of /var/log/ksyms.3 from 644 to 640
<span class="sh_date">Jul  8</span> <span class="sh_time">15:01:01</span> <span class="sh_symbol">localhost</span><span class="sh_function"> msec</span>: changed group of /var/log/ksyms.3 from <span class="sh_string">root</span> to adm
<span class="sh_date">Jul  8</span> <span class="sh_time">15:01:01</span> <span class="sh_symbol">localhost</span><span class="sh_function"> msec</span>: changed mode of /var/log/ksyms.2 from 644 to 640
<span class="sh_date">Jul  8</span> <span class="sh_time">15:01:01</span> <span class="sh_symbol">localhost</span><span class="sh_function"> msec</span>: changed group of /var/log/ksyms.2 from <span class="sh_string">root</span> to adm
<span class="sh_date">Jul  8</span> <span class="sh_time">15:01:01</span> <span class="sh_symbol">localhost</span><span class="sh_function"> msec</span>: changed mode of /var/log/ksyms.1 from 644 to 640
<span class="sh_date">Jul  8</span> <span class="sh_time">15:01:01</span> <span class="sh_symbol">localhost</span><span class="sh_function"> msec</span>: changed group of /var/log/ksyms.1 from <span class="sh_string">root</span> to adm
<span class="sh_date">Jul  8</span> <span class="sh_time">15:01:01</span> <span class="sh_symbol">localhost</span><span class="sh_function"> msec</span>: changed mode of /var/log/ksyms.0 from 644 to 640
<span class="sh_date">Jul  8</span> <span class="sh_time">15:01:01</span> <span class="sh_symbol">localhost</span><span class="sh_function"> msec</span>: changed group of /var/log/ksyms.0 from <span class="sh_string">root</span> to adm
<span class="sh_date">Jul  8</span> <span class="sh_time">15:01:01</span> <span class="sh_symbol">localhost</span><span class="sh_function"> msec</span>: changed mode of /var/log/XFree86.0.log.old from 644 to 640
<span class="sh_date">Jul  8</span> <span class="sh_time">15:01:01</span> <span class="sh_symbol">localhost</span><span class="sh_function"> msec</span>: changed group of /var/log/XFree86.0.log.old from <span class="sh_string">root</span> to adm
<span class="sh_date">Jul  8</span> <span class="sh_time">15:13:01</span> <span class="sh_symbol">localhost</span><span class="sh_function"> su</span><span class="sh_number">(pam_unix)[10393]</span>: session opened for user <span class="sh_string">root</span> by (uid=501)
</pre>
</td>
<td><pre class="sh_log">Jul  8 14:50:32 localhost kde3(pam_unix)[3229]: session opened for user bettini by (uid=0)
Jul  8 15:01:01 localhost msec: changed mode of /var/log/wtmp from 664 to 640
Jul  8 15:01:01 localhost msec: changed group of /var/log/wtmp from utmp to adm
Jul  8 15:01:01 localhost msec: changed mode of /var/log/XFree86.0.log from 644 to 640
Jul  8 15:01:01 localhost msec: changed group of /var/log/XFree86.0.log from root to adm
Jul  8 15:01:01 localhost msec: changed mode of /var/log/cups/error_log from 644 to 640
Jul  8 15:01:01 localhost msec: changed mode of /var/log/ksyms.3 from 644 to 640
Jul  8 15:01:01 localhost msec: changed group of /var/log/ksyms.3 from root to adm
Jul  8 15:01:01 localhost msec: changed mode of /var/log/ksyms.2 from 644 to 640
Jul  8 15:01:01 localhost msec: changed group of /var/log/ksyms.2 from root to adm
Jul  8 15:01:01 localhost msec: changed mode of /var/log/ksyms.1 from 644 to 640
Jul  8 15:01:01 localhost msec: changed group of /var/log/ksyms.1 from root to adm
Jul  8 15:01:01 localhost msec: changed mode of /var/log/ksyms.0 from 644 to 640
Jul  8 15:01:01 localhost msec: changed group of /var/log/ksyms.0 from root to adm
Jul  8 15:01:01 localhost msec: changed mode of /var/log/XFree86.0.log.old from 644 to 640
Jul  8 15:01:01 localhost msec: changed group of /var/log/XFree86.0.log.old from root to adm
Jul  8 15:13:01 localhost su(pam_unix)[10393]: session opened for user root by (uid=501)
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_keyword">Begin3</span>
<span class="sh_type">Title:</span>          sourcehighlightide -- Some description
<span class="sh_type">Version:</span>        0.1
<span class="sh_type">Entered-date:</span>   
<span class="sh_type">Description:</span>    
<span class="sh_type">Keywords:</span>       KDE Qt
<span class="sh_type">Author:</span>         Lorenzo Bettini <span class="sh_url">&lt;http://www.lorenzobettini.it&gt;</span>
<span class="sh_type">Maintained-by:</span>  Lorenzo Bettini <span class="sh_url">&lt;http://www.lorenzobettini.it&gt;</span>
<span class="sh_type">Home-page:</span>      
<span class="sh_type">Alternate-site:</span> 
<span class="sh_type">Primary-site:</span>   <span class="sh_url">ftp://ftp.kde.org/pub/kde/unstable/apps/utils</span>
                xxxxxx  sourcehighlightide-0.1.tar.gz
                xxx     sourcehighlightide-0.1.lsm
<span class="sh_type">Platform:</span>       Linux. Needs KDE
<span class="sh_type">Copying-policy:</span> GPL
<span class="sh_keyword">End</span>
</pre>
</td>
<td><pre class="sh_lsm">Begin3
Title:          sourcehighlightide -- Some description
Version:        0.1
Entered-date:   
Description:    
Keywords:       KDE Qt
Author:         Lorenzo Bettini &lt;http://www.lorenzobettini.it&gt;
Maintained-by:  Lorenzo Bettini &lt;http://www.lorenzobettini.it&gt;
Home-page:      
Alternate-site: 
Primary-site:   ftp://ftp.kde.org/pub/kde/unstable/apps/utils
                xxxxxx  sourcehighlightide-0.1.tar.gz
                xxx     sourcehighlightide-0.1.lsm
Platform:       Linux. Needs KDE
Copying-policy: GPL
End
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_keyword">dnl</span><span class="sh_comment"> </span><span class="sh_type">@synopsis</span><span class="sh_comment"> AC_CTAGS_FLAGS</span>
<span class="sh_keyword">dnl</span>
<span class="sh_keyword">dnl</span><span class="sh_comment"> check whether it's the correct version of ctags</span>

AC_DEFUN([AC_CTAGS_FLAGS],
[AC_CACHE_CHECK(whether ${CTAGS} accept --excmd, ac_ctags_flags,
[echo 'void f(){}' &gt; conftest.c
if test -z <span class="sh_string">"`${CTAGS} --excmd=n -f conftags conftest.c 2&gt;&amp;1`"</span>; then
  ac_ctags_flags=yes
else
  ac_ctags_flags=no
fi
rm -f conftest*
rm -f conftags*
])])

AC_DEFUN([adl_NORMALIZE_PATH],
[case <span class="sh_string">":[$]$1:"</span> in
<span class="sh_comment"># change empty paths to '.'</span>
  ::) <span class="sh_variable">$1</span>='.' ;;
<span class="sh_comment"># strip trailing slashes</span>
  :*[[\\/]]:) <span class="sh_variable">$1</span>=`echo <span class="sh_string">"[$]$1"</span> | sed 's,[[\\/]]*[$],,'` ;;
  :*:) ;;
esac
<span class="sh_comment"># squeze repeated slashes</span>
case ifelse(<span class="sh_variable">$2</span>,,<span class="sh_string">"[$]$1"</span>,<span class="sh_variable">$2</span>) in
<span class="sh_comment"># if the path contains any backslashes, turn slashes into backslashes</span>
 *\\*) <span class="sh_variable">$1</span>=`echo <span class="sh_string">"[$]$1"</span> | sed 's,\(.\)[[\\/]][[\\/]]*,\1\\\\,g'` ;;
<span class="sh_comment"># if the path contains slashes, also turn backslashes into slashes</span>
 *) <span class="sh_variable">$1</span>=`echo <span class="sh_string">"[$]$1"</span> | sed 's,\(.\)[[\\/]][[\\/]]*,\1/,g'` ;;
esac])
</pre>
</td>
<td><pre class="sh_m4">dnl @synopsis AC_CTAGS_FLAGS
dnl
dnl check whether it's the correct version of ctags

AC_DEFUN([AC_CTAGS_FLAGS],
[AC_CACHE_CHECK(whether ${CTAGS} accept --excmd, ac_ctags_flags,
[echo 'void f(){}' &gt; conftest.c
if test -z "`${CTAGS} --excmd=n -f conftags conftest.c 2&gt;&amp;1`"; then
  ac_ctags_flags=yes
else
  ac_ctags_flags=no
fi
rm -f conftest*
rm -f conftags*
])])

AC_DEFUN([adl_NORMALIZE_PATH],
[case ":[$]$1:" in
# change empty paths to '.'
  ::) $1='.' ;;
# strip trailing slashes
  :*[[\\/]]:) $1=`echo "[$]$1" | sed 's,[[\\/]]*[$],,'` ;;
  :*:) ;;
esac
# squeze repeated slashes
case ifelse($2,,"[$]$1",$2) in
# if the path contains any backslashes, turn slashes into backslashes
 *\\*) $1=`echo "[$]$1" | sed 's,\(.\)[[\\/]][[\\/]]*,\1\\\\,g'` ;;
# if the path contains slashes, also turn backslashes into slashes
 *) $1=`echo "[$]$1" | sed 's,\(.\)[[\\/]][[\\/]]*,\1/,g'` ;;
esac])
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_comment"># a comment</span>
<span class="sh_comment">## another comment</span>
<span class="sh_comment">###### another comment</span>

<span class="sh_symbol">ID:</span> <span class="sh_variable">$(HEADERS)</span> <span class="sh_variable">$(SOURCES)</span> <span class="sh_variable">$(LISP)</span> <span class="sh_variable">$(TAGS_FILES)</span>
        <span class="sh_variable">list</span><span class="sh_symbol">=</span><span class="sh_string">'$(SOURCES) $(HEADERS) $(LISP) $(TAGS_FILES)'</span><span class="sh_symbol">;</span> <span class="sh_symbol">\</span>
        <span class="sh_variable">unique</span><span class="sh_symbol">=</span>`<span class="sh_keyword">for</span> i <span class="sh_keyword">in</span> <span class="sh_variable">$$</span>list<span class="sh_symbol">;</span> <span class="sh_keyword">do</span> <span class="sh_symbol">\</span>
            <span class="sh_keyword">if</span> <span class="sh_keyword">test</span> -f <span class="sh_string">"$$i"</span><span class="sh_symbol">;</span> <span class="sh_keyword">then</span> echo <span class="sh_variable">$$</span>i<span class="sh_symbol">;</span> <span class="sh_keyword">else</span> echo <span class="sh_variable">$(srcdir)</span><span class="sh_symbol">/</span><span class="sh_variable">$$</span>i<span class="sh_symbol">;</span> <span class="sh_keyword">fi</span><span class="sh_symbol">;</span> <span class="sh_symbol">\</span>
          <span class="sh_keyword">done</span> <span class="sh_symbol">|</span> <span class="sh_symbol">\</span>
          <span class="sh_variable">$(AWK)</span> <span class="sh_string">'    { files[$$0] = 1; } \</span>
<span class="sh_string">               END { for (i in files) print i; }'</span>`<span class="sh_symbol">;</span> <span class="sh_symbol">\</span>
        mkid -fID <span class="sh_variable">$$</span>unique

a<span class="sh_comment">##b</span>

<span class="sh_symbol">foo.o foo.z:</span> foo.c

<span class="sh_type">LDADD =</span> <span class="sh_preproc">@LEXLIB@</span> <span class="sh_variable">$(top_builddir)</span>/gl/libgnu.la

<span class="sh_variable">$(source_highlightdata_DATA)</span>

<span class="sh_type">LANGFILES =</span> <span class="sh_symbol">\</span>
bison.lang      cpp.lang       javascript.lang  perl.lang    ruby.lang <span class="sh_symbol">\</span>
c_comment.lang  flex.lang      log.lang         php.lang     sml.lang <span class="sh_symbol">\</span>
caml.lang       function.lang  lua.lang         prolog.lang  symbols.lang <span class="sh_symbol">\</span>
changelog.lang  java.lang      number.lang      python.lang  url.lang <span class="sh_symbol">\</span>
pascal.lang fortran.lang html.lang latex.lang logtalk.lang <span class="sh_symbol">\</span>
diff.lang c_string.lang langdef.lang outlang.lang style.lang <span class="sh_symbol">\</span>
extreme_comment.lang extreme_comment2.lang extreme_comment3.lang <span class="sh_symbol">\</span>
postscript.lang csharp.lang xml.lang sh.lang script_comment.lang <span class="sh_symbol">\</span>
tcl.lang sql.lang bib.lang makefile.lang <span class="sh_symbol">\</span>
default.lang nohilite.lang

<span class="sh_type">OUTLANGFILES =</span> <span class="sh_symbol">\</span>
css_common.outlang <span class="sh_symbol">\</span>
esc.outlang <span class="sh_symbol">\</span>
html_common.outlang <span class="sh_symbol">\</span>
html_notfixed.outlang <span class="sh_symbol">\</span>
htmlcss.outlang <span class="sh_symbol">\</span>
htmldoc.outlang <span class="sh_symbol">\</span>
html.outlang <span class="sh_symbol">\</span>
latexdoc.outlang <span class="sh_symbol">\</span>
latex.outlang <span class="sh_symbol">\</span>
latexcolordoc.outlang <span class="sh_symbol">\</span>
latexcolor.outlang <span class="sh_symbol">\</span>
xhtml_common.outlang <span class="sh_symbol">\</span>
xhtmlcss.outlang <span class="sh_symbol">\</span>
xhtmldoc.outlang <span class="sh_symbol">\</span>
xhtml.outlang <span class="sh_symbol">\</span>
texinfo.outlang <span class="sh_symbol">\</span>
javadoc.outlang <span class="sh_symbol">\</span>
docbook.outlang

<span class="sh_type">STYLEFILES =</span> texinfo.style esc.style

<span class="sh_type">source_highlightdata_DATA =</span> <span class="sh_symbol">\</span>
<span class="sh_variable">$(LANGFILES)</span> <span class="sh_variable">$(OUTLANGFILES)</span> <span class="sh_symbol">\</span>
<span class="sh_variable">$(STYLEFILES)</span> <span class="sh_symbol">\</span>
default.style style2.style style3.style <span class="sh_symbol">\</span>
lang.map outlang.map

<span class="sh_comment"># files that are built before distribution gets built</span>
<span class="sh_comment">#MAINTAINERCLEANFILES = $(BUILT_SOURCES)</span>

<span class="sh_symbol">check:</span>
	<span class="sh_keyword">for</span> langfile <span class="sh_keyword">in</span> <span class="sh_variable">$(LANGFILES)</span><span class="sh_symbol">;</span> <span class="sh_keyword">do</span> <span class="sh_symbol">\</span>
	  <span class="sh_variable">$(SRCHILITE)</span> --data-dir<span class="sh_symbol">=</span><span class="sh_variable">$(srcdir)</span> --check-lang <span class="sh_variable">$(srcdir)</span><span class="sh_symbol">/</span><span class="sh_variable">$$</span>langfile <span class="sh_symbol">;</span> <span class="sh_symbol">\</span>
	<span class="sh_keyword">done</span> <span class="sh_symbol">&amp;&amp;</span> <span class="sh_symbol">\</span>
	<span class="sh_keyword">for</span> outlangfile <span class="sh_keyword">in</span> <span class="sh_variable">$(OUTLANGFILES)</span><span class="sh_symbol">;</span> <span class="sh_keyword">do</span> <span class="sh_symbol">\</span>
	  <span class="sh_variable">$(SRCHILITE)</span> --data-dir<span class="sh_symbol">=</span><span class="sh_variable">$(srcdir)</span> --check-outlang <span class="sh_variable">$(srcdir)</span><span class="sh_symbol">/</span><span class="sh_variable">$$</span>outlangfile <span class="sh_symbol">;</span> <span class="sh_symbol">\</span>
	<span class="sh_keyword">done</span>

<span class="sh_symbol">tags:</span>
	ctags --c-types<span class="sh_symbol">=</span><span class="sh_string">'defgmstuv'</span> --recurse<span class="sh_symbol">=</span>yes <span class="sh_variable">$(srcdir)</span><span class="sh_symbol">/*</span>

<span class="sh_preproc">.PHONY:</span> tags

<span class="sh_type">noinst_HEADERS =</span> regexpengine.h regexpstate.h asserttest.h regexpenginedebug.h
</pre>
</td>
<td><pre class="sh_makefile"># a comment
## another comment
###### another comment

ID: $(HEADERS) $(SOURCES) $(LISP) $(TAGS_FILES)
        list='$(SOURCES) $(HEADERS) $(LISP) $(TAGS_FILES)'; \
        unique=`for i in $$list; do \
            if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
          done | \
          $(AWK) '    { files[$$0] = 1; } \
               END { for (i in files) print i; }'`; \
        mkid -fID $$unique

a##b

foo.o foo.z: foo.c

LDADD = @LEXLIB@ $(top_builddir)/gl/libgnu.la

$(source_highlightdata_DATA)

LANGFILES = \
bison.lang      cpp.lang       javascript.lang  perl.lang    ruby.lang \
c_comment.lang  flex.lang      log.lang         php.lang     sml.lang \
caml.lang       function.lang  lua.lang         prolog.lang  symbols.lang \
changelog.lang  java.lang      number.lang      python.lang  url.lang \
pascal.lang fortran.lang html.lang latex.lang logtalk.lang \
diff.lang c_string.lang langdef.lang outlang.lang style.lang \
extreme_comment.lang extreme_comment2.lang extreme_comment3.lang \
postscript.lang csharp.lang xml.lang sh.lang script_comment.lang \
tcl.lang sql.lang bib.lang makefile.lang \
default.lang nohilite.lang

OUTLANGFILES = \
css_common.outlang \
esc.outlang \
html_common.outlang \
html_notfixed.outlang \
htmlcss.outlang \
htmldoc.outlang \
html.outlang \
latexdoc.outlang \
latex.outlang \
latexcolordoc.outlang \
latexcolor.outlang \
xhtml_common.outlang \
xhtmlcss.outlang \
xhtmldoc.outlang \
xhtml.outlang \
texinfo.outlang \
javadoc.outlang \
docbook.outlang

STYLEFILES = texinfo.style esc.style

source_highlightdata_DATA = \
$(LANGFILES) $(OUTLANGFILES) \
$(STYLEFILES) \
default.style style2.style style3.style \
lang.map outlang.map

# files that are built before distribution gets built
#MAINTAINERCLEANFILES = $(BUILT_SOURCES)

check:
	for langfile in $(LANGFILES); do \
	  $(SRCHILITE) --data-dir=$(srcdir) --check-lang $(srcdir)/$$langfile ; \
	done &amp;&amp; \
	for outlangfile in $(OUTLANGFILES); do \
	  $(SRCHILITE) --data-dir=$(srcdir) --check-outlang $(srcdir)/$$outlangfile ; \
	done

tags:
	ctags --c-types='defgmstuv' --recurse=yes $(srcdir)/*

.PHONY: tags

noinst_HEADERS = regexpengine.h regexpstate.h asserttest.h regexpenginedebug.h
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_preproc">open</span> <span class="sh_type">Graphics</span>
<span class="sh_preproc">open</span> <span class="sh_type">Types</span>
<span class="sh_comment">(* #load "graphics.cma" *)</span>
<span class="sh_comment">(* #load "fixed.cmo" *)</span>

<span class="sh_keyword">let</span> _ <span class="sh_symbol">=</span> open_graph <span class="sh_string">" 1024x768"</span>
<span class="sh_keyword">let</span> _ <span class="sh_symbol">=</span> set_color black

<span class="sh_keyword">let</span> plot_car <span class="sh_symbol">=</span>
  <span class="sh_keyword">let</span> size_y <span class="sh_symbol">=</span> size_y <span class="sh_symbol">()</span> <span class="sh_keyword">in</span>
  <span class="sh_keyword">fun</span> <span class="sh_symbol">(</span><span class="sh_cbracket">{</span>x<span class="sh_symbol">=</span>x<span class="sh_symbol">;</span> y<span class="sh_symbol">=</span>y<span class="sh_cbracket">}</span><span class="sh_symbol">,</span>_<span class="sh_symbol">,</span>_<span class="sh_symbol">)</span> <span class="sh_symbol">-&gt;</span>
    <span class="sh_preproc">Graphics</span><span class="sh_symbol">.</span>plot <span class="sh_symbol">(</span><span class="sh_preproc">Fixed</span><span class="sh_symbol">.</span>to_coord x<span class="sh_symbol">)</span> <span class="sh_symbol">(</span>size_y <span class="sh_symbol">-</span> <span class="sh_preproc">Fixed</span><span class="sh_symbol">.</span>to_coord y<span class="sh_symbol">)</span>

<span class="sh_keyword">let</span> plot freq cars <span class="sh_symbol">=</span>
  ignore
  <span class="sh_symbol">(</span><span class="sh_preproc">List</span><span class="sh_symbol">.</span>fold_left <span class="sh_symbol">(</span><span class="sh_keyword">fun</span> counter car <span class="sh_symbol">-&gt;</span> <span class="sh_keyword">if</span> counter <span class="sh_symbol">&lt;=</span> <span class="sh_number">0</span>
		   <span class="sh_keyword">then</span> <span class="sh_symbol">(</span>plot_car car<span class="sh_symbol">;</span> freq<span class="sh_symbol">)</span>
		   <span class="sh_keyword">else</span> pred counter<span class="sh_symbol">)</span> freq cars<span class="sh_symbol">)</span>

<span class="sh_keyword">let</span> list_iteri f l <span class="sh_symbol">=</span>
  ignore <span class="sh_symbol">(</span><span class="sh_preproc">List</span><span class="sh_symbol">.</span>fold_left <span class="sh_symbol">(</span><span class="sh_keyword">fun</span> i elt <span class="sh_symbol">-&gt;</span> f i elt<span class="sh_symbol">;</span> i<span class="sh_symbol">+</span><span class="sh_number">1</span><span class="sh_symbol">)</span> <span class="sh_number">0</span> l<span class="sh_symbol">)</span>

<span class="sh_keyword">let</span> array_for_all f a <span class="sh_symbol">=</span>
  <span class="sh_keyword">let</span> length <span class="sh_symbol">=</span> <span class="sh_preproc">Array</span><span class="sh_symbol">.</span>length a <span class="sh_keyword">in</span>
  <span class="sh_keyword">let</span> <span class="sh_keyword">rec</span> loop i <span class="sh_symbol">=</span>
    <span class="sh_keyword">if</span> i <span class="sh_symbol">=</span> length <span class="sh_keyword">then</span> <span class="sh_keyword">true</span> <span class="sh_keyword">else</span> f a<span class="sh_symbol">.(</span>i<span class="sh_symbol">)</span> <span class="sh_symbol">&amp;&amp;</span> loop <span class="sh_symbol">(</span>i<span class="sh_symbol">+</span><span class="sh_number">1</span><span class="sh_symbol">)</span> <span class="sh_keyword">in</span>
    loop <span class="sh_number">0</span>

<span class="sh_keyword">let</span> <span class="sh_keyword">rec</span> dedoublonne <span class="sh_symbol">=</span> <span class="sh_keyword">function</span>
  <span class="sh_symbol">|</span>a<span class="sh_symbol">::</span>b<span class="sh_symbol">::</span>q <span class="sh_symbol">-&gt;</span> <span class="sh_keyword">if</span> a <span class="sh_symbol">=</span> b <span class="sh_keyword">then</span> dedoublonne <span class="sh_symbol">(</span>b<span class="sh_symbol">::</span>q<span class="sh_symbol">)</span> <span class="sh_keyword">else</span> a <span class="sh_symbol">::</span> dedoublonne <span class="sh_symbol">(</span>b<span class="sh_symbol">::</span>q<span class="sh_symbol">)</span>
  <span class="sh_symbol">|[</span>a<span class="sh_symbol">]</span> <span class="sh_symbol">-&gt;</span> <span class="sh_symbol">[</span>a<span class="sh_symbol">]</span>
  <span class="sh_symbol">|[]</span> <span class="sh_symbol">-&gt;</span> <span class="sh_symbol">[]</span>

<span class="sh_keyword">let</span> merge_songs db <span class="sh_symbol">=</span> <span class="sh_keyword">function</span>
  <span class="sh_symbol">|</span> <span class="sh_symbol">[]</span> <span class="sh_symbol">|</span> <span class="sh_symbol">[</span>_<span class="sh_symbol">]</span> <span class="sh_symbol">-&gt;</span> <span class="sh_symbol">()</span>
  <span class="sh_symbol">|</span> id <span class="sh_symbol">::</span> id's <span class="sh_symbol">-&gt;</span>
    <span class="sh_keyword">let</span> mysql_ids <span class="sh_symbol">=</span> <span class="sh_preproc">List</span><span class="sh_symbol">.</span>map ml642int id's <span class="sh_keyword">in</span>
    <span class="sh_symbol">()</span>
</pre>
</td>
<td><pre class="sh_caml">open Graphics
open Types
(* #load "graphics.cma" *)
(* #load "fixed.cmo" *)

let _ = open_graph " 1024x768"
let _ = set_color black

let plot_car =
  let size_y = size_y () in
  fun ({x=x; y=y},_,_) -&gt;
    Graphics.plot (Fixed.to_coord x) (size_y - Fixed.to_coord y)

let plot freq cars =
  ignore
  (List.fold_left (fun counter car -&gt; if counter &lt;= 0
		   then (plot_car car; freq)
		   else pred counter) freq cars)

let list_iteri f l =
  ignore (List.fold_left (fun i elt -&gt; f i elt; i+1) 0 l)

let array_for_all f a =
  let length = Array.length a in
  let rec loop i =
    if i = length then true else f a.(i) &amp;&amp; loop (i+1) in
    loop 0

let rec dedoublonne = function
  |a::b::q -&gt; if a = b then dedoublonne (b::q) else a :: dedoublonne (b::q)
  |[a] -&gt; [a]
  |[] -&gt; []

let merge_songs db = function
  | [] | [_] -&gt; ()
  | id :: id's -&gt;
    let mysql_ids = List.map ml642int id's in
    ()
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_comment">{</span>
<span class="sh_comment"> this is just a test for Pascal</span>
<span class="sh_comment"> { I'm afraid I don't remember much of Pascal :-)</span>
<span class="sh_comment">  so I'll use simple BEGIN END...</span>
<span class="sh_comment">  }</span>
<span class="sh_comment"> }</span>
<span class="sh_keyword">Begin</span>
   <span class="sh_comment">(* simple hello world! *)</span>
   <span class="sh_keyword">WRITELN</span> <span class="sh_string">"Hello World"</span><span class="sh_symbol">;</span>
<span class="sh_keyword">End</span>

<span class="sh_comment">(* Probably it is not even correct :-) *)</span>

<span class="sh_comment">(* the IF and VAR inside MYIFVAR must not be highlighted as keyword *)</span>
<span class="sh_keyword">IF</span> MYIFVAR <span class="sh_keyword">THEN</span>
   <span class="sh_keyword">WRITELN</span> <span class="sh_string">"Hello World"</span><span class="sh_symbol">;</span>
<span class="sh_keyword">END</span></pre>
</td>
<td><pre class="sh_pascal">{
 this is just a test for Pascal
 { I'm afraid I don't remember much of Pascal :-)
  so I'll use simple BEGIN END...
  }
 }
Begin
   (* simple hello world! *)
   WRITELN "Hello World";
End

(* Probably it is not even correct :-) *)

(* the IF and VAR inside MYIFVAR must not be highlighted as keyword *)
IF MYIFVAR THEN
   WRITELN "Hello World";
END</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_symbol">&lt;?</span>
<span class="sh_comment">/*</span>
<span class="sh_comment">CircaLib.php3 : provide function to perform search on Circa with PHP</span>
<span class="sh_comment">Copyright 2000 A.Barbet </span><span class="sh_url">alian@alianwebserver.com.</span><span class="sh_comment">  All rights reserved.</span>

<span class="sh_comment">Revision 1.1  2000/11/23 22:51:17  Administrateur</span>
<span class="sh_comment">addSite.php3</span>

<span class="sh_comment">Revision 1.2  2000/10/27 16:01:12  Administrateur</span>
<span class="sh_comment">- Navigation par categorie</span>
<span class="sh_comment">- Passer le prefixe en variable globale</span>
<span class="sh_comment">- Passer la database en variable globale</span>

<span class="sh_comment">Revision 1.1  2000/10/22 22:43:47  Administrateur</span>
<span class="sh_comment">Premiere version fonctionnelle. Supporte:</span>
<span class="sh_comment">- Requetes booleenes</span>
<span class="sh_comment">- Affichage par pages de 10 liens</span>

<span class="sh_comment">*/</span>

<span class="sh_comment">/*</span>

<span class="sh_comment">Fonction permettant d'effectuer une recherche par mot dans Circa</span>

<span class="sh_comment">Paramtres :</span>

<span class="sh_comment"> $template : Masque HTML pour le resultat de chaque lien. La liste des variables dfinies au</span>
<span class="sh_comment"> moment du eval sont : $indiceG,$titre,$description,$url,$facteur,$last_update,$langue</span>

<span class="sh_comment">  Exemple de masque :</span>

<span class="sh_comment">  '"&lt;p&gt;$indiceG - &lt;a href=\"$url\"&gt;$titre&lt;/a&gt; $description&lt;br&gt;</span>
<span class="sh_comment">   &lt;font class=\"small\"&gt;&lt;b&gt;Url:&lt;/b&gt; $url &lt;b&gt;Facteur:&lt;/b&gt; $facteur</span>
<span class="sh_comment">   &lt;b&gt;Last update:&lt;/b&gt; $last_update &lt;/font&gt;&lt;/p&gt;\n"'</span>

<span class="sh_comment"> $mot    : Squence des mots recherchs tel que tap par l'utilisateur</span>
<span class="sh_comment"> first   : Indice du premier site affich dans le rsultat</span>
<span class="sh_comment"> $id     : Id du site dans lequel effectu la recherche</span>
<span class="sh_comment"> $langue : Restriction par langue (facultatif)</span>
<span class="sh_comment"> $Url    : Restriction par url : les url trouves commenceront par $Url (facultatif)</span>
<span class="sh_comment"> $create : Restriction par date inscription. Format YYYY-MM-JJ HH:MM:SS (facultatif)</span>
<span class="sh_comment"> $update : Restriction par date de mise  jour des pages. Format YYYY-MM-JJ HH:MM:SS (facultatif)</span>
<span class="sh_comment"> $catego : Restriction par categorie (facultatif)</span>

<span class="sh_comment">Retourne ($resultat,$links,$indice)</span>

<span class="sh_comment"> $resultat : Buffer HTML contenant la liste des sites trouves format en fonction</span>
<span class="sh_comment">             de $template et des mots present dans $mots</span>
<span class="sh_comment"> $links    : Liens vers les pages suivantes / precedentes</span>
<span class="sh_comment"> $indice   : Nombre de sites trouves</span>

<span class="sh_comment">*/</span>

<span class="sh_preproc">include</span><span class="sh_symbol">(</span><span class="sh_string">"foo.php"</span><span class="sh_symbol">);</span>
<span class="sh_preproc">include_once</span><span class="sh_symbol">(</span><span class="sh_string">"bar.php"</span><span class="sh_symbol">);</span>

<span class="sh_keyword">function</span> <span class="sh_function">search</span><span class="sh_symbol">(</span><span class="sh_variable">$template</span><span class="sh_symbol">,</span><span class="sh_variable">$word</span><span class="sh_symbol">,</span><span class="sh_variable">$first</span><span class="sh_symbol">,</span><span class="sh_variable">$idc</span><span class="sh_symbol">,</span><span class="sh_variable">$langue</span><span class="sh_symbol">,</span><span class="sh_variable">$Url</span><span class="sh_symbol">,</span><span class="sh_variable">$create</span><span class="sh_symbol">,</span><span class="sh_variable">$update</span><span class="sh_symbol">,</span><span class="sh_variable">$categorie</span><span class="sh_symbol">)</span>
         <span class="sh_cbracket">{</span>
         <span class="sh_variable">$mots</span> <span class="sh_symbol">=</span> <span class="sh_function">split</span><span class="sh_symbol">(</span> <span class="sh_string">" "</span><span class="sh_symbol">,</span> <span class="sh_function">strtolower</span><span class="sh_symbol">(</span><span class="sh_variable">$word</span><span class="sh_symbol">));</span>
         <span class="sh_variable">$i</span><span class="sh_symbol">=</span><span class="sh_number">0</span><span class="sh_symbol">;</span>
         <span class="sh_comment"># Recherche des requetes booleenes</span>
         <span class="sh_keyword">while</span><span class="sh_symbol">(</span> <span class="sh_keyword">list</span><span class="sh_symbol">(</span><span class="sh_variable">$key</span><span class="sh_symbol">,</span><span class="sh_variable">$valeur</span><span class="sh_symbol">)</span> <span class="sh_symbol">=</span> <span class="sh_keyword">each</span> <span class="sh_symbol">(</span><span class="sh_variable">$mots</span><span class="sh_symbol">))</span>
                <span class="sh_cbracket">{</span>
                <span class="sh_keyword">if</span>    <span class="sh_symbol">(</span><span class="sh_variable">$valeur</span> <span class="sh_symbol">==</span> <span class="sh_string">'+'</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span><span class="sh_variable">$ind_and</span><span class="sh_symbol">[]=</span><span class="sh_variable">$i</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span> <span class="sh_comment"># Reperage de la position des mots 'and'</span>
                <span class="sh_keyword">else</span> <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_variable">$valeur</span> <span class="sh_symbol">==</span> <span class="sh_string">'-'</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span><span class="sh_variable">$ind_not</span><span class="sh_symbol">[]=</span><span class="sh_variable">$i</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span> <span class="sh_comment"># Reperage de la position des mots 'not'</span>
                <span class="sh_keyword">else</span> <span class="sh_cbracket">{</span><span class="sh_variable">$mots_tmp</span><span class="sh_symbol">[]=</span><span class="sh_variable">$valeur</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span>
                <span class="sh_variable">$i</span><span class="sh_symbol">++;</span>
                <span class="sh_cbracket">}</span>
         <span class="sh_comment"># Recherche SQL</span>
         <span class="sh_variable">$tab</span> <span class="sh_symbol">=</span> <span class="sh_function">search_word</span><span class="sh_symbol">(</span><span class="sh_function">join</span><span class="sh_symbol">(</span><span class="sh_string">"','"</span><span class="sh_symbol">,</span><span class="sh_variable">$mots_tmp</span><span class="sh_symbol">),</span><span class="sh_variable">$idc</span><span class="sh_symbol">,</span><span class="sh_string">''</span><span class="sh_symbol">,</span><span class="sh_string">''</span><span class="sh_symbol">,</span><span class="sh_string">''</span><span class="sh_symbol">,</span><span class="sh_string">''</span><span class="sh_symbol">,</span><span class="sh_string">''</span><span class="sh_symbol">);</span>
         <span class="sh_comment"># On supprime tout ceux qui ne repondent pas aux criteres and si present</span>
         <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_function">is_array</span><span class="sh_symbol">(</span><span class="sh_variable">$ind_and</span><span class="sh_symbol">))</span>
             <span class="sh_cbracket">{</span><span class="sh_keyword">while</span><span class="sh_symbol">(</span> <span class="sh_keyword">list</span><span class="sh_symbol">(</span><span class="sh_variable">$key</span><span class="sh_symbol">,</span><span class="sh_variable">$ind</span><span class="sh_symbol">)</span> <span class="sh_symbol">=</span> <span class="sh_keyword">each</span><span class="sh_symbol">(</span><span class="sh_variable">$ind_and</span><span class="sh_symbol">))</span> <span class="sh_cbracket">{</span><span class="sh_keyword">while</span><span class="sh_symbol">(</span> <span class="sh_keyword">list</span><span class="sh_symbol">(</span><span class="sh_variable">$url</span><span class="sh_symbol">,</span><span class="sh_variable">$tab_url</span><span class="sh_symbol">)</span> <span class="sh_symbol">=</span> <span class="sh_keyword">each</span> <span class="sh_symbol">(</span><span class="sh_variable">$tab</span><span class="sh_symbol">))</span>
                       <span class="sh_cbracket">{</span><span class="sh_keyword">if</span> <span class="sh_symbol">(!</span><span class="sh_function">appartient</span><span class="sh_symbol">(</span><span class="sh_variable">$mots</span><span class="sh_symbol">[</span><span class="sh_variable">$ind</span> <span class="sh_symbol">+</span> <span class="sh_number">1</span><span class="sh_symbol">],</span><span class="sh_variable">$tab_url</span><span class="sh_symbol">[</span><span class="sh_number">5</span><span class="sh_symbol">]))</span> <span class="sh_cbracket">{</span><span class="sh_keyword">unset</span><span class="sh_symbol">(</span><span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$url</span><span class="sh_symbol">]);</span><span class="sh_cbracket">}}}</span><span class="sh_function">reset</span><span class="sh_symbol">(</span><span class="sh_variable">$tab</span><span class="sh_symbol">);</span><span class="sh_cbracket">}</span>
         <span class="sh_comment"># On supprime tout ceux qui ne repondent pas aux criteres not si present</span>
         <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_function">is_array</span><span class="sh_symbol">(</span><span class="sh_variable">$ind_not</span><span class="sh_symbol">))</span>
             <span class="sh_cbracket">{</span><span class="sh_keyword">while</span><span class="sh_symbol">(</span> <span class="sh_keyword">list</span><span class="sh_symbol">(</span><span class="sh_variable">$key</span><span class="sh_symbol">,</span><span class="sh_variable">$ind</span><span class="sh_symbol">)</span> <span class="sh_symbol">=</span> <span class="sh_keyword">each</span><span class="sh_symbol">(</span><span class="sh_variable">$ind_not</span><span class="sh_symbol">))</span> <span class="sh_cbracket">{</span><span class="sh_keyword">while</span><span class="sh_symbol">(</span> <span class="sh_keyword">list</span><span class="sh_symbol">(</span><span class="sh_variable">$url</span><span class="sh_symbol">,</span><span class="sh_variable">$tab_url</span><span class="sh_symbol">)</span> <span class="sh_symbol">=</span> <span class="sh_keyword">each</span> <span class="sh_symbol">(</span><span class="sh_variable">$tab</span><span class="sh_symbol">))</span>
                       <span class="sh_cbracket">{</span><span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_function">appartient</span><span class="sh_symbol">(</span><span class="sh_variable">$mots</span><span class="sh_symbol">[</span><span class="sh_variable">$ind</span> <span class="sh_symbol">+</span> <span class="sh_number">1</span><span class="sh_symbol">],</span><span class="sh_variable">$tab_url</span><span class="sh_symbol">[</span><span class="sh_number">5</span><span class="sh_symbol">]))</span> <span class="sh_cbracket">{</span><span class="sh_keyword">unset</span><span class="sh_symbol">(</span><span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$url</span><span class="sh_symbol">]);</span><span class="sh_cbracket">}}}</span><span class="sh_function">reset</span><span class="sh_symbol">(</span><span class="sh_variable">$tab</span><span class="sh_symbol">);</span><span class="sh_cbracket">}</span>
         <span class="sh_variable">$indice</span><span class="sh_symbol">=</span><span class="sh_number">0</span><span class="sh_symbol">;</span><span class="sh_variable">$nbResultPerPage</span><span class="sh_symbol">=</span><span class="sh_number">10</span><span class="sh_symbol">;</span>
         <span class="sh_variable">$lasto</span> <span class="sh_symbol">=</span> <span class="sh_variable">$first</span> <span class="sh_symbol">+</span> <span class="sh_variable">$nbResultPerPage</span><span class="sh_symbol">;</span>
         <span class="sh_comment"># On met en forme le resultat</span>
         <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_function">is_array</span><span class="sh_symbol">(</span><span class="sh_variable">$tab</span><span class="sh_symbol">))</span>
             <span class="sh_cbracket">{</span>
             <span class="sh_keyword">while</span><span class="sh_symbol">(</span> <span class="sh_keyword">list</span><span class="sh_symbol">(</span><span class="sh_variable">$url</span><span class="sh_symbol">,</span><span class="sh_variable">$tab_url</span><span class="sh_symbol">)</span> <span class="sh_symbol">=</span> <span class="sh_keyword">each</span> <span class="sh_symbol">(</span><span class="sh_variable">$tab</span><span class="sh_symbol">))</span>
                <span class="sh_cbracket">{</span>
                <span class="sh_variable">$indiceG</span><span class="sh_symbol">=</span><span class="sh_variable">$indice</span> <span class="sh_symbol">+</span> <span class="sh_number">1</span><span class="sh_symbol">;</span>
                <span class="sh_keyword">list</span><span class="sh_symbol">(</span><span class="sh_variable">$titre</span><span class="sh_symbol">,</span><span class="sh_variable">$description</span><span class="sh_symbol">,</span><span class="sh_variable">$facteur</span><span class="sh_symbol">,</span><span class="sh_variable">$langue</span><span class="sh_symbol">,</span><span class="sh_variable">$last_update</span><span class="sh_symbol">,</span><span class="sh_variable">$mot</span><span class="sh_symbol">)=</span><span class="sh_variable">$tab_url</span><span class="sh_symbol">;</span>

                <span class="sh_keyword">if</span> <span class="sh_symbol">((</span><span class="sh_variable">$indice</span><span class="sh_symbol">&gt;=</span><span class="sh_variable">$first</span><span class="sh_symbol">)&amp;&amp;(</span><span class="sh_variable">$indice</span><span class="sh_symbol">&lt;</span><span class="sh_variable">$lasto</span><span class="sh_symbol">))</span> <span class="sh_cbracket">{</span><span class="sh_keyword">eval</span><span class="sh_symbol">(</span><span class="sh_variable">$template</span><span class="sh_symbol">);</span><span class="sh_cbracket">}</span>
                <span class="sh_comment"># Constitution des liens suivants / precedents</span>
                <span class="sh_keyword">if</span> <span class="sh_symbol">(!(</span><span class="sh_variable">$indice</span><span class="sh_symbol">%</span><span class="sh_variable">$nbResultPerPage</span><span class="sh_symbol">))</span>
                        <span class="sh_cbracket">{</span>
                        <span class="sh_variable">$nbPage</span><span class="sh_symbol">++;</span>
                        <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_variable">$indice</span><span class="sh_symbol">==</span><span class="sh_variable">$first</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span><span class="sh_variable">$links</span><span class="sh_symbol">.=</span><span class="sh_string">"$nbPage- "</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span>
                        <span class="sh_keyword">else</span> <span class="sh_cbracket">{</span><span class="sh_variable">$links</span><span class="sh_symbol">.=</span><span class="sh_string">'&lt;a href="'</span><span class="sh_symbol">.</span><span class="sh_function">get_link</span><span class="sh_symbol">(</span><span class="sh_variable">$indice</span><span class="sh_symbol">,</span><span class="sh_variable">$word</span><span class="sh_symbol">,</span><span class="sh_variable">$idc</span><span class="sh_symbol">).</span><span class="sh_string">'"&gt;'</span><span class="sh_symbol">.</span><span class="sh_variable">$nbPage</span><span class="sh_symbol">.</span><span class="sh_string">'&lt;/a&gt;- '</span><span class="sh_symbol">.</span><span class="sh_string">"\n"</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span>
                        <span class="sh_cbracket">}</span>
                <span class="sh_variable">$indice</span><span class="sh_symbol">++;</span>
                <span class="sh_cbracket">}</span>
             <span class="sh_cbracket">}</span>
         <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_variable">$indice</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span><span class="sh_variable">$indice</span><span class="sh_symbol">=</span><span class="sh_string">"$indice sites trouves"</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span>
         <span class="sh_keyword">else</span> <span class="sh_cbracket">{</span><span class="sh_variable">$indice</span><span class="sh_symbol">=</span><span class="sh_string">"&lt;p&gt;Aucun document trouv.&lt;/p&gt;"</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span>
         <span class="sh_keyword">return</span> <span class="sh_keyword">array</span><span class="sh_symbol">(</span><span class="sh_variable">$resultat</span><span class="sh_symbol">,</span><span class="sh_variable">$links</span><span class="sh_symbol">,</span><span class="sh_variable">$indice</span><span class="sh_symbol">);</span>
         <span class="sh_cbracket">}</span>

<span class="sh_comment">/*</span>

<span class="sh_comment">Construction de la requete SQL. Son exploitation est faite par search</span>

<span class="sh_comment"> $tab    : Reference du hash o mettre le resultat</span>
<span class="sh_comment"> $word   : Mot recherch</span>
<span class="sh_comment"> $id     : Id du site dans lequel effectu la recherche</span>
<span class="sh_comment"> $langue : Restriction par langue (facultatif)</span>
<span class="sh_comment"> $Url    : Restriction par url</span>
<span class="sh_comment"> $create : Restriction par date inscription</span>
<span class="sh_comment"> $update : Restriction par date de mise  jour des pages</span>
<span class="sh_comment"> $catego : Restriction par categorie</span>

<span class="sh_comment">Retourne le tableau avec le resultat de la recherche</span>
<span class="sh_comment">Le hash est constitu comme tel:</span>

<span class="sh_comment">      $tab{$url}[0] : titre</span>
<span class="sh_comment">      $tab{$url}[1] : description</span>
<span class="sh_comment">      $tab{$url}[2] : facteur</span>
<span class="sh_comment">      $tab{$url}[3] : langue</span>
<span class="sh_comment">      $tab{$url}[4] : date de dernire modification</span>
<span class="sh_comment">   @{$$tab{$url}[5]}: liste des mots trouves pour cet url</span>

<span class="sh_comment">*/</span>
<span class="sh_keyword">function</span> <span class="sh_function">search_word</span><span class="sh_symbol">(</span><span class="sh_variable">$word</span><span class="sh_symbol">,</span><span class="sh_variable">$idc</span><span class="sh_symbol">,</span><span class="sh_variable">$langue</span><span class="sh_symbol">,</span><span class="sh_variable">$Url</span><span class="sh_symbol">,</span><span class="sh_variable">$create</span><span class="sh_symbol">,</span><span class="sh_variable">$update</span><span class="sh_symbol">,</span><span class="sh_variable">$categorie</span><span class="sh_symbol">)</span>
         <span class="sh_cbracket">{</span>
         <span class="sh_keyword">global</span> <span class="sh_variable">$prefix</span><span class="sh_symbol">;</span>
         <span class="sh_keyword">global</span> <span class="sh_variable">$database</span><span class="sh_symbol">;</span>
         <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_variable">$langue</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span><span class="sh_variable">$langue</span><span class="sh_symbol">=</span><span class="sh_string">" and langue='$langue' "</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span> <span class="sh_keyword">else</span> <span class="sh_cbracket">{</span><span class="sh_variable">$langue</span><span class="sh_symbol">=</span> <span class="sh_string">' '</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span>
         <span class="sh_keyword">if</span> <span class="sh_symbol">((</span><span class="sh_variable">$Url</span><span class="sh_symbol">)&amp;&amp;(</span><span class="sh_variable">$Url</span> <span class="sh_symbol">!=</span> <span class="sh_string">'http://'</span><span class="sh_symbol">))</span> <span class="sh_cbracket">{</span><span class="sh_variable">$Url</span><span class="sh_symbol">=</span><span class="sh_string">" and url like '$Url%' "</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span>          <span class="sh_keyword">else</span> <span class="sh_cbracket">{</span><span class="sh_variable">$Url</span><span class="sh_symbol">=</span><span class="sh_string">' '</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span>
         <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_variable">$create</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span><span class="sh_variable">$create</span><span class="sh_symbol">=</span><span class="sh_string">"and unix_timestamp('$create')&lt; unix_timestamp(last_check) "</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span>  <span class="sh_keyword">else</span> <span class="sh_cbracket">{</span><span class="sh_variable">$create</span><span class="sh_symbol">=</span><span class="sh_string">' '</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span>
         <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_variable">$update</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span><span class="sh_variable">$update</span><span class="sh_symbol">=</span><span class="sh_string">"and unix_timestamp('$update')&lt; unix_timestamp(last_update) "</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span> <span class="sh_keyword">else</span> <span class="sh_cbracket">{</span><span class="sh_variable">$update</span><span class="sh_symbol">=</span><span class="sh_string">' '</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span>
         <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_variable">$categorie</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{}</span>
         <span class="sh_keyword">else</span> <span class="sh_cbracket">{</span><span class="sh_variable">$categorie</span><span class="sh_symbol">=</span><span class="sh_string">' '</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span>
         <span class="sh_variable">$requete</span> <span class="sh_symbol">=</span> <span class="sh_string">"</span>
<span class="sh_string">                select facteur,url,titre,description,langue,last_update,mot</span>
<span class="sh_string">                from   "</span><span class="sh_symbol">.</span><span class="sh_variable">$prefix</span><span class="sh_symbol">.</span><span class="sh_variable">$idc</span><span class="sh_symbol">.</span><span class="sh_string">"links l,"</span><span class="sh_symbol">.</span><span class="sh_variable">$prefix</span><span class="sh_symbol">.</span><span class="sh_variable">$idc</span><span class="sh_symbol">.</span><span class="sh_string">"relation r</span>
<span class="sh_string">                where  r.id_site=l.id</span>
<span class="sh_string">                and    r.mot in ('$word')</span>
<span class="sh_string">                $langue $Url $create $update $categorie</span>
<span class="sh_string">                order  by facteur desc"</span><span class="sh_symbol">;</span>
         <span class="sh_variable">$result</span> <span class="sh_symbol">=</span> <span class="sh_function">mysql_db_query</span><span class="sh_symbol">(</span><span class="sh_variable">$database</span><span class="sh_symbol">,</span><span class="sh_variable">$requete</span><span class="sh_symbol">);</span>
         <span class="sh_keyword">if</span> <span class="sh_symbol">(!</span><span class="sh_variable">$result</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span><span class="sh_keyword">print</span> <span class="sh_string">"$requete"</span><span class="sh_symbol">;</span><span class="sh_keyword">return</span> <span class="sh_symbol">;</span><span class="sh_cbracket">}</span>
         <span class="sh_variable">$RowCount</span> <span class="sh_symbol">=</span> <span class="sh_function">MySQL_NUMROWS</span><span class="sh_symbol">(</span><span class="sh_variable">$result</span><span class="sh_symbol">);</span>
         <span class="sh_keyword">while</span> <span class="sh_symbol">(</span><span class="sh_variable">$i</span><span class="sh_symbol">&lt;</span><span class="sh_variable">$RowCount</span><span class="sh_symbol">)</span>
                <span class="sh_cbracket">{</span>
                <span class="sh_keyword">list</span> <span class="sh_symbol">(</span><span class="sh_variable">$facteur</span><span class="sh_symbol">,</span><span class="sh_variable">$url</span><span class="sh_symbol">,</span><span class="sh_variable">$titre</span><span class="sh_symbol">,</span><span class="sh_variable">$description</span><span class="sh_symbol">,</span><span class="sh_variable">$langue</span><span class="sh_symbol">,</span><span class="sh_variable">$last_update</span><span class="sh_symbol">,</span><span class="sh_variable">$mot</span><span class="sh_symbol">)=</span> <span class="sh_function">mysql_fetch_row</span><span class="sh_symbol">(</span><span class="sh_variable">$result</span><span class="sh_symbol">);</span>
                <span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$url</span><span class="sh_symbol">][</span><span class="sh_number">0</span><span class="sh_symbol">]</span> <span class="sh_symbol">=</span> <span class="sh_variable">$titre</span><span class="sh_symbol">;</span>
                <span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$url</span><span class="sh_symbol">][</span><span class="sh_number">1</span><span class="sh_symbol">]=</span><span class="sh_variable">$description</span><span class="sh_symbol">;</span>
                <span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$url</span><span class="sh_symbol">][</span><span class="sh_number">2</span><span class="sh_symbol">]+=</span><span class="sh_variable">$facteur</span><span class="sh_symbol">;</span>
                <span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$url</span><span class="sh_symbol">][</span><span class="sh_number">3</span><span class="sh_symbol">]=</span><span class="sh_variable">$langue</span><span class="sh_symbol">;</span>
                <span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$url</span><span class="sh_symbol">][</span><span class="sh_number">4</span><span class="sh_symbol">]=</span><span class="sh_variable">$last_update</span><span class="sh_symbol">;</span>
                <span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$url</span><span class="sh_symbol">][</span><span class="sh_number">5</span><span class="sh_symbol">][]=</span><span class="sh_variable">$mot</span><span class="sh_symbol">;</span>
                <span class="sh_variable">$i</span><span class="sh_symbol">++;</span>
                <span class="sh_cbracket">}</span>
         <span class="sh_keyword">return</span> <span class="sh_variable">$tab</span><span class="sh_symbol">;</span>
         <span class="sh_cbracket">}</span>

<span class="sh_comment">/*</span>

<span class="sh_comment">Fonction retournant la liste des categories de la categorie $id dans le site $idr</span>

<span class="sh_comment"> $id       : Id de la categorie de depart. Si undef, 0 est utilis (Considr comme le "Home")</span>
<span class="sh_comment"> $idr           : Id du responsable</span>
<span class="sh_comment"> $template : Masque HTML pour le resultat de chaque lien. Si undef, le masque par defaut</span>
<span class="sh_comment">             (defini en haut de ce module) sera utlise</span>

<span class="sh_comment">Retourne ($resultat,$nom_categorie) :</span>

<span class="sh_comment"> $resultat : Buffer contenant la liste des sites formates en ft de $template</span>
<span class="sh_comment"> $nom_categorie : Nom court de la categorie</span>

<span class="sh_comment">*/</span>

<span class="sh_keyword">function</span> <span class="sh_function">categories_in_categorie</span><span class="sh_symbol">(</span><span class="sh_variable">$id</span><span class="sh_symbol">,</span><span class="sh_variable">$idr</span><span class="sh_symbol">,</span><span class="sh_variable">$template</span><span class="sh_symbol">)</span>
         <span class="sh_cbracket">{</span>
         <span class="sh_keyword">global</span> <span class="sh_variable">$database</span><span class="sh_symbol">;</span>
         <span class="sh_keyword">global</span> <span class="sh_variable">$prefix</span><span class="sh_symbol">;</span>
         <span class="sh_keyword">if</span> <span class="sh_symbol">(!</span><span class="sh_variable">$idr</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span><span class="sh_variable">$idr</span><span class="sh_symbol">=</span><span class="sh_number">1</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span>
         <span class="sh_keyword">if</span> <span class="sh_symbol">(!</span><span class="sh_variable">$id</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span><span class="sh_variable">$id</span><span class="sh_symbol">=</span><span class="sh_number">0</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span>
         <span class="sh_variable">$requete</span> <span class="sh_symbol">=</span> <span class="sh_string">"select id,nom,parent from "</span><span class="sh_symbol">.</span><span class="sh_variable">$prefix</span><span class="sh_symbol">.</span><span class="sh_variable">$idr</span><span class="sh_symbol">.</span><span class="sh_string">"categorie"</span><span class="sh_symbol">;</span>
         <span class="sh_variable">$result</span> <span class="sh_symbol">=</span> <span class="sh_function">mysql_db_query</span><span class="sh_symbol">(</span><span class="sh_variable">$database</span><span class="sh_symbol">,</span><span class="sh_variable">$requete</span><span class="sh_symbol">);</span>
         <span class="sh_variable">$RowCount</span> <span class="sh_symbol">=</span> <span class="sh_function">MySQL_NUMROWS</span><span class="sh_symbol">(</span><span class="sh_variable">$result</span><span class="sh_symbol">);</span>
         <span class="sh_variable">$i</span><span class="sh_symbol">=</span><span class="sh_number">0</span><span class="sh_symbol">;</span>
         <span class="sh_keyword">while</span> <span class="sh_symbol">(</span><span class="sh_variable">$i</span><span class="sh_symbol">&lt;</span><span class="sh_variable">$RowCount</span><span class="sh_symbol">)</span>
                <span class="sh_cbracket">{</span>
                <span class="sh_keyword">list</span> <span class="sh_symbol">(</span><span class="sh_variable">$idc</span><span class="sh_symbol">,</span><span class="sh_variable">$nom</span><span class="sh_symbol">,</span><span class="sh_variable">$parent</span><span class="sh_symbol">)=</span> <span class="sh_function">mysql_fetch_row</span><span class="sh_symbol">(</span><span class="sh_variable">$result</span><span class="sh_symbol">);</span>
                <span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$idc</span><span class="sh_symbol">][</span><span class="sh_number">0</span><span class="sh_symbol">]=</span><span class="sh_variable">$nom</span><span class="sh_symbol">;</span>
                <span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$idc</span><span class="sh_symbol">][</span><span class="sh_number">1</span><span class="sh_symbol">]=</span><span class="sh_variable">$parent</span><span class="sh_symbol">;</span>
                <span class="sh_variable">$i</span><span class="sh_symbol">++;</span>
                <span class="sh_cbracket">}</span>
        <span class="sh_keyword">while</span><span class="sh_symbol">(</span> <span class="sh_keyword">list</span><span class="sh_symbol">(</span><span class="sh_variable">$key</span><span class="sh_symbol">,</span><span class="sh_variable">$val</span><span class="sh_symbol">)</span> <span class="sh_symbol">=</span> <span class="sh_keyword">each</span> <span class="sh_symbol">(</span><span class="sh_variable">$tab</span><span class="sh_symbol">))</span>
                <span class="sh_cbracket">{</span>
                <span class="sh_variable">$nom</span><span class="sh_symbol">=</span><span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$key</span><span class="sh_symbol">][</span><span class="sh_number">0</span><span class="sh_symbol">];</span>
                <span class="sh_variable">$parent</span><span class="sh_symbol">=</span><span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$key</span><span class="sh_symbol">][</span><span class="sh_number">1</span><span class="sh_symbol">];</span>
                <span class="sh_variable">$nom_complet</span><span class="sh_symbol">=</span><span class="sh_string">"&lt;a href=\""</span><span class="sh_symbol">.</span><span class="sh_function">getenv</span><span class="sh_symbol">(</span><span class="sh_string">'SCRIPT_NAME'</span><span class="sh_symbol">).</span><span class="sh_string">"?browse=1&amp;id=$idr\"&gt;Accueil&lt;/a&gt;"</span><span class="sh_symbol">.</span><span class="sh_function">getParent</span><span class="sh_symbol">(</span><span class="sh_variable">$key</span><span class="sh_symbol">,</span><span class="sh_variable">$idr</span><span class="sh_symbol">,</span><span class="sh_variable">$tab</span><span class="sh_symbol">);</span>
                <span class="sh_variable">$links</span> <span class="sh_symbol">=</span> <span class="sh_function">get_link_categorie</span><span class="sh_symbol">(</span><span class="sh_variable">$key</span><span class="sh_symbol">,</span><span class="sh_variable">$idr</span><span class="sh_symbol">);</span>
                <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_variable">$parent</span><span class="sh_symbol">==</span><span class="sh_variable">$id</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span><span class="sh_keyword">eval</span><span class="sh_symbol">(</span><span class="sh_variable">$template</span><span class="sh_symbol">);</span><span class="sh_cbracket">}</span>
                <span class="sh_cbracket">}</span>
        <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_variable">$i</span><span class="sh_symbol">==</span><span class="sh_number">0</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span><span class="sh_variable">$resultat</span><span class="sh_symbol">=</span><span class="sh_string">"&lt;p&gt;Plus de catgorie&lt;/p&gt;"</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span>
        <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_variable">$id</span><span class="sh_symbol">!=</span><span class="sh_number">0</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span><span class="sh_variable">$titre</span> <span class="sh_symbol">=</span> <span class="sh_string">"&lt;a href=\""</span><span class="sh_symbol">.</span><span class="sh_function">getenv</span><span class="sh_symbol">(</span><span class="sh_string">'SCRIPT_NAME'</span><span class="sh_symbol">).</span><span class="sh_string">"?browse=1&amp;id=$idr\"&gt;Accueil&lt;/a&gt; "</span><span class="sh_symbol">.</span><span class="sh_function">getParent</span><span class="sh_symbol">(</span><span class="sh_variable">$id</span><span class="sh_symbol">,</span><span class="sh_variable">$idr</span><span class="sh_symbol">,</span><span class="sh_variable">$tab</span><span class="sh_symbol">);</span><span class="sh_cbracket">}</span>
        <span class="sh_keyword">else</span> <span class="sh_cbracket">{</span><span class="sh_variable">$titre</span><span class="sh_symbol">=</span><span class="sh_string">" "</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span>
        <span class="sh_keyword">return</span> <span class="sh_keyword">array</span><span class="sh_symbol">(</span><span class="sh_variable">$resultat</span><span class="sh_symbol">,</span><span class="sh_variable">$titre</span><span class="sh_symbol">);</span>
        <span class="sh_cbracket">}</span>

<span class="sh_comment">/*</span>

<span class="sh_comment">Fonction retournant la liste des pages de la categorie $id dans le site $idr</span>

<span class="sh_comment"> $id       : Id de la categorie de depart. Si undef, 0 est utilis (Considr comme le "Home")</span>
<span class="sh_comment"> $idr           : Id du responsable</span>
<span class="sh_comment"> $template : Masque HTML pour le resultat de chaque lien. Si undef, le masque par defaut</span>
<span class="sh_comment">             (defini en haut de ce module) sera utlise</span>

<span class="sh_comment">Retourne le buffer contenant la liste des sites formates en ft de $template</span>

<span class="sh_comment">*/</span>

<span class="sh_keyword">function</span> <span class="sh_function">sites_in_categorie</span><span class="sh_symbol">(</span><span class="sh_variable">$id</span><span class="sh_symbol">,</span><span class="sh_variable">$idr</span><span class="sh_symbol">,</span><span class="sh_variable">$template</span><span class="sh_symbol">)</span>
         <span class="sh_cbracket">{</span>
         <span class="sh_keyword">global</span> <span class="sh_variable">$database</span><span class="sh_symbol">;</span>
         <span class="sh_keyword">global</span> <span class="sh_variable">$prefix</span><span class="sh_symbol">;</span>
         <span class="sh_variable">$indiceG</span><span class="sh_symbol">=</span><span class="sh_number">1</span><span class="sh_symbol">;</span><span class="sh_variable">$facteur</span><span class="sh_symbol">=</span><span class="sh_number">100</span><span class="sh_symbol">;</span>
         <span class="sh_keyword">if</span> <span class="sh_symbol">(!</span><span class="sh_variable">$idr</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span><span class="sh_variable">$idr</span><span class="sh_symbol">=</span><span class="sh_number">1</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span>
         <span class="sh_keyword">if</span> <span class="sh_symbol">(!</span><span class="sh_variable">$id</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span><span class="sh_variable">$id</span><span class="sh_symbol">=</span><span class="sh_number">0</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span>
         <span class="sh_variable">$i</span><span class="sh_symbol">=</span><span class="sh_number">0</span><span class="sh_symbol">;</span>
         <span class="sh_variable">$requete</span> <span class="sh_symbol">=</span> <span class="sh_string">"select url,titre,description,langue,last_update from "</span><span class="sh_symbol">.</span><span class="sh_variable">$prefix</span><span class="sh_symbol">.</span><span class="sh_variable">$idr</span><span class="sh_symbol">.</span><span class="sh_string">"links where categorie=$id and browse_categorie='1' and parse='1'"</span><span class="sh_symbol">;</span>
         <span class="sh_variable">$result</span> <span class="sh_symbol">=</span> <span class="sh_function">mysql_db_query</span><span class="sh_symbol">(</span><span class="sh_variable">$database</span><span class="sh_symbol">,</span><span class="sh_variable">$requete</span><span class="sh_symbol">);</span>
         <span class="sh_variable">$RowCount</span> <span class="sh_symbol">=</span> <span class="sh_function">MySQL_NUMROWS</span><span class="sh_symbol">(</span><span class="sh_variable">$result</span><span class="sh_symbol">);</span>
         <span class="sh_keyword">while</span> <span class="sh_symbol">(</span><span class="sh_variable">$i</span><span class="sh_symbol">&lt;</span><span class="sh_variable">$RowCount</span><span class="sh_symbol">)</span>
                <span class="sh_cbracket">{</span>
                <span class="sh_keyword">list</span> <span class="sh_symbol">(</span><span class="sh_variable">$url</span><span class="sh_symbol">,</span><span class="sh_variable">$titre</span><span class="sh_symbol">,</span><span class="sh_variable">$description</span><span class="sh_symbol">,</span><span class="sh_variable">$langue</span><span class="sh_symbol">,</span><span class="sh_variable">$last_update</span><span class="sh_symbol">)=</span> <span class="sh_function">mysql_fetch_row</span><span class="sh_symbol">(</span><span class="sh_variable">$result</span><span class="sh_symbol">);</span>
                <span class="sh_keyword">eval</span><span class="sh_symbol">(</span><span class="sh_variable">$template</span><span class="sh_symbol">);</span>
                <span class="sh_variable">$indiceG</span><span class="sh_symbol">++;</span><span class="sh_variable">$i</span><span class="sh_symbol">++;</span>
                <span class="sh_cbracket">}</span>
        <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_variable">$i</span><span class="sh_symbol">==</span><span class="sh_number">0</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span><span class="sh_variable">$resultat</span><span class="sh_symbol">=</span><span class="sh_string">"&lt;p&gt;Pas de pages dans cette catgorie&lt;/p&gt;"</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span>
        <span class="sh_keyword">return</span> <span class="sh_variable">$resultat</span><span class="sh_symbol">;</span>
        <span class="sh_cbracket">}</span>

<span class="sh_comment">/*</span>

<span class="sh_comment">Rend la chaine correspondante  la catgorie $id avec ses rubriques parentes</span>

<span class="sh_comment">*/</span>

<span class="sh_keyword">function</span> <span class="sh_function">getParent</span><span class="sh_symbol">(</span><span class="sh_variable">$id</span><span class="sh_symbol">,</span><span class="sh_variable">$idr</span><span class="sh_symbol">,</span><span class="sh_variable">$tab</span><span class="sh_symbol">)</span>
        <span class="sh_cbracket">{</span>
        <span class="sh_keyword">if</span> <span class="sh_symbol">((</span><span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$id</span><span class="sh_symbol">][</span><span class="sh_number">1</span><span class="sh_symbol">]!=</span><span class="sh_number">0</span><span class="sh_symbol">)&amp;&amp;(</span><span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$id</span><span class="sh_symbol">][</span><span class="sh_number">0</span><span class="sh_symbol">]))</span> <span class="sh_cbracket">{</span><span class="sh_variable">$parent</span> <span class="sh_symbol">=</span> <span class="sh_function">getParent</span><span class="sh_symbol">(</span><span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$id</span><span class="sh_symbol">][</span><span class="sh_number">1</span><span class="sh_symbol">],</span><span class="sh_variable">$idr</span><span class="sh_symbol">,</span><span class="sh_variable">$tab</span><span class="sh_symbol">);</span><span class="sh_cbracket">}</span>
        <span class="sh_keyword">if</span> <span class="sh_symbol">(!</span><span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$id</span><span class="sh_symbol">][</span><span class="sh_number">0</span><span class="sh_symbol">])</span> <span class="sh_cbracket">{</span><span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$id</span><span class="sh_symbol">][</span><span class="sh_number">0</span><span class="sh_symbol">]=</span><span class="sh_string">'Home'</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span>
        <span class="sh_variable">$parent</span><span class="sh_symbol">.=</span><span class="sh_string">"&amp;gt;&lt;a href=\""</span><span class="sh_symbol">.</span><span class="sh_function">get_link_categorie</span><span class="sh_symbol">(</span><span class="sh_variable">$id</span><span class="sh_symbol">,</span><span class="sh_variable">$idr</span><span class="sh_symbol">).</span><span class="sh_string">'"&gt;'</span><span class="sh_symbol">.</span><span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$id</span><span class="sh_symbol">][</span><span class="sh_number">0</span><span class="sh_symbol">].</span><span class="sh_string">"&lt;/a&gt;"</span><span class="sh_symbol">;</span>
        <span class="sh_keyword">return</span> <span class="sh_variable">$parent</span><span class="sh_symbol">;</span>
        <span class="sh_cbracket">}</span>
<span class="sh_keyword">function</span> <span class="sh_function">getWLParent</span><span class="sh_symbol">(</span><span class="sh_variable">$id</span><span class="sh_symbol">,</span><span class="sh_variable">$idr</span><span class="sh_symbol">,</span><span class="sh_variable">$tab</span><span class="sh_symbol">)</span>
        <span class="sh_cbracket">{</span>
        <span class="sh_keyword">if</span> <span class="sh_symbol">((</span><span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$id</span><span class="sh_symbol">][</span><span class="sh_number">1</span><span class="sh_symbol">]!=</span><span class="sh_number">0</span><span class="sh_symbol">)&amp;&amp;(</span><span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$id</span><span class="sh_symbol">][</span><span class="sh_number">0</span><span class="sh_symbol">]))</span> <span class="sh_cbracket">{</span><span class="sh_variable">$parent</span> <span class="sh_symbol">=</span> <span class="sh_function">getWLParent</span><span class="sh_symbol">(</span><span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$id</span><span class="sh_symbol">][</span><span class="sh_number">1</span><span class="sh_symbol">],</span><span class="sh_variable">$idr</span><span class="sh_symbol">,</span><span class="sh_variable">$tab</span><span class="sh_symbol">);</span><span class="sh_cbracket">}</span>
        <span class="sh_keyword">if</span> <span class="sh_symbol">(!</span><span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$id</span><span class="sh_symbol">][</span><span class="sh_number">0</span><span class="sh_symbol">])</span> <span class="sh_cbracket">{</span><span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$id</span><span class="sh_symbol">][</span><span class="sh_number">0</span><span class="sh_symbol">]=</span><span class="sh_string">'Home'</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span>
        <span class="sh_variable">$parent</span><span class="sh_symbol">.=</span><span class="sh_string">"&amp;gt;"</span><span class="sh_symbol">.</span><span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$id</span><span class="sh_symbol">][</span><span class="sh_number">0</span><span class="sh_symbol">];</span>
        <span class="sh_keyword">return</span> <span class="sh_variable">$parent</span><span class="sh_symbol">;</span>
        <span class="sh_cbracket">}</span>
<span class="sh_comment">/*</span>

<span class="sh_comment">Retourne 1 si $var appartient  $liste, 0 sinon.</span>

<span class="sh_comment">*/</span>
<span class="sh_keyword">function</span> <span class="sh_function">appartient</span><span class="sh_symbol">(</span><span class="sh_variable">$var</span><span class="sh_symbol">,</span><span class="sh_variable">$liste</span><span class="sh_symbol">)</span>
         <span class="sh_cbracket">{</span>
         <span class="sh_keyword">while</span><span class="sh_symbol">(</span> <span class="sh_keyword">list</span><span class="sh_symbol">(</span><span class="sh_variable">$key</span><span class="sh_symbol">,</span><span class="sh_variable">$val</span><span class="sh_symbol">)</span> <span class="sh_symbol">=</span> <span class="sh_keyword">each</span> <span class="sh_symbol">(</span><span class="sh_variable">$liste</span><span class="sh_symbol">))</span> <span class="sh_cbracket">{</span><span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_variable">$val</span><span class="sh_symbol">==</span><span class="sh_variable">$var</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span><span class="sh_keyword">return</span> <span class="sh_number">1</span><span class="sh_symbol">;</span><span class="sh_cbracket">}}</span>
         <span class="sh_keyword">return</span> <span class="sh_number">0</span><span class="sh_symbol">;</span>
         <span class="sh_cbracket">}</span>
<span class="sh_comment">/**</span>
<span class="sh_comment"> * Retourne l'URL correspondant  la page no $no_page dans la recherche en cours</span>
<span class="sh_comment"> */</span>
<span class="sh_keyword">function</span> <span class="sh_function">get_link</span><span class="sh_symbol">(</span><span class="sh_variable">$no_page</span><span class="sh_symbol">,</span><span class="sh_variable">$word</span><span class="sh_symbol">,</span><span class="sh_variable">$id</span><span class="sh_symbol">)</span>
         <span class="sh_cbracket">{</span>
         <span class="sh_variable">$buf</span> <span class="sh_symbol">=</span> <span class="sh_function">getenv</span><span class="sh_symbol">(</span><span class="sh_string">'SCRIPT_NAME'</span><span class="sh_symbol">).</span><span class="sh_string">"?word="</span><span class="sh_symbol">.</span><span class="sh_function">urlencode</span><span class="sh_symbol">(</span><span class="sh_variable">$word</span><span class="sh_symbol">).</span><span class="sh_string">"&amp;id="</span><span class="sh_symbol">.</span><span class="sh_variable">$id</span><span class="sh_symbol">.</span><span class="sh_string">"&amp;first="</span><span class="sh_symbol">.</span><span class="sh_variable">$no_page</span><span class="sh_symbol">;</span>
         <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_variable">$nbResultPerPage</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span><span class="sh_variable">$buf</span><span class="sh_symbol">.=</span><span class="sh_string">"&amp;nbResultPerPage="</span><span class="sh_symbol">.</span><span class="sh_variable">$nbResultPerPage</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span>
         <span class="sh_keyword">return</span> <span class="sh_variable">$buf</span><span class="sh_symbol">;</span>
         <span class="sh_cbracket">}</span>
<span class="sh_comment">/**</span>
<span class="sh_comment"> * Retourne l'URL correspondant  la categorie no $no_categorie</span>
<span class="sh_comment"> */</span>
<span class="sh_keyword">function</span> <span class="sh_function">get_link_categorie</span><span class="sh_symbol">(</span><span class="sh_variable">$no_categorie</span><span class="sh_symbol">,</span><span class="sh_variable">$id</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span><span class="sh_keyword">return</span> <span class="sh_function">getenv</span><span class="sh_symbol">(</span><span class="sh_string">'SCRIPT_NAME'</span><span class="sh_symbol">).</span><span class="sh_string">"?categorie=$no_categorie&amp;id=$id"</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span>

<span class="sh_comment">/**</span>
<span class="sh_comment"> * Retourne le nom du site dans la table responsable correspondant  l'id $id</span>
<span class="sh_comment"> */</span>

<span class="sh_keyword">function</span> <span class="sh_function">get_name_site</span><span class="sh_symbol">(</span><span class="sh_variable">$id</span><span class="sh_symbol">,</span><span class="sh_variable">$prefix</span><span class="sh_symbol">)</span>
        <span class="sh_cbracket">{</span>
        <span class="sh_comment">#$result = mysql_db_query("circa","select titre from ".$this-&gt;{PREFIX_TABLE}."responsable where id=$id");</span>
        <span class="sh_comment">#$sth-&gt;execute() || print "Erreur: $DBI::errstr\n";</span>
        <span class="sh_comment">#my ($titre)=$sth-&gt;fetchrow_array;</span>
        <span class="sh_comment">#$sth-&gt;finish;</span>
        <span class="sh_keyword">return</span> <span class="sh_variable">$titre</span><span class="sh_symbol">;</span>
        <span class="sh_cbracket">}</span>

<span class="sh_keyword">function</span> <span class="sh_function">get_liste_categorie</span><span class="sh_symbol">(</span><span class="sh_variable">$idr</span><span class="sh_symbol">)</span>
         <span class="sh_cbracket">{</span>
         <span class="sh_keyword">global</span> <span class="sh_variable">$database</span><span class="sh_symbol">;</span>
         <span class="sh_keyword">global</span> <span class="sh_variable">$prefix</span><span class="sh_symbol">;</span>
         <span class="sh_variable">$requete</span> <span class="sh_symbol">=</span> <span class="sh_string">"select id,nom,parent from "</span><span class="sh_symbol">.</span><span class="sh_variable">$prefix</span><span class="sh_symbol">.</span><span class="sh_variable">$idr</span><span class="sh_symbol">.</span><span class="sh_string">"categorie"</span><span class="sh_symbol">;</span>
         <span class="sh_variable">$result</span> <span class="sh_symbol">=</span> <span class="sh_function">mysql_db_query</span><span class="sh_symbol">(</span><span class="sh_variable">$database</span><span class="sh_symbol">,</span><span class="sh_variable">$requete</span><span class="sh_symbol">);</span>
         <span class="sh_variable">$RowCount</span> <span class="sh_symbol">=</span> <span class="sh_function">MySQL_NUMROWS</span><span class="sh_symbol">(</span><span class="sh_variable">$result</span><span class="sh_symbol">);</span>
         <span class="sh_variable">$i</span><span class="sh_symbol">=</span><span class="sh_number">0</span><span class="sh_symbol">;</span>
         <span class="sh_keyword">while</span> <span class="sh_symbol">(</span><span class="sh_variable">$i</span><span class="sh_symbol">&lt;</span><span class="sh_variable">$RowCount</span><span class="sh_symbol">)</span>
                <span class="sh_cbracket">{</span>
                <span class="sh_keyword">list</span> <span class="sh_symbol">(</span><span class="sh_variable">$idc</span><span class="sh_symbol">,</span><span class="sh_variable">$nom</span><span class="sh_symbol">,</span><span class="sh_variable">$parent</span><span class="sh_symbol">)=</span> <span class="sh_function">mysql_fetch_row</span><span class="sh_symbol">(</span><span class="sh_variable">$result</span><span class="sh_symbol">);</span>
                <span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$idc</span><span class="sh_symbol">][</span><span class="sh_number">0</span><span class="sh_symbol">]=</span><span class="sh_variable">$nom</span><span class="sh_symbol">;</span>
                <span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$idc</span><span class="sh_symbol">][</span><span class="sh_number">1</span><span class="sh_symbol">]=</span><span class="sh_variable">$parent</span><span class="sh_symbol">;</span>
                <span class="sh_variable">$i</span><span class="sh_symbol">++;</span>
                <span class="sh_cbracket">}</span>
        <span class="sh_keyword">while</span><span class="sh_symbol">(</span> <span class="sh_keyword">list</span><span class="sh_symbol">(</span><span class="sh_variable">$key</span><span class="sh_symbol">,</span><span class="sh_variable">$val</span><span class="sh_symbol">)</span> <span class="sh_symbol">=</span> <span class="sh_keyword">each</span> <span class="sh_symbol">(</span><span class="sh_variable">$tab</span><span class="sh_symbol">))</span>
                <span class="sh_cbracket">{</span>
                <span class="sh_variable">$nom</span><span class="sh_symbol">=</span><span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$key</span><span class="sh_symbol">][</span><span class="sh_number">0</span><span class="sh_symbol">];</span>
                <span class="sh_variable">$parent</span><span class="sh_symbol">=</span><span class="sh_variable">$tab</span><span class="sh_symbol">[</span><span class="sh_variable">$key</span><span class="sh_symbol">][</span><span class="sh_number">1</span><span class="sh_symbol">];</span>
                <span class="sh_variable">$buf</span><span class="sh_symbol">.=</span><span class="sh_string">"&lt;option value=\"$key\"&gt;"</span><span class="sh_symbol">.</span><span class="sh_function">getWLParent</span><span class="sh_symbol">(</span><span class="sh_variable">$key</span><span class="sh_symbol">,</span><span class="sh_variable">$idr</span><span class="sh_symbol">,</span><span class="sh_variable">$tab</span><span class="sh_symbol">).</span><span class="sh_string">"&lt;/option&gt;"</span><span class="sh_symbol">;</span>
                <span class="sh_cbracket">}</span>
        <span class="sh_keyword">return</span> <span class="sh_variable">$buf</span><span class="sh_symbol">;</span>
        <span class="sh_cbracket">}</span>

<span class="sh_keyword">function</span> <span class="sh_function">addSite</span><span class="sh_symbol">(</span><span class="sh_variable">$url</span><span class="sh_symbol">,</span><span class="sh_variable">$categorie</span><span class="sh_symbol">)</span>
         <span class="sh_cbracket">{</span>
         <span class="sh_keyword">global</span> <span class="sh_variable">$database</span><span class="sh_symbol">;</span>
         <span class="sh_keyword">global</span> <span class="sh_variable">$prefix</span><span class="sh_symbol">;</span>
         <span class="sh_keyword">global</span> <span class="sh_variable">$idr</span><span class="sh_symbol">;</span>
         <span class="sh_variable">$requete</span><span class="sh_symbol">=</span><span class="sh_string">"insert into "</span><span class="sh_symbol">.</span><span class="sh_variable">$prefix</span><span class="sh_symbol">.</span><span class="sh_variable">$idr</span><span class="sh_symbol">.</span><span class="sh_string">"links (url,titre,description,langue,valide,categorie,browse_categorie)</span>
<span class="sh_string">                   values ('$url',' ',' ','fr',0,$categorie,'1')"</span><span class="sh_symbol">;</span>
         <span class="sh_variable">$result</span> <span class="sh_symbol">=</span> <span class="sh_function">mysql_db_query</span><span class="sh_symbol">(</span><span class="sh_variable">$database</span><span class="sh_symbol">,</span><span class="sh_variable">$requete</span><span class="sh_symbol">);</span>
         <span class="sh_cbracket">}</span>
<span class="sh_symbol">?&gt;</span>
</pre>
</td>
<td><pre class="sh_php">&lt;?
/*
CircaLib.php3 : provide function to perform search on Circa with PHP
Copyright 2000 A.Barbet alian@alianwebserver.com.  All rights reserved.

Revision 1.1  2000/11/23 22:51:17  Administrateur
addSite.php3

Revision 1.2  2000/10/27 16:01:12  Administrateur
- Navigation par categorie
- Passer le prefixe en variable globale
- Passer la database en variable globale

Revision 1.1  2000/10/22 22:43:47  Administrateur
Premiere version fonctionnelle. Supporte:
- Requetes booleenes
- Affichage par pages de 10 liens

*/

/*

Fonction permettant d'effectuer une recherche par mot dans Circa

Paramtres :

 $template : Masque HTML pour le resultat de chaque lien. La liste des variables dfinies au
 moment du eval sont : $indiceG,$titre,$description,$url,$facteur,$last_update,$langue

  Exemple de masque :

  '"&lt;p&gt;$indiceG - &lt;a href=\"$url\"&gt;$titre&lt;/a&gt; $description&lt;br&gt;
   &lt;font class=\"small\"&gt;&lt;b&gt;Url:&lt;/b&gt; $url &lt;b&gt;Facteur:&lt;/b&gt; $facteur
   &lt;b&gt;Last update:&lt;/b&gt; $last_update &lt;/font&gt;&lt;/p&gt;\n"'

 $mot    : Squence des mots recherchs tel que tap par l'utilisateur
 first   : Indice du premier site affich dans le rsultat
 $id     : Id du site dans lequel effectu la recherche
 $langue : Restriction par langue (facultatif)
 $Url    : Restriction par url : les url trouves commenceront par $Url (facultatif)
 $create : Restriction par date inscription. Format YYYY-MM-JJ HH:MM:SS (facultatif)
 $update : Restriction par date de mise  jour des pages. Format YYYY-MM-JJ HH:MM:SS (facultatif)
 $catego : Restriction par categorie (facultatif)

Retourne ($resultat,$links,$indice)

 $resultat : Buffer HTML contenant la liste des sites trouves format en fonction
             de $template et des mots present dans $mots
 $links    : Liens vers les pages suivantes / precedentes
 $indice   : Nombre de sites trouves

*/

include("foo.php");
include_once("bar.php");

function search($template,$word,$first,$idc,$langue,$Url,$create,$update,$categorie)
         {
         $mots = split( " ", strtolower($word));
         $i=0;
         # Recherche des requetes booleenes
         while( list($key,$valeur) = each ($mots))
                {
                if    ($valeur == '+') {$ind_and[]=$i;} # Reperage de la position des mots 'and'
                else if ($valeur == '-') {$ind_not[]=$i;} # Reperage de la position des mots 'not'
                else {$mots_tmp[]=$valeur;}
                $i++;
                }
         # Recherche SQL
         $tab = search_word(join("','",$mots_tmp),$idc,'','','','','');
         # On supprime tout ceux qui ne repondent pas aux criteres and si present
         if (is_array($ind_and))
             {while( list($key,$ind) = each($ind_and)) {while( list($url,$tab_url) = each ($tab))
                       {if (!appartient($mots[$ind + 1],$tab_url[5])) {unset($tab[$url]);}}}reset($tab);}
         # On supprime tout ceux qui ne repondent pas aux criteres not si present
         if (is_array($ind_not))
             {while( list($key,$ind) = each($ind_not)) {while( list($url,$tab_url) = each ($tab))
                       {if (appartient($mots[$ind + 1],$tab_url[5])) {unset($tab[$url]);}}}reset($tab);}
         $indice=0;$nbResultPerPage=10;
         $lasto = $first + $nbResultPerPage;
         # On met en forme le resultat
         if (is_array($tab))
             {
             while( list($url,$tab_url) = each ($tab))
                {
                $indiceG=$indice + 1;
                list($titre,$description,$facteur,$langue,$last_update,$mot)=$tab_url;

                if (($indice&gt;=$first)&amp;&amp;($indice&lt;$lasto)) {eval($template);}
                # Constitution des liens suivants / precedents
                if (!($indice%$nbResultPerPage))
                        {
                        $nbPage++;
                        if ($indice==$first) {$links.="$nbPage- ";}
                        else {$links.='&lt;a href="'.get_link($indice,$word,$idc).'"&gt;'.$nbPage.'&lt;/a&gt;- '."\n";}
                        }
                $indice++;
                }
             }
         if ($indice) {$indice="$indice sites trouves";}
         else {$indice="&lt;p&gt;Aucun document trouv.&lt;/p&gt;";}
         return array($resultat,$links,$indice);
         }

/*

Construction de la requete SQL. Son exploitation est faite par search

 $tab    : Reference du hash o mettre le resultat
 $word   : Mot recherch
 $id     : Id du site dans lequel effectu la recherche
 $langue : Restriction par langue (facultatif)
 $Url    : Restriction par url
 $create : Restriction par date inscription
 $update : Restriction par date de mise  jour des pages
 $catego : Restriction par categorie

Retourne le tableau avec le resultat de la recherche
Le hash est constitu comme tel:

      $tab{$url}[0] : titre
      $tab{$url}[1] : description
      $tab{$url}[2] : facteur
      $tab{$url}[3] : langue
      $tab{$url}[4] : date de dernire modification
   @{$$tab{$url}[5]}: liste des mots trouves pour cet url

*/
function search_word($word,$idc,$langue,$Url,$create,$update,$categorie)
         {
         global $prefix;
         global $database;
         if ($langue) {$langue=" and langue='$langue' ";} else {$langue= ' ';}
         if (($Url)&amp;&amp;($Url != 'http://')) {$Url=" and url like '$Url%' ";}          else {$Url=' ';}
         if ($create) {$create="and unix_timestamp('$create')&lt; unix_timestamp(last_check) ";}  else {$create=' ';}
         if ($update) {$update="and unix_timestamp('$update')&lt; unix_timestamp(last_update) ";} else {$update=' ';}
         if ($categorie) {}
         else {$categorie=' ';}
         $requete = "
                select facteur,url,titre,description,langue,last_update,mot
                from   ".$prefix.$idc."links l,".$prefix.$idc."relation r
                where  r.id_site=l.id
                and    r.mot in ('$word')
                $langue $Url $create $update $categorie
                order  by facteur desc";
         $result = mysql_db_query($database,$requete);
         if (!$result) {print "$requete";return ;}
         $RowCount = MySQL_NUMROWS($result);
         while ($i&lt;$RowCount)
                {
                list ($facteur,$url,$titre,$description,$langue,$last_update,$mot)= mysql_fetch_row($result);
                $tab[$url][0] = $titre;
                $tab[$url][1]=$description;
                $tab[$url][2]+=$facteur;
                $tab[$url][3]=$langue;
                $tab[$url][4]=$last_update;
                $tab[$url][5][]=$mot;
                $i++;
                }
         return $tab;
         }

/*

Fonction retournant la liste des categories de la categorie $id dans le site $idr

 $id       : Id de la categorie de depart. Si undef, 0 est utilis (Considr comme le "Home")
 $idr           : Id du responsable
 $template : Masque HTML pour le resultat de chaque lien. Si undef, le masque par defaut
             (defini en haut de ce module) sera utlise

Retourne ($resultat,$nom_categorie) :

 $resultat : Buffer contenant la liste des sites formates en ft de $template
 $nom_categorie : Nom court de la categorie

*/

function categories_in_categorie($id,$idr,$template)
         {
         global $database;
         global $prefix;
         if (!$idr) {$idr=1;}
         if (!$id) {$id=0;}
         $requete = "select id,nom,parent from ".$prefix.$idr."categorie";
         $result = mysql_db_query($database,$requete);
         $RowCount = MySQL_NUMROWS($result);
         $i=0;
         while ($i&lt;$RowCount)
                {
                list ($idc,$nom,$parent)= mysql_fetch_row($result);
                $tab[$idc][0]=$nom;
                $tab[$idc][1]=$parent;
                $i++;
                }
        while( list($key,$val) = each ($tab))
                {
                $nom=$tab[$key][0];
                $parent=$tab[$key][1];
                $nom_complet="&lt;a href=\"".getenv('SCRIPT_NAME')."?browse=1&amp;id=$idr\"&gt;Accueil&lt;/a&gt;".getParent($key,$idr,$tab);
                $links = get_link_categorie($key,$idr);
                if ($parent==$id) {eval($template);}
                }
        if ($i==0) {$resultat="&lt;p&gt;Plus de catgorie&lt;/p&gt;";}
        if ($id!=0) {$titre = "&lt;a href=\"".getenv('SCRIPT_NAME')."?browse=1&amp;id=$idr\"&gt;Accueil&lt;/a&gt; ".getParent($id,$idr,$tab);}
        else {$titre=" ";}
        return array($resultat,$titre);
        }

/*

Fonction retournant la liste des pages de la categorie $id dans le site $idr

 $id       : Id de la categorie de depart. Si undef, 0 est utilis (Considr comme le "Home")
 $idr           : Id du responsable
 $template : Masque HTML pour le resultat de chaque lien. Si undef, le masque par defaut
             (defini en haut de ce module) sera utlise

Retourne le buffer contenant la liste des sites formates en ft de $template

*/

function sites_in_categorie($id,$idr,$template)
         {
         global $database;
         global $prefix;
         $indiceG=1;$facteur=100;
         if (!$idr) {$idr=1;}
         if (!$id) {$id=0;}
         $i=0;
         $requete = "select url,titre,description,langue,last_update from ".$prefix.$idr."links where categorie=$id and browse_categorie='1' and parse='1'";
         $result = mysql_db_query($database,$requete);
         $RowCount = MySQL_NUMROWS($result);
         while ($i&lt;$RowCount)
                {
                list ($url,$titre,$description,$langue,$last_update)= mysql_fetch_row($result);
                eval($template);
                $indiceG++;$i++;
                }
        if ($i==0) {$resultat="&lt;p&gt;Pas de pages dans cette catgorie&lt;/p&gt;";}
        return $resultat;
        }

/*

Rend la chaine correspondante  la catgorie $id avec ses rubriques parentes

*/

function getParent($id,$idr,$tab)
        {
        if (($tab[$id][1]!=0)&amp;&amp;($tab[$id][0])) {$parent = getParent($tab[$id][1],$idr,$tab);}
        if (!$tab[$id][0]) {$tab[$id][0]='Home';}
        $parent.="&amp;gt;&lt;a href=\"".get_link_categorie($id,$idr).'"&gt;'.$tab[$id][0]."&lt;/a&gt;";
        return $parent;
        }
function getWLParent($id,$idr,$tab)
        {
        if (($tab[$id][1]!=0)&amp;&amp;($tab[$id][0])) {$parent = getWLParent($tab[$id][1],$idr,$tab);}
        if (!$tab[$id][0]) {$tab[$id][0]='Home';}
        $parent.="&amp;gt;".$tab[$id][0];
        return $parent;
        }
/*

Retourne 1 si $var appartient  $liste, 0 sinon.

*/
function appartient($var,$liste)
         {
         while( list($key,$val) = each ($liste)) {if ($val==$var) {return 1;}}
         return 0;
         }
/**
 * Retourne l'URL correspondant  la page no $no_page dans la recherche en cours
 */
function get_link($no_page,$word,$id)
         {
         $buf = getenv('SCRIPT_NAME')."?word=".urlencode($word)."&amp;id=".$id."&amp;first=".$no_page;
         if ($nbResultPerPage) {$buf.="&amp;nbResultPerPage=".$nbResultPerPage;}
         return $buf;
         }
/**
 * Retourne l'URL correspondant  la categorie no $no_categorie
 */
function get_link_categorie($no_categorie,$id) {return getenv('SCRIPT_NAME')."?categorie=$no_categorie&amp;id=$id";}

/**
 * Retourne le nom du site dans la table responsable correspondant  l'id $id
 */

function get_name_site($id,$prefix)
        {
        #$result = mysql_db_query("circa","select titre from ".$this-&gt;{PREFIX_TABLE}."responsable where id=$id");
        #$sth-&gt;execute() || print "Erreur: $DBI::errstr\n";
        #my ($titre)=$sth-&gt;fetchrow_array;
        #$sth-&gt;finish;
        return $titre;
        }

function get_liste_categorie($idr)
         {
         global $database;
         global $prefix;
         $requete = "select id,nom,parent from ".$prefix.$idr."categorie";
         $result = mysql_db_query($database,$requete);
         $RowCount = MySQL_NUMROWS($result);
         $i=0;
         while ($i&lt;$RowCount)
                {
                list ($idc,$nom,$parent)= mysql_fetch_row($result);
                $tab[$idc][0]=$nom;
                $tab[$idc][1]=$parent;
                $i++;
                }
        while( list($key,$val) = each ($tab))
                {
                $nom=$tab[$key][0];
                $parent=$tab[$key][1];
                $buf.="&lt;option value=\"$key\"&gt;".getWLParent($key,$idr,$tab)."&lt;/option&gt;";
                }
        return $buf;
        }

function addSite($url,$categorie)
         {
         global $database;
         global $prefix;
         global $idr;
         $requete="insert into ".$prefix.$idr."links (url,titre,description,langue,valide,categorie,browse_categorie)
                   values ('$url',' ',' ','fr',0,$categorie,'1')";
         $result = mysql_db_query($database,$requete);
         }
?&gt;
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_comment">%      +------------------------------+</span>
<span class="sh_comment">%      |   test for Prolog source     |</span>
<span class="sh_comment">%      |______________________________|</span>

<span class="sh_function">isinteger</span><span class="sh_symbol">(</span><span class="sh_variable">X</span><span class="sh_symbol">,</span> <span class="sh_variable">L</span><span class="sh_symbol">)</span> <span class="sh_symbol">:-</span> <span class="sh_function">type</span><span class="sh_symbol">(</span><span class="sh_variable">X</span><span class="sh_symbol">,</span> int<span class="sh_symbol">,</span> <span class="sh_variable">L</span><span class="sh_symbol">).</span>

<span class="sh_comment">% booleans</span>
<span class="sh_function">type</span><span class="sh_symbol">(</span>true<span class="sh_symbol">,</span> bool<span class="sh_symbol">,</span> <span class="sh_variable">_</span><span class="sh_symbol">).</span>
<span class="sh_function">type</span><span class="sh_symbol">(</span>false<span class="sh_symbol">,</span> bool<span class="sh_symbol">,</span> <span class="sh_variable">_</span><span class="sh_symbol">).</span>

<span class="sh_function">type</span><span class="sh_symbol">(</span> <span class="sh_keyword">and</span><span class="sh_symbol">(</span><span class="sh_variable">X</span><span class="sh_symbol">,</span><span class="sh_variable">Y</span><span class="sh_symbol">),</span> bool<span class="sh_symbol">,</span> <span class="sh_variable">L</span><span class="sh_symbol">)</span> <span class="sh_symbol">:-</span> <span class="sh_function">isboolean</span><span class="sh_symbol">(</span><span class="sh_variable">X</span><span class="sh_symbol">,</span><span class="sh_variable">L</span><span class="sh_symbol">),</span> <span class="sh_function">isboolean</span><span class="sh_symbol">(</span><span class="sh_variable">Y</span><span class="sh_symbol">,</span><span class="sh_variable">L</span><span class="sh_symbol">).</span>
<span class="sh_function">type</span><span class="sh_symbol">(</span> <span class="sh_keyword">or</span><span class="sh_symbol">(</span><span class="sh_variable">X</span><span class="sh_symbol">,</span><span class="sh_variable">Y</span><span class="sh_symbol">),</span> bool<span class="sh_symbol">,</span> <span class="sh_variable">L</span><span class="sh_symbol">)</span> <span class="sh_symbol">:-</span> <span class="sh_function">isboolean</span><span class="sh_symbol">(</span><span class="sh_variable">X</span><span class="sh_symbol">,</span><span class="sh_variable">L</span><span class="sh_symbol">),</span> <span class="sh_function">isboolean</span><span class="sh_symbol">(</span><span class="sh_variable">Y</span><span class="sh_symbol">,</span><span class="sh_variable">L</span><span class="sh_symbol">).</span>
<span class="sh_function">type</span><span class="sh_symbol">(</span> <span class="sh_keyword">not</span><span class="sh_symbol">(</span><span class="sh_variable">X</span><span class="sh_symbol">),</span> bool<span class="sh_symbol">,</span> <span class="sh_variable">L</span><span class="sh_symbol">)</span> <span class="sh_symbol">:-</span> <span class="sh_function">isboolean</span><span class="sh_symbol">(</span><span class="sh_variable">X</span><span class="sh_symbol">,</span><span class="sh_variable">L</span><span class="sh_symbol">).</span>

<span class="sh_function">type</span><span class="sh_symbol">(</span> <span class="sh_function">succ</span><span class="sh_symbol">(</span><span class="sh_variable">X</span><span class="sh_symbol">),</span> int<span class="sh_symbol">,</span> <span class="sh_variable">L</span> <span class="sh_symbol">)</span> <span class="sh_symbol">:-</span> <span class="sh_function">isinteger</span><span class="sh_symbol">(</span><span class="sh_variable">X</span><span class="sh_symbol">,</span><span class="sh_variable">L</span><span class="sh_symbol">).</span>
<span class="sh_function">type</span><span class="sh_symbol">(</span> <span class="sh_function">pred</span><span class="sh_symbol">(</span><span class="sh_variable">X</span><span class="sh_symbol">),</span> int<span class="sh_symbol">,</span> <span class="sh_variable">L</span> <span class="sh_symbol">)</span> <span class="sh_symbol">:-</span> <span class="sh_function">isinteger</span><span class="sh_symbol">(</span><span class="sh_variable">X</span><span class="sh_symbol">,</span><span class="sh_variable">L</span><span class="sh_symbol">).</span>
<span class="sh_function">type</span><span class="sh_symbol">(</span> <span class="sh_function">iszero</span><span class="sh_symbol">(</span><span class="sh_variable">X</span><span class="sh_symbol">),</span> bool<span class="sh_symbol">,</span> <span class="sh_variable">L</span> <span class="sh_symbol">)</span> <span class="sh_symbol">:-</span> <span class="sh_function">isinteger</span><span class="sh_symbol">(</span><span class="sh_variable">X</span><span class="sh_symbol">,</span><span class="sh_variable">L</span><span class="sh_symbol">).</span>
<span class="sh_function">type</span><span class="sh_symbol">(</span> <span class="sh_variable">X</span> <span class="sh_symbol">&lt;</span> <span class="sh_variable">Y</span><span class="sh_symbol">,</span> bool<span class="sh_symbol">,</span> <span class="sh_variable">L</span> <span class="sh_symbol">)</span> <span class="sh_symbol">:-</span> <span class="sh_function">isinteger</span><span class="sh_symbol">(</span><span class="sh_variable">X</span><span class="sh_symbol">,</span><span class="sh_variable">L</span><span class="sh_symbol">),</span> <span class="sh_function">isinteger</span><span class="sh_symbol">(</span><span class="sh_variable">Y</span><span class="sh_symbol">,</span><span class="sh_variable">L</span><span class="sh_symbol">).</span>

<span class="sh_comment">% is_member(X,L) check whether X is in the list</span>
<span class="sh_comment">% by using unification with occur check</span>

<span class="sh_function">is_member</span><span class="sh_symbol">(</span><span class="sh_variable">_</span><span class="sh_symbol">,</span> <span class="sh_symbol">[])</span> <span class="sh_symbol">:-</span> <span class="sh_keyword">fail</span><span class="sh_symbol">.</span>
<span class="sh_function">is_member</span><span class="sh_symbol">(</span><span class="sh_variable">X</span><span class="sh_symbol">,</span> <span class="sh_symbol">[</span><span class="sh_variable">Y</span> <span class="sh_symbol">|</span> <span class="sh_variable">_</span><span class="sh_symbol">])</span> <span class="sh_symbol">:-</span> <span class="sh_function">unify</span><span class="sh_symbol">(</span><span class="sh_variable">X</span><span class="sh_symbol">,</span><span class="sh_variable">Y</span><span class="sh_symbol">).</span>
<span class="sh_function">is_member</span><span class="sh_symbol">(</span><span class="sh_variable">X</span><span class="sh_symbol">,</span> <span class="sh_symbol">[</span><span class="sh_variable">_</span> <span class="sh_symbol">|</span> <span class="sh_variable">List</span><span class="sh_symbol">])</span> <span class="sh_symbol">:-</span> <span class="sh_function">is_member</span><span class="sh_symbol">(</span><span class="sh_variable">X</span><span class="sh_symbol">,</span> <span class="sh_variable">List</span><span class="sh_symbol">).</span>
</pre>
</td>
<td><pre class="sh_prolog">%      +------------------------------+
%      |   test for Prolog source     |
%      |______________________________|

isinteger(X, L) :- type(X, int, L).

% booleans
type(true, bool, _).
type(false, bool, _).

type( and(X,Y), bool, L) :- isboolean(X,L), isboolean(Y,L).
type( or(X,Y), bool, L) :- isboolean(X,L), isboolean(Y,L).
type( not(X), bool, L) :- isboolean(X,L).

type( succ(X), int, L ) :- isinteger(X,L).
type( pred(X), int, L ) :- isinteger(X,L).
type( iszero(X), bool, L ) :- isinteger(X,L).
type( X &lt; Y, bool, L ) :- isinteger(X,L), isinteger(Y,L).

% is_member(X,L) check whether X is in the list
% by using unification with occur check

is_member(_, []) :- fail.
is_member(X, [Y | _]) :- unify(X,Y).
is_member(X, [_ | List]) :- is_member(X, List).
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_comment"># Here an extract of package MIME::Lite::HTML</span>

<span class="sh_keyword">package</span> MIME<span class="sh_symbol">::</span>Lite<span class="sh_symbol">::</span>HTML<span class="sh_symbol">;</span>

<span class="sh_comment"># module MIME::Lite::HTML : Provide routine to transform a HTML page in </span>
<span class="sh_comment"># a MIME::Lite mail</span>
<span class="sh_comment"># Copyright 2001 A.Barbet alian@alianwebserver.com.  All rights reserved.</span>

<span class="sh_comment"># Revision 1.1  2002/02/07 15:58:35  bettini</span>
<span class="sh_comment"># added scanner for perl</span>
<span class="sh_comment">#</span>
<span class="sh_comment"># Revision 1.12  2002/01/07 20:18:53  alian</span>
<span class="sh_comment"># - Add replace links for frame &amp; iframe</span>
<span class="sh_comment"># - Correct incorrect parsing in include_css for &lt;LINK REL="SHORTCUT ICON"&gt;</span>
<span class="sh_comment"># tag. Tks to doggy@miniasp.com for idea and patch</span>
<span class="sh_comment">#</span>
<span class="sh_comment"># Revision 1.11  2001/12/13 22:42:33  alian</span>
<span class="sh_comment"># - Correct a bug with relative anchor</span>
<span class="sh_comment">#</span>
<span class="sh_comment"># Revision 1.10  2001/11/07 10:52:43  alian</span>
<span class="sh_comment"># - Add feature for get restricted url. Add LoginDetails parameter for that</span>
<span class="sh_comment"># (tks to Leon.Halford@ing-barings.com for idea)</span>
<span class="sh_comment"># - Change error in POD doc rfc2257 =&gt; rfc2557 (tks to</span>
<span class="sh_comment"># justin.zaglio@morganstanley.com)</span>
<span class="sh_comment"># - Correct warning when $url_html is undef</span>

<span class="sh_keyword">use</span> LWP<span class="sh_symbol">::</span>UserAgent<span class="sh_symbol">;</span>
<span class="sh_keyword">use</span> HTML<span class="sh_symbol">::</span>LinkExtor<span class="sh_symbol">;</span>
<span class="sh_keyword">use</span> URI<span class="sh_symbol">::</span>URL<span class="sh_symbol">;</span>
<span class="sh_keyword">use</span> MIME<span class="sh_symbol">::</span>Lite<span class="sh_symbol">;</span>
<span class="sh_keyword">use</span> strict<span class="sh_symbol">;</span>
<span class="sh_keyword">use</span> vars <span class="sh_keyword">qw</span><span class="sh_symbol">(</span><span class="sh_variable">$VERSION</span> <span class="sh_variable">@ISA</span> <span class="sh_variable">@EXPORT</span> <span class="sh_variable">@EXPORT_OK</span><span class="sh_symbol">);</span>

<span class="sh_keyword">require</span> Exporter<span class="sh_symbol">;</span>

<span class="sh_variable">@ISA</span> <span class="sh_symbol">=</span> <span class="sh_keyword">qw</span><span class="sh_symbol">(</span>Exporter<span class="sh_symbol">);</span>
<span class="sh_variable">@EXPORT</span> <span class="sh_symbol">=</span> <span class="sh_keyword">qw</span><span class="sh_symbol">();</span>

<span class="sh_keyword">my</span> <span class="sh_variable">$LOGINDETAILS</span><span class="sh_symbol">;</span>

<span class="sh_comment">#------------------------------------------------------------------------------</span>
<span class="sh_comment"># redefine get_basic_credentials</span>
<span class="sh_comment">#------------------------------------------------------------------------------</span>
<span class="sh_cbracket">{</span>
    <span class="sh_keyword">package</span> RequestAgent<span class="sh_symbol">;</span>
    <span class="sh_keyword">use</span> vars <span class="sh_keyword">qw</span><span class="sh_symbol">(</span><span class="sh_variable">@ISA</span><span class="sh_symbol">);</span>
    <span class="sh_variable">@ISA</span> <span class="sh_symbol">=</span> <span class="sh_keyword">qw</span><span class="sh_symbol">(</span>LWP<span class="sh_symbol">::</span>UserAgent<span class="sh_symbol">);</span>

    <span class="sh_keyword">sub</span> new
    <span class="sh_cbracket">{</span> 
	<span class="sh_keyword">my</span> <span class="sh_variable">$self</span> <span class="sh_symbol">=</span> LWP<span class="sh_symbol">::</span>UserAgent<span class="sh_symbol">::</span><span class="sh_function">new</span><span class="sh_symbol">(</span><span class="sh_variable">@_</span><span class="sh_symbol">);</span>
	<span class="sh_variable">$self</span><span class="sh_symbol">;</span>
    <span class="sh_cbracket">}</span>

    <span class="sh_keyword">sub</span> get_basic_credentials
	<span class="sh_cbracket">{</span>	
	  <span class="sh_keyword">my</span><span class="sh_symbol">(</span><span class="sh_variable">$self</span><span class="sh_symbol">,</span> <span class="sh_variable">$realm</span><span class="sh_symbol">,</span> <span class="sh_variable">$uri</span><span class="sh_symbol">)</span> <span class="sh_symbol">=</span> <span class="sh_variable">@_</span><span class="sh_symbol">;</span>
	  <span class="sh_comment"># Use parameter of MIME-Lite-HTML, key LoginDetails</span>
	  <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_keyword">defined</span> <span class="sh_variable">$LOGINDETAILS</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span> <span class="sh_keyword">return</span> <span class="sh_keyword">split</span><span class="sh_symbol">(</span><span class="sh_string">':'</span><span class="sh_symbol">,</span> <span class="sh_variable">$LOGINDETAILS</span><span class="sh_symbol">,</span> <span class="sh_number">2</span><span class="sh_symbol">);</span> <span class="sh_cbracket">}</span> 
	  <span class="sh_comment"># Ask user on STDIN</span>
	  <span class="sh_keyword">elsif</span> <span class="sh_symbol">(-</span>t<span class="sh_symbol">)</span> 
	    <span class="sh_cbracket">{</span>
		<span class="sh_keyword">my</span> <span class="sh_variable">$netloc</span> <span class="sh_symbol">=</span> <span class="sh_variable">$uri</span><span class="sh_symbol">-&gt;</span>host_port<span class="sh_symbol">;</span>
		<span class="sh_keyword">print</span> <span class="sh_string">"Enter username for $realm at $netloc: "</span><span class="sh_symbol">;</span>
		<span class="sh_keyword">my</span> <span class="sh_variable">$user</span> <span class="sh_symbol">=</span> <span class="sh_string">&lt;STDIN&gt;</span><span class="sh_symbol">;</span>
		<span class="sh_keyword">chomp</span><span class="sh_symbol">(</span><span class="sh_variable">$user</span><span class="sh_symbol">);</span>
		<span class="sh_comment"># 403 if no user given</span>
		<span class="sh_keyword">return</span> <span class="sh_symbol">(</span><span class="sh_keyword">undef</span><span class="sh_symbol">,</span> <span class="sh_keyword">undef</span><span class="sh_symbol">)</span> <span class="sh_keyword">unless</span> <span class="sh_keyword">length</span> <span class="sh_variable">$user</span><span class="sh_symbol">;</span>
		<span class="sh_keyword">print</span> <span class="sh_string">"Password: "</span><span class="sh_symbol">;</span>
		<span class="sh_keyword">system</span><span class="sh_symbol">(</span><span class="sh_string">"stty -echo"</span><span class="sh_symbol">);</span>
		<span class="sh_keyword">my</span> <span class="sh_variable">$password</span> <span class="sh_symbol">=</span> <span class="sh_string">&lt;STDIN&gt;</span><span class="sh_symbol">;</span>
		<span class="sh_keyword">system</span><span class="sh_symbol">(</span><span class="sh_string">"stty echo"</span><span class="sh_symbol">);</span>
		<span class="sh_keyword">print</span> <span class="sh_string">"\n"</span><span class="sh_symbol">;</span>  <span class="sh_comment"># because we disabled echo</span>
		<span class="sh_keyword">chomp</span><span class="sh_symbol">(</span><span class="sh_variable">$password</span><span class="sh_symbol">);</span>
		<span class="sh_keyword">return</span> <span class="sh_symbol">(</span><span class="sh_variable">$user</span><span class="sh_symbol">,</span> <span class="sh_variable">$password</span><span class="sh_symbol">);</span>
	    <span class="sh_cbracket">}</span>
	  <span class="sh_comment"># Damm we got 403 with CGI (use param LoginDetails)  ...</span>
	  <span class="sh_keyword">else</span> <span class="sh_cbracket">{</span> <span class="sh_keyword">return</span> <span class="sh_symbol">(</span><span class="sh_keyword">undef</span><span class="sh_symbol">,</span> <span class="sh_keyword">undef</span><span class="sh_symbol">)</span> <span class="sh_cbracket">}</span>
	<span class="sh_cbracket">}</span>
  <span class="sh_cbracket">}</span>

<span class="sh_comment">#------------------------------------------------------------------------------</span>
<span class="sh_comment"># new</span>
<span class="sh_comment">#------------------------------------------------------------------------------</span>
<span class="sh_keyword">sub</span> new
  <span class="sh_cbracket">{</span>
    <span class="sh_keyword">my</span> <span class="sh_variable">$class</span> <span class="sh_symbol">=</span> <span class="sh_keyword">shift</span><span class="sh_symbol">;</span>
    <span class="sh_keyword">my</span> <span class="sh_variable">$self</span> <span class="sh_symbol">=</span> <span class="sh_cbracket">{}</span><span class="sh_symbol">;</span>
    <span class="sh_keyword">bless</span> <span class="sh_variable">$self</span><span class="sh_symbol">,</span> <span class="sh_variable">$class</span><span class="sh_symbol">;</span>
    <span class="sh_keyword">my</span> <span class="sh_variable">%param</span> <span class="sh_symbol">=</span> <span class="sh_variable">@_</span><span class="sh_symbol">;</span>
    <span class="sh_comment"># Agent name</span>
    <span class="sh_variable">$self</span><span class="sh_symbol">-&gt;</span><span class="sh_cbracket">{</span>_AGENT<span class="sh_cbracket">}</span> <span class="sh_symbol">=</span> new RequestAgent<span class="sh_symbol">;</span>
    <span class="sh_variable">$self</span><span class="sh_symbol">-&gt;</span><span class="sh_cbracket">{</span>_AGENT<span class="sh_cbracket">}</span><span class="sh_symbol">-&gt;</span><span class="sh_function">agent</span><span class="sh_symbol">(</span><span class="sh_string">"MIME-Lite-HTML $VERSION"</span><span class="sh_symbol">);</span>
    <span class="sh_variable">$self</span><span class="sh_symbol">-&gt;</span><span class="sh_cbracket">{</span>_AGENT<span class="sh_cbracket">}</span><span class="sh_symbol">-&gt;</span><span class="sh_function">from</span><span class="sh_symbol">(</span><span class="sh_string">'mime-lite-html@alianwebserver.com'</span> <span class="sh_symbol">);</span>
    <span class="sh_comment"># Set debug level</span>
    <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'Debug'</span><span class="sh_cbracket">}</span><span class="sh_symbol">)</span>
      <span class="sh_cbracket">{</span>
	<span class="sh_variable">$self</span><span class="sh_symbol">-&gt;</span><span class="sh_cbracket">{</span>_DEBUG<span class="sh_cbracket">}</span> <span class="sh_symbol">=</span> <span class="sh_number">1</span><span class="sh_symbol">;</span>
	<span class="sh_keyword">delete</span> <span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'Debug'</span><span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
      <span class="sh_cbracket">}</span>
    <span class="sh_comment"># Set Login information</span>
    <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'LoginDetails'</span><span class="sh_cbracket">}</span><span class="sh_symbol">)</span>
      <span class="sh_cbracket">{</span>
	  <span class="sh_variable">$LOGINDETAILS</span> <span class="sh_symbol">=</span> <span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'LoginDetails'</span><span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
	  <span class="sh_keyword">delete</span> <span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'LoginDetails'</span><span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
      <span class="sh_cbracket">}</span>
    <span class="sh_comment"># Set type of include to do</span>
    <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'IncludeType'</span><span class="sh_cbracket">}</span><span class="sh_symbol">)</span>
      <span class="sh_cbracket">{</span>
	<span class="sh_keyword">die</span> <span class="sh_string">"IncludeType must be in 'extern', 'cid' or 'location'\n"</span> <span class="sh_keyword">if</span>
	  <span class="sh_symbol">(</span> <span class="sh_symbol">(</span><span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'IncludeType'</span><span class="sh_cbracket">}</span> ne <span class="sh_string">'extern'</span><span class="sh_symbol">)</span> <span class="sh_keyword">and</span>
	    <span class="sh_symbol">(</span><span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'IncludeType'</span><span class="sh_cbracket">}</span> ne <span class="sh_string">'cid'</span><span class="sh_symbol">)</span> <span class="sh_keyword">and</span>
	    <span class="sh_symbol">(</span><span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'IncludeType'</span><span class="sh_cbracket">}</span> ne <span class="sh_string">'location'</span><span class="sh_symbol">));</span>	
	<span class="sh_variable">$self</span><span class="sh_symbol">-&gt;</span><span class="sh_cbracket">{</span>_include<span class="sh_cbracket">}</span> <span class="sh_symbol">=</span> <span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'IncludeType'</span><span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
	<span class="sh_keyword">delete</span> <span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'IncludeType'</span><span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
      <span class="sh_cbracket">}</span>
    <span class="sh_comment"># Defaut type: use a Content-Location field</span>
    <span class="sh_keyword">else</span> <span class="sh_cbracket">{</span><span class="sh_variable">$self</span><span class="sh_symbol">-&gt;</span><span class="sh_cbracket">{</span>_include<span class="sh_cbracket">}</span><span class="sh_symbol">=</span><span class="sh_string">'location'</span><span class="sh_symbol">;</span><span class="sh_cbracket">}</span>

<span class="sh_comment">## Added by Michalis@linuxmail.org to manipulate non-us mails</span>
   <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'TextCharset'</span><span class="sh_cbracket">}</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
     <span class="sh_variable">$self</span><span class="sh_symbol">-&gt;</span><span class="sh_cbracket">{</span>_textcharset<span class="sh_cbracket">}</span><span class="sh_symbol">=</span><span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'TextCharset'</span><span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
     <span class="sh_keyword">delete</span> <span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'TextCharset'</span><span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
   <span class="sh_cbracket">}</span>
   <span class="sh_keyword">else</span> <span class="sh_cbracket">{</span> <span class="sh_variable">$self</span><span class="sh_symbol">-&gt;</span><span class="sh_cbracket">{</span>_textcharset<span class="sh_cbracket">}</span><span class="sh_symbol">=</span><span class="sh_string">'iso-8859-1'</span><span class="sh_symbol">;</span> <span class="sh_cbracket">}</span>
   <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'HTMLCharset'</span><span class="sh_cbracket">}</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
     <span class="sh_variable">$self</span><span class="sh_symbol">-&gt;</span><span class="sh_cbracket">{</span>_htmlcharset<span class="sh_cbracket">}</span><span class="sh_symbol">=</span><span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'HTMLCharset'</span><span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
     <span class="sh_keyword">delete</span> <span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'HTMLCharset'</span><span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
    <span class="sh_cbracket">}</span>
   <span class="sh_keyword">else</span> <span class="sh_cbracket">{</span> <span class="sh_variable">$self</span><span class="sh_symbol">-&gt;</span><span class="sh_cbracket">{</span>_htmlcharset<span class="sh_cbracket">}</span><span class="sh_symbol">=</span><span class="sh_string">'iso-8859-1'</span><span class="sh_symbol">;</span> <span class="sh_cbracket">}</span>

   <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'TextEncoding'</span><span class="sh_cbracket">}</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
     <span class="sh_variable">$self</span><span class="sh_symbol">-&gt;</span><span class="sh_cbracket">{</span>_textencoding<span class="sh_cbracket">}</span><span class="sh_symbol">=</span><span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'TextEncoding'</span><span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
     <span class="sh_keyword">delete</span> <span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'TextEncoding'</span><span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
    <span class="sh_cbracket">}</span>
   <span class="sh_keyword">else</span> <span class="sh_cbracket">{</span> <span class="sh_variable">$self</span><span class="sh_symbol">-&gt;</span><span class="sh_cbracket">{</span>_textencoding<span class="sh_cbracket">}</span><span class="sh_symbol">=</span><span class="sh_string">'7bit'</span><span class="sh_symbol">;</span> <span class="sh_cbracket">}</span>

   <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'HTMLEncoding'</span><span class="sh_cbracket">}</span><span class="sh_symbol">)</span> <span class="sh_cbracket">{</span>
     <span class="sh_variable">$self</span><span class="sh_symbol">-&gt;</span><span class="sh_cbracket">{</span>_htmlencoding<span class="sh_cbracket">}</span><span class="sh_symbol">=</span><span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'HTMLEncoding'</span><span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
     <span class="sh_keyword">delete</span> <span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'HTMLEncoding'</span><span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
    <span class="sh_cbracket">}</span>
   <span class="sh_keyword">else</span> <span class="sh_cbracket">{</span> <span class="sh_variable">$self</span><span class="sh_symbol">-&gt;</span><span class="sh_cbracket">{</span>_htmlencoding<span class="sh_cbracket">}</span><span class="sh_symbol">=</span><span class="sh_string">'quoted-printable'</span><span class="sh_symbol">;</span> <span class="sh_cbracket">}</span>
<span class="sh_comment">## End. Default values remain as they were initially set.</span>
<span class="sh_comment">## No need to change existing scripts if you send US-ASCII. </span>
<span class="sh_comment">## If you DON't send us-ascii, you wouldn't be able to use </span>
<span class="sh_comment">## MIME::Lite::HTML anyway :-)</span>

    <span class="sh_comment"># Set proxy to use to get file</span>
    <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'Proxy'</span><span class="sh_cbracket">}</span><span class="sh_symbol">)</span>
      <span class="sh_cbracket">{</span>
	<span class="sh_variable">$self</span><span class="sh_symbol">-&gt;</span><span class="sh_cbracket">{</span>_AGENT<span class="sh_cbracket">}</span><span class="sh_symbol">-&gt;</span><span class="sh_function">proxy</span><span class="sh_symbol">(</span><span class="sh_string">'http'</span><span class="sh_symbol">,</span><span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'Proxy'</span><span class="sh_cbracket">}</span><span class="sh_symbol">)</span> <span class="sh_symbol">;</span>
	<span class="sh_keyword">print</span> <span class="sh_string">"Set proxy for http : "</span><span class="sh_symbol">,</span> <span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'Proxy'</span><span class="sh_cbracket">}</span><span class="sh_symbol">,</span><span class="sh_string">"\n"</span> 
	  <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_variable">$self</span><span class="sh_symbol">-&gt;</span><span class="sh_cbracket">{</span>_DEBUG<span class="sh_cbracket">}</span><span class="sh_symbol">);</span>
	<span class="sh_keyword">delete</span> <span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'Proxy'</span><span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
      <span class="sh_cbracket">}</span>
    <span class="sh_comment"># Set hash to use with template</span>
    <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'HashTemplate'</span><span class="sh_cbracket">}</span><span class="sh_symbol">)</span>
      <span class="sh_cbracket">{</span>
	<span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'HashTemplate'</span><span class="sh_cbracket">}</span> <span class="sh_symbol">=</span> <span class="sh_keyword">ref</span><span class="sh_symbol">(</span><span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'HashTemplate'</span><span class="sh_cbracket">}</span><span class="sh_symbol">)</span> <span class="sh_keyword">eq</span> <span class="sh_string">"HASH"</span> 
	  <span class="sh_symbol">?</span> <span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'HashTemplate'</span><span class="sh_cbracket">}</span> <span class="sh_symbol">:</span> <span class="sh_symbol">%</span><span class="sh_cbracket">{</span><span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'HashTemplate'</span><span class="sh_cbracket">}}</span><span class="sh_symbol">;</span>
	<span class="sh_variable">$self</span><span class="sh_symbol">-&gt;</span><span class="sh_cbracket">{</span>_HASH_TEMPLATE<span class="sh_cbracket">}</span><span class="sh_symbol">=</span> <span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'HashTemplate'</span><span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
	<span class="sh_keyword">delete</span> <span class="sh_variable">$param</span><span class="sh_cbracket">{</span><span class="sh_string">'HashTemplate'</span><span class="sh_cbracket">}</span><span class="sh_symbol">;</span>
      <span class="sh_cbracket">}</span>
    <span class="sh_variable">$self</span><span class="sh_symbol">-&gt;</span><span class="sh_cbracket">{</span>_param<span class="sh_cbracket">}</span> <span class="sh_symbol">=</span> <span class="sh_symbol">\</span><span class="sh_variable">%param</span><span class="sh_symbol">;</span>
    <span class="sh_comment"># Ok I hope I known what I do ;-)</span>
    MIME<span class="sh_symbol">::</span>Lite<span class="sh_symbol">-&gt;</span><span class="sh_function">quiet</span><span class="sh_symbol">(</span><span class="sh_number">1</span><span class="sh_symbol">);</span>
    <span class="sh_keyword">return</span> <span class="sh_variable">$self</span><span class="sh_symbol">;</span>
  <span class="sh_cbracket">}</span>

<span class="sh_comment">#------------------------------------------------------------------------------</span>
<span class="sh_comment"># POD Documentation</span>
<span class="sh_comment">#------------------------------------------------------------------------------</span>

<span class="sh_comment">=head1 NAME</span>

<span class="sh_comment">MIME::Lite::HTML - Provide routine to transform a HTML page in a MIME-Lite mail</span>

<span class="sh_comment">=head1 SYNOPSIS</span>

<span class="sh_comment">  #!/usr/bin/perl -w </span>
<span class="sh_comment">  # A cgi program that do "Mail this page to a friend";</span>
<span class="sh_comment">  # Call this script like this :</span>
<span class="sh_comment">  # script.cgi?email=myfriend@isp.com&amp;url=http://www.go.com</span>
<span class="sh_comment">  use strict;</span>
<span class="sh_comment">  use CGI qw/:standard/;</span>
<span class="sh_comment">  use CGI::Carp qw/fatalsToBrowser/;</span>
<span class="sh_comment">  use MIME::Lite::HTML;</span>
<span class="sh_comment">  </span>
<span class="sh_comment">  my $mailHTML = new MIME::Lite::HTML</span>
<span class="sh_comment">     From     =&gt; 'MIME-Lite@alianwebserver.com',</span>
<span class="sh_comment">     To       =&gt; param('email'),</span>
<span class="sh_comment">     Subject =&gt; 'Your url: '.param('url');</span>
<span class="sh_comment">  </span>
<span class="sh_comment">  my $MIMEmail = $mailHTML-&gt;parse(param('url'));</span>
<span class="sh_comment">  $MIMEmail-&gt;send; # or for win user : $mail-&gt;send_by_smtp('smtp.fai.com');</span>
<span class="sh_comment">  print header,"Mail envoye (", param('url'), " to ", param('email'),")&lt;br&gt;\n";</span>

<span class="sh_comment">=head1 DESCRIPTION</span>

<span class="sh_comment">This module is a Perl mail client interface for sending message that </span>
<span class="sh_comment">support HTML format and build them for you..</span>
<span class="sh_comment">This module provide routine to transform a HTML page in MIME::Lite mail.</span>
<span class="sh_comment">So you need this module to use MIME-Lite-HTML possibilities</span>

<span class="sh_comment">=head2 What's happen ?</span>

<span class="sh_comment">The job done is:</span>

<span class="sh_comment">=over</span>

<span class="sh_comment">=item *</span>

<span class="sh_comment">Get the file (LWP) if needed</span>

<span class="sh_comment">=item *</span>

<span class="sh_comment">Parse page to find include images (gif, jpg, flash)</span>

<span class="sh_comment">=item *</span>

<span class="sh_comment">Attach them to mail with adequat header if asked (default)</span>

<span class="sh_comment">=item *</span>

<span class="sh_comment">Include external CSS,Javascript file</span>

<span class="sh_comment">=item *</span>

<span class="sh_comment">Replace relative url with absolute one</span>

<span class="sh_comment">=item *</span>

<span class="sh_comment">Build the final MIME-Lite object with each part found</span>

<span class="sh_comment">=back</span>

<span class="sh_comment">=cut</span>

<span class="sh_comment">## the next one is just to see if =cut is recognized</span>
<span class="sh_keyword">sub</span> foo
  <span class="sh_cbracket">{</span>
    <span class="sh_keyword">my</span> <span class="sh_variable">$class</span> <span class="sh_symbol">=</span> <span class="sh_keyword">shift</span><span class="sh_symbol">;</span>
    <span class="sh_keyword">my</span> <span class="sh_variable">$self</span> <span class="sh_symbol">=</span> <span class="sh_cbracket">{}</span><span class="sh_symbol">;</span>
    <span class="sh_keyword">bless</span> <span class="sh_variable">$self</span><span class="sh_symbol">,</span> <span class="sh_variable">$class</span><span class="sh_symbol">;</span>
    <span class="sh_variable">$content</span> <span class="sh_symbol">=~</span> <span class="sh_keyword">s</span><span class="sh_regexp">/^.*content:.*?\"//</span><span class="sh_keyword">i</span><span class="sh_symbol">;</span>
  <span class="sh_cbracket">}</span>


<span class="sh_variable">$theline</span> <span class="sh_symbol">=~</span> <span class="sh_keyword">s</span><span class="sh_regexp">/(&lt;=|=&gt;|=|\-|\+|\*|\/|\*\*|;|:|\\|\'|\"|,|\.|\(|\)|\[|\]|\{|\}|&lt;|&gt;)/\&lt;span class\=\"op\"\&gt;$1\&lt;\/span&gt;/</span><span class="sh_keyword">g</span><span class="sh_symbol">;</span>

<span class="sh_variable">$theline</span> <span class="sh_symbol">=~</span> <span class="sh_keyword">s</span><span class="sh_regexp">/(&lt;=|=&gt;|=|\-|\+|\*|\/|\*\*|;|:|\\|\'|\"|,|\.|\(|\)|\[|\]|\{|\}|&lt;|&gt;)/</span><span class="sh_keyword">g</span><span class="sh_symbol">;</span>

<span class="sh_keyword">if</span><span class="sh_symbol">(</span><span class="sh_variable">$#ARGV</span><span class="sh_symbol">==</span><span class="sh_number">2</span><span class="sh_symbol">)</span><span class="sh_cbracket">{}</span>

<span class="sh_variable">$someString</span> <span class="sh_symbol">=~</span> <span class="sh_keyword">m</span><span class="sh_regexp">/anything/</span>gix <span class="sh_symbol">;</span>
<span class="sh_variable">$someString</span> <span class="sh_symbol">=~</span>  <span class="sh_string">/anything/</span>    <span class="sh_symbol">;</span>
<span class="sh_keyword">if</span><span class="sh_symbol">(</span><span class="sh_variable">$someString</span> <span class="sh_symbol">=~</span>  <span class="sh_string">/anything/</span><span class="sh_keyword">g</span>   <span class="sh_symbol">)</span><span class="sh_cbracket">{}</span>
<span class="sh_keyword">if</span><span class="sh_symbol">(</span>                <span class="sh_string">/anything/</span>    <span class="sh_symbol">)</span><span class="sh_cbracket">{}</span>

<span class="sh_keyword">if</span><span class="sh_symbol">(</span><span class="sh_variable">$somestring</span> <span class="sh_symbol">=~</span>  <span class="sh_keyword">s</span><span class="sh_regexp">/something/something else/</span><span class="sh_keyword">gi</span> <span class="sh_symbol">)</span><span class="sh_cbracket">{}</span>
<span class="sh_variable">$somestring</span> <span class="sh_symbol">=~</span>   <span class="sh_string">/something/something else/</span>   <span class="sh_symbol">;</span>
<span class="sh_variable">$somestring</span> <span class="sh_symbol">=~</span> <span class="sh_keyword">qr</span><span class="sh_regexp">/something/</span>something <span class="sh_keyword">else</span><span class="sh_symbol">/</span>   <span class="sh_symbol">;</span>
</pre>
</td>
<td><pre class="sh_perl"># Here an extract of package MIME::Lite::HTML

package MIME::Lite::HTML;

# module MIME::Lite::HTML : Provide routine to transform a HTML page in 
# a MIME::Lite mail
# Copyright 2001 A.Barbet alian@alianwebserver.com.  All rights reserved.

# Revision 1.1  2002/02/07 15:58:35  bettini
# added scanner for perl
#
# Revision 1.12  2002/01/07 20:18:53  alian
# - Add replace links for frame &amp; iframe
# - Correct incorrect parsing in include_css for &lt;LINK REL="SHORTCUT ICON"&gt;
# tag. Tks to doggy@miniasp.com for idea and patch
#
# Revision 1.11  2001/12/13 22:42:33  alian
# - Correct a bug with relative anchor
#
# Revision 1.10  2001/11/07 10:52:43  alian
# - Add feature for get restricted url. Add LoginDetails parameter for that
# (tks to Leon.Halford@ing-barings.com for idea)
# - Change error in POD doc rfc2257 =&gt; rfc2557 (tks to
# justin.zaglio@morganstanley.com)
# - Correct warning when $url_html is undef

use LWP::UserAgent;
use HTML::LinkExtor;
use URI::URL;
use MIME::Lite;
use strict;
use vars qw($VERSION @ISA @EXPORT @EXPORT_OK);

require Exporter;

@ISA = qw(Exporter);
@EXPORT = qw();

my $LOGINDETAILS;

#------------------------------------------------------------------------------
# redefine get_basic_credentials
#------------------------------------------------------------------------------
{
    package RequestAgent;
    use vars qw(@ISA);
    @ISA = qw(LWP::UserAgent);

    sub new
    { 
	my $self = LWP::UserAgent::new(@_);
	$self;
    }

    sub get_basic_credentials
	{	
	  my($self, $realm, $uri) = @_;
	  # Use parameter of MIME-Lite-HTML, key LoginDetails
	  if (defined $LOGINDETAILS) { return split(':', $LOGINDETAILS, 2); } 
	  # Ask user on STDIN
	  elsif (-t) 
	    {
		my $netloc = $uri-&gt;host_port;
		print "Enter username for $realm at $netloc: ";
		my $user = &lt;STDIN&gt;;
		chomp($user);
		# 403 if no user given
		return (undef, undef) unless length $user;
		print "Password: ";
		system("stty -echo");
		my $password = &lt;STDIN&gt;;
		system("stty echo");
		print "\n";  # because we disabled echo
		chomp($password);
		return ($user, $password);
	    }
	  # Damm we got 403 with CGI (use param LoginDetails)  ...
	  else { return (undef, undef) }
	}
  }

#------------------------------------------------------------------------------
# new
#------------------------------------------------------------------------------
sub new
  {
    my $class = shift;
    my $self = {};
    bless $self, $class;
    my %param = @_;
    # Agent name
    $self-&gt;{_AGENT} = new RequestAgent;
    $self-&gt;{_AGENT}-&gt;agent("MIME-Lite-HTML $VERSION");
    $self-&gt;{_AGENT}-&gt;from('mime-lite-html@alianwebserver.com' );
    # Set debug level
    if ($param{'Debug'})
      {
	$self-&gt;{_DEBUG} = 1;
	delete $param{'Debug'};
      }
    # Set Login information
    if ($param{'LoginDetails'})
      {
	  $LOGINDETAILS = $param{'LoginDetails'};
	  delete $param{'LoginDetails'};
      }
    # Set type of include to do
    if ($param{'IncludeType'})
      {
	die "IncludeType must be in 'extern', 'cid' or 'location'\n" if
	  ( ($param{'IncludeType'} ne 'extern') and
	    ($param{'IncludeType'} ne 'cid') and
	    ($param{'IncludeType'} ne 'location'));	
	$self-&gt;{_include} = $param{'IncludeType'};
	delete $param{'IncludeType'};
      }
    # Defaut type: use a Content-Location field
    else {$self-&gt;{_include}='location';}

## Added by Michalis@linuxmail.org to manipulate non-us mails
   if ($param{'TextCharset'}) {
     $self-&gt;{_textcharset}=$param{'TextCharset'};
     delete $param{'TextCharset'};
   }
   else { $self-&gt;{_textcharset}='iso-8859-1'; }
   if ($param{'HTMLCharset'}) {
     $self-&gt;{_htmlcharset}=$param{'HTMLCharset'};
     delete $param{'HTMLCharset'};
    }
   else { $self-&gt;{_htmlcharset}='iso-8859-1'; }

   if ($param{'TextEncoding'}) {
     $self-&gt;{_textencoding}=$param{'TextEncoding'};
     delete $param{'TextEncoding'};
    }
   else { $self-&gt;{_textencoding}='7bit'; }

   if ($param{'HTMLEncoding'}) {
     $self-&gt;{_htmlencoding}=$param{'HTMLEncoding'};
     delete $param{'HTMLEncoding'};
    }
   else { $self-&gt;{_htmlencoding}='quoted-printable'; }
## End. Default values remain as they were initially set.
## No need to change existing scripts if you send US-ASCII. 
## If you DON't send us-ascii, you wouldn't be able to use 
## MIME::Lite::HTML anyway :-)

    # Set proxy to use to get file
    if ($param{'Proxy'})
      {
	$self-&gt;{_AGENT}-&gt;proxy('http',$param{'Proxy'}) ;
	print "Set proxy for http : ", $param{'Proxy'},"\n" 
	  if ($self-&gt;{_DEBUG});
	delete $param{'Proxy'};
      }
    # Set hash to use with template
    if ($param{'HashTemplate'})
      {
	$param{'HashTemplate'} = ref($param{'HashTemplate'}) eq "HASH" 
	  ? $param{'HashTemplate'} : %{$param{'HashTemplate'}};
	$self-&gt;{_HASH_TEMPLATE}= $param{'HashTemplate'};
	delete $param{'HashTemplate'};
      }
    $self-&gt;{_param} = \%param;
    # Ok I hope I known what I do ;-)
    MIME::Lite-&gt;quiet(1);
    return $self;
  }

#------------------------------------------------------------------------------
# POD Documentation
#------------------------------------------------------------------------------

=head1 NAME

MIME::Lite::HTML - Provide routine to transform a HTML page in a MIME-Lite mail

=head1 SYNOPSIS

  #!/usr/bin/perl -w 
  # A cgi program that do "Mail this page to a friend";
  # Call this script like this :
  # script.cgi?email=myfriend@isp.com&amp;url=http://www.go.com
  use strict;
  use CGI qw/:standard/;
  use CGI::Carp qw/fatalsToBrowser/;
  use MIME::Lite::HTML;
  
  my $mailHTML = new MIME::Lite::HTML
     From     =&gt; 'MIME-Lite@alianwebserver.com',
     To       =&gt; param('email'),
     Subject =&gt; 'Your url: '.param('url');
  
  my $MIMEmail = $mailHTML-&gt;parse(param('url'));
  $MIMEmail-&gt;send; # or for win user : $mail-&gt;send_by_smtp('smtp.fai.com');
  print header,"Mail envoye (", param('url'), " to ", param('email'),")&lt;br&gt;\n";

=head1 DESCRIPTION

This module is a Perl mail client interface for sending message that 
support HTML format and build them for you..
This module provide routine to transform a HTML page in MIME::Lite mail.
So you need this module to use MIME-Lite-HTML possibilities

=head2 What's happen ?

The job done is:

=over

=item *

Get the file (LWP) if needed

=item *

Parse page to find include images (gif, jpg, flash)

=item *

Attach them to mail with adequat header if asked (default)

=item *

Include external CSS,Javascript file

=item *

Replace relative url with absolute one

=item *

Build the final MIME-Lite object with each part found

=back

=cut

## the next one is just to see if =cut is recognized
sub foo
  {
    my $class = shift;
    my $self = {};
    bless $self, $class;
    $content =~ s/^.*content:.*?\"//i;
  }


$theline =~ s/(&lt;=|=&gt;|=|\-|\+|\*|\/|\*\*|;|:|\\|\'|\"|,|\.|\(|\)|\[|\]|\{|\}|&lt;|&gt;)/\&lt;span class\=\"op\"\&gt;$1\&lt;\/span&gt;/g;

$theline =~ s/(&lt;=|=&gt;|=|\-|\+|\*|\/|\*\*|;|:|\\|\'|\"|,|\.|\(|\)|\[|\]|\{|\}|&lt;|&gt;)/g;

if($#ARGV==2){}

$someString =~ m/anything/gix ;
$someString =~  /anything/    ;
if($someString =~  /anything/g   ){}
if(                /anything/    ){}

if($somestring =~  s/something/something else/gi ){}
$somestring =~   /something/something else/   ;
$somestring =~ qr/something/something else/   ;
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_comment"># a comment</span>
<span class="sh_comment">! a comment</span>

<span class="sh_type">source.favorites.jar </span><span class="sh_symbol">=</span> src/
<span class="sh_type">output.favorites.jar </span><span class="sh_symbol">=</span> bin/
<span class="sh_type">bin.includes </span><span class="sh_symbol">=</span> plugin.xml,\
               META-INF/,\
               favorites.jar,\
               icons/
foo

<span class="sh_type">a </span><span class="sh_symbol">=</span> "foo"
<span class="sh_type">b </span><span class="sh_symbol">=</span> a string with escape sequences \t \n \r \\ \" \' \ (space) \u0123
<span class="sh_type">c </span><span class="sh_symbol">=</span> a string with a continuation line \
    continuation line
<span class="sh_type">d.e.f </span><span class="sh_symbol">=</span> another string</pre>
</td>
<td><pre class="sh_properties"># a comment
! a comment

source.favorites.jar = src/
output.favorites.jar = bin/
bin.includes = plugin.xml,\
               META-INF/,\
               favorites.jar,\
               icons/
foo

a = "foo"
b = a string with escape sequences \t \n \r \\ \" \' \ (space) \u0123
c = a string with a continuation line \
    continuation line
d.e.f = another string</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_comment">#! /usr/bin/python</span>

<span class="sh_preproc">import</span> posix
<span class="sh_preproc">from</span> string <span class="sh_preproc">import</span> splitfields

<span class="sh_keyword">def</span> <span class="sh_function">userinfo</span><span class="sh_symbol">(</span>filename<span class="sh_symbol">):</span>
<span class="sh_comment">  """</span>
<span class="sh_comment">  This function returns the list of users</span>
<span class="sh_comment">  and a table containing users and their passwords</span>
<span class="sh_comment">  """</span>
  users<span class="sh_symbol">,</span> table <span class="sh_symbol">=</span> <span class="sh_symbol">[],</span> <span class="sh_symbol">{}</span>
  file <span class="sh_symbol">=</span> <span class="sh_function">open</span><span class="sh_symbol">(</span>filename<span class="sh_symbol">,</span> <span class="sh_string">'r'</span><span class="sh_symbol">)</span>
  <span class="sh_keyword">for</span> line <span class="sh_keyword">in</span> file<span class="sh_symbol">.</span><span class="sh_function">readlines</span><span class="sh_symbol">():</span>
    <span class="sh_symbol">[</span>name<span class="sh_symbol">,</span> password<span class="sh_symbol">]</span> <span class="sh_symbol">=</span> <span class="sh_function">splitfields</span><span class="sh_symbol">(</span>line<span class="sh_symbol">,</span> <span class="sh_string">':'</span><span class="sh_symbol">)[:</span><span class="sh_number">2</span><span class="sh_symbol">]</span>
    users<span class="sh_symbol">.</span><span class="sh_function">append</span><span class="sh_symbol">(</span>name<span class="sh_symbol">)</span>
    table<span class="sh_symbol">[</span>name<span class="sh_symbol">]</span> <span class="sh_symbol">=</span> password
  <span class="sh_keyword">return</span> users<span class="sh_symbol">,</span> table

<span class="sh_keyword">def</span> <span class="sh_function">main</span><span class="sh_symbol">():</span>
  <span class="sh_keyword">for</span> filename <span class="sh_keyword">in</span> <span class="sh_symbol">(</span><span class="sh_string">'/etc/passwd'</span><span class="sh_symbol">,</span> <span class="sh_string">'etc/passwd.bak'</span><span class="sh_symbol">):</span>
    <span class="sh_keyword">try</span><span class="sh_symbol">:</span>
      users<span class="sh_symbol">,</span> table <span class="sh_symbol">=</span> <span class="sh_function">userinfo</span><span class="sh_symbol">(</span>filename<span class="sh_symbol">)</span>
      <span class="sh_keyword">print</span> table<span class="sh_symbol">.</span><span class="sh_function">keys</span><span class="sh_symbol">()[</span><span class="sh_number">3</span><span class="sh_symbol">:</span><span class="sh_number">7</span><span class="sh_symbol">],</span> table<span class="sh_symbol">[</span><span class="sh_string">'postgres'</span><span class="sh_symbol">]</span>
      posix<span class="sh_symbol">.</span><span class="sh_function">system</span><span class="sh_symbol">(</span><span class="sh_string">'ls -al '</span> <span class="sh_symbol">+</span> filename<span class="sh_symbol">)</span>
    <span class="sh_keyword">except</span><span class="sh_symbol">:</span>
      <span class="sh_keyword">print</span> <span class="sh_string">'File "'</span> <span class="sh_symbol">+</span> filename <span class="sh_symbol">+</span> <span class="sh_string">'" not found!'</span>

<span class="sh_function">main</span><span class="sh_symbol">()</span>

q<span class="sh_symbol">.</span><span class="sh_function">execute</span><span class="sh_symbol">(</span><span class="sh_string">'''</span>
<span class="sh_string">    select * from</span>
<span class="sh_string">        foo,bar,baz</span>
<span class="sh_string">    where</span>
<span class="sh_string">        foo.blah=bar.blah</span>
<span class="sh_string">        and baz.spam="eggs"</span>
<span class="sh_string">    '''</span><span class="sh_symbol">)</span>
</pre>
</td>
<td><pre class="sh_python">#! /usr/bin/python

import posix
from string import splitfields

def userinfo(filename):
  """
  This function returns the list of users
  and a table containing users and their passwords
  """
  users, table = [], {}
  file = open(filename, 'r')
  for line in file.readlines():
    [name, password] = splitfields(line, ':')[:2]
    users.append(name)
    table[name] = password
  return users, table

def main():
  for filename in ('/etc/passwd', 'etc/passwd.bak'):
    try:
      users, table = userinfo(filename)
      print table.keys()[3:7], table['postgres']
      posix.system('ls -al ' + filename)
    except:
      print 'File "' + filename + '" not found!'

main()

q.execute('''
    select * from
        foo,bar,baz
    where
        foo.blah=bar.blah
        and baz.spam="eggs"
    ''')
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_comment">#!/usr/bin/env ruby</span>
<span class="sh_comment">#</span>
<span class="sh_comment"># comment</span>

<span class="sh_preproc">require</span> <span class="sh_string">"English"</span>

<span class="sh_symbol">#</span><span class="sh_cbracket">{</span>expression<span class="sh_cbracket">}</span>

<span class="sh_symbol">#</span><span class="sh_cbracket">{</span>
  expression
<span class="sh_cbracket">}</span> 

cnf<span class="sh_symbol">.</span>marked<span class="sh_symbol">.</span>any? <span class="sh_symbol">?</span> cnf<span class="sh_symbol">.</span>marked<span class="sh_symbol">.</span>to_a<span class="sh_symbol">.</span>join!<span class="sh_symbol">(</span><span class="sh_string">','</span><span class="sh_symbol">)</span> <span class="sh_symbol">:</span> <span class="sh_string">"nothing"</span>

<span class="sh_keyword">BEGIN</span> <span class="sh_cbracket">{</span>
  puts <span class="sh_string">"Hello! in \"BEGIN\""</span> <span class="sh_comment"># comment</span>
  puts <span class="sh_string">'World! in \'BEGIN\''</span> <span class="sh_comment"># comment</span>
<span class="sh_cbracket">}</span>
<span class="sh_keyword">END</span> <span class="sh_cbracket">{</span>
  puts <span class="sh_string">'bye! in "END"'</span>
<span class="sh_cbracket">}</span>

p <span class="sh_type">$"</span>
p <span class="sh_type">$'</span>
p <span class="sh_type">$/</span>

puts <span class="sh_keyword">__LINE__</span>
puts <span class="sh_keyword">__FILE__</span>

a <span class="sh_symbol">=</span> <span class="sh_symbol">[</span><span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_number">2</span><span class="sh_symbol">,</span> <span class="sh_number">3</span><span class="sh_symbol">,</span> <span class="sh_number">4</span><span class="sh_symbol">,</span> <span class="sh_string">"foo"</span><span class="sh_symbol">,</span> <span class="sh_string">"bar"</span><span class="sh_symbol">]</span>
a <span class="sh_symbol">=</span> <span class="sh_symbol">%</span>w<span class="sh_symbol">(</span><span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_number">2</span><span class="sh_symbol">,</span> <span class="sh_number">3</span><span class="sh_symbol">,</span> <span class="sh_number">4</span><span class="sh_symbol">,</span> <span class="sh_string">"foo"</span><span class="sh_symbol">,</span> <span class="sh_string">"bar"</span><span class="sh_symbol">)</span>
h <span class="sh_symbol">=</span> <span class="sh_cbracket">{</span><span class="sh_string">"foo"</span> <span class="sh_symbol">=&gt;</span> <span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_string">"bar"</span> <span class="sh_symbol">=&gt;</span> <span class="sh_number">3</span><span class="sh_cbracket">}</span>
<span class="sh_type">$global</span> <span class="sh_symbol">=</span> <span class="sh_number">1</span>

print<span class="sh_symbol">(</span><span class="sh_string">"with parenthesis\n"</span><span class="sh_symbol">)</span>
print <span class="sh_string">"without parenthesis\n"</span>
print <span class="sh_number">12345678</span><span class="sh_symbol">,</span> <span class="sh_string">"\n"</span>
print <span class="sh_number">1.2345678</span><span class="sh_symbol">,</span> <span class="sh_string">"\n"</span>
print a<span class="sh_symbol">[</span><span class="sh_number">0</span><span class="sh_symbol">],</span> a<span class="sh_symbol">[</span><span class="sh_number">1</span><span class="sh_symbol">],</span> <span class="sh_string">"\n"</span>
print h<span class="sh_symbol">[</span><span class="sh_string">'foo'</span><span class="sh_symbol">],</span> h<span class="sh_symbol">[</span><span class="sh_number">1</span><span class="sh_symbol">],</span> <span class="sh_string">"\n"</span>
print <span class="sh_type">$global</span><span class="sh_symbol">,</span> <span class="sh_string">"\n"</span>
print `date`
print <span class="sh_symbol">&lt;&lt;</span>EOM
ppp
EOM
print <span class="sh_symbol">&lt;&lt;</span><span class="sh_string">"EOM"</span>
ppp
EOM

<span class="sh_keyword">def</span> foo
  puts <span class="sh_string">"foo"</span>
<span class="sh_keyword">end</span>

<span class="sh_keyword">module</span> M
<span class="sh_keyword">end</span>

<span class="sh_keyword">class</span> Klass
  <span class="sh_keyword">include</span> M
  <span class="sh_type">@@foo</span> <span class="sh_symbol">=</span> <span class="sh_string">"bar"</span>
  <span class="sh_keyword">def</span> initialize
    <span class="sh_type">@foo</span> <span class="sh_symbol">=</span> <span class="sh_string">"bar"</span>
  <span class="sh_keyword">end</span>
  <span class="sh_keyword">def</span> foo
    puts <span class="sh_type">@@foo</span>
    <span class="sh_keyword">return</span> <span class="sh_symbol">[</span><span class="sh_keyword">nil</span><span class="sh_symbol">,</span> <span class="sh_keyword">false</span><span class="sh_symbol">,</span> <span class="sh_keyword">self</span><span class="sh_symbol">,</span> <span class="sh_keyword">true</span><span class="sh_symbol">]</span>
  <span class="sh_keyword">end</span>
<span class="sh_keyword">end</span>

foo
foo<span class="sh_symbol">()</span>

k <span class="sh_symbol">=</span> Klass<span class="sh_symbol">.</span>new
k<span class="sh_symbol">.</span>foo
k<span class="sh_symbol">.</span>foo<span class="sh_symbol">()</span>

p <span class="sh_symbol">[(</span><span class="sh_number">1</span> <span class="sh_keyword">and</span> <span class="sh_number">2</span><span class="sh_symbol">),</span> <span class="sh_symbol">(</span><span class="sh_number">1</span> <span class="sh_keyword">or</span> <span class="sh_number">2</span><span class="sh_symbol">),</span> <span class="sh_symbol">(</span><span class="sh_keyword">not</span> <span class="sh_keyword">nil</span><span class="sh_symbol">)]</span>

str <span class="sh_symbol">=</span> <span class="sh_string">"abc"</span>
p <span class="sh_regexp">/d/</span> <span class="sh_symbol">=~</span> str
p <span class="sh_symbol">%</span>r<span class="sh_symbol">|</span>a<span class="sh_symbol">|</span> <span class="sh_symbol">=~</span> str
p <span class="sh_symbol">%</span>r!a! <span class="sh_symbol">=~</span> str
<span class="sh_regexp">/"d/</span> <span class="sh_symbol">=~</span> str <span class="sh_comment"># problem " in Regexp</span>
<span class="sh_regexp">/'d/</span> <span class="sh_symbol">=~</span> str <span class="sh_comment"># problem ' in Regexp</span>

<span class="sh_keyword">if</span> <span class="sh_symbol">%r</span><span class="sh_regexp">{foo(\{?\}?[A-Z]\{?\}?bar#{myvar})}</span> <span class="sh_symbol">=~</span> <span class="sh_string">'foo{A}bar'</span>
  puts <span class="sh_string">'foo'</span>
<span class="sh_keyword">end</span>

</pre>
</td>
<td><pre class="sh_ruby">#!/usr/bin/env ruby
#
# comment

require "English"

#{expression}

#{
  expression
} 

cnf.marked.any? ? cnf.marked.to_a.join!(',') : "nothing"

BEGIN {
  puts "Hello! in \"BEGIN\"" # comment
  puts 'World! in \'BEGIN\'' # comment
}
END {
  puts 'bye! in "END"'
}

p $"
p $'
p $/

puts __LINE__
puts __FILE__

a = [1, 2, 3, 4, "foo", "bar"]
a = %w(1, 2, 3, 4, "foo", "bar")
h = {"foo" =&gt; 1, "bar" =&gt; 3}
$global = 1

print("with parenthesis\n")
print "without parenthesis\n"
print 12345678, "\n"
print 1.2345678, "\n"
print a[0], a[1], "\n"
print h['foo'], h[1], "\n"
print $global, "\n"
print `date`
print &lt;&lt;EOM
ppp
EOM
print &lt;&lt;"EOM"
ppp
EOM

def foo
  puts "foo"
end

module M
end

class Klass
  include M
  @@foo = "bar"
  def initialize
    @foo = "bar"
  end
  def foo
    puts @@foo
    return [nil, false, self, true]
  end
end

foo
foo()

k = Klass.new
k.foo
k.foo()

p [(1 and 2), (1 or 2), (not nil)]

str = "abc"
p /d/ =~ str
p %r|a| =~ str
p %r!a! =~ str
/"d/ =~ str # problem " in Regexp
/'d/ =~ str # problem ' in Regexp

if %r{foo(\{?\}?[A-Z]\{?\}?bar#{myvar})} =~ 'foo{A}bar'
  puts 'foo'
end

</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_comment">// Example Scala file for source-highlight.</span>

<span class="sh_keyword">case</span> <span class="sh_keyword">class</span> <span class="sh_classname">Point</span><span class="sh_symbol">(</span>x<span class="sh_keyword">:</span> <span class="sh_type">Double</span><span class="sh_symbol">,</span> y<span class="sh_keyword">:</span> <span class="sh_type">Double</span><span class="sh_symbol">)</span>  

<span class="sh_keyword">abstract</span> <span class="sh_keyword">case</span> <span class="sh_keyword">class</span> <span class="sh_classname">Shape</span> <span class="sh_cbracket">{</span> <span class="sh_keyword">def</span> <span class="sh_function">draw</span><span class="sh_symbol">()</span><span class="sh_keyword">:</span> Unit <span class="sh_keyword">=</span> <span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_keyword">this</span><span class="sh_symbol">)</span> <span class="sh_cbracket">}</span>  
<span class="sh_keyword">case</span> <span class="sh_keyword">class</span> <span class="sh_classname">Circle</span><span class="sh_symbol">(</span>center<span class="sh_keyword">:</span> Point<span class="sh_symbol">,</span> radius<span class="sh_keyword">:</span> <span class="sh_type">Double</span><span class="sh_symbol">)</span> <span class="sh_keyword">extends</span> Shape  
<span class="sh_keyword">case</span> <span class="sh_keyword">class</span> <span class="sh_classname">Rectangle</span><span class="sh_symbol">(</span>lowerLeft<span class="sh_keyword">:</span> Point<span class="sh_symbol">,</span> height<span class="sh_keyword">:</span> <span class="sh_type">Double</span><span class="sh_symbol">,</span> width<span class="sh_keyword">:</span> <span class="sh_type">Double</span><span class="sh_symbol">)</span> <span class="sh_keyword">extends</span> Shape

<span class="sh_preproc">import</span> scala<span class="sh_symbol">.</span>actors<span class="sh_symbol">.</span><span class="sh_keyword">_</span>  
<span class="sh_preproc">import</span> scala<span class="sh_symbol">.</span>actors<span class="sh_symbol">.</span>Actor<span class="sh_symbol">.</span><span class="sh_keyword">_</span>  

<span class="sh_keyword">object</span> ShapeDrawer <span class="sh_keyword">extends</span> Actor <span class="sh_cbracket">{</span>  
    <span class="sh_keyword">def</span> <span class="sh_function">act</span><span class="sh_symbol">()</span> <span class="sh_cbracket">{</span>  
        loop <span class="sh_cbracket">{</span>   
            receive <span class="sh_cbracket">{</span>  
                <span class="sh_keyword">case</span> s<span class="sh_keyword">:</span> Shape <span class="sh_keyword">=&gt;</span> <span class="sh_function">s.draw</span><span class="sh_symbol">()</span>  
                <span class="sh_keyword">case</span> <span class="sh_string">"exit"</span>   <span class="sh_keyword">=&gt;</span> <span class="sh_cbracket">{</span> <span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"exiting..."</span><span class="sh_symbol">);</span> exit <span class="sh_cbracket">}</span>  
                <span class="sh_keyword">case</span> x<span class="sh_keyword">:</span> Any   <span class="sh_keyword">=&gt;</span> <span class="sh_function">println</span><span class="sh_symbol">(</span><span class="sh_string">"Error: Unknown message! "</span> <span class="sh_symbol">+</span> x<span class="sh_symbol">)</span>
            <span class="sh_cbracket">}</span>
        <span class="sh_cbracket">}</span>
    <span class="sh_cbracket">}</span>
<span class="sh_cbracket">}</span>

<span class="sh_function">ShapeDrawer.start</span><span class="sh_symbol">()</span> 
ShapeDrawer <span class="sh_symbol">!</span> <span class="sh_function">Circle(Point</span><span class="sh_symbol">(</span><span class="sh_number">0.0</span><span class="sh_symbol">,</span><span class="sh_number">0.0</span><span class="sh_symbol">),</span> <span class="sh_number">1.0</span><span class="sh_symbol">)</span>     
ShapeDrawer <span class="sh_symbol">!</span> <span class="sh_function">Rectangle(Point</span><span class="sh_symbol">(</span><span class="sh_number">0.0</span><span class="sh_symbol">,</span><span class="sh_number">0.0</span><span class="sh_symbol">),</span> <span class="sh_number">2</span><span class="sh_symbol">,</span> <span class="sh_number">5</span><span class="sh_symbol">)</span> 
ShapeDrawer <span class="sh_symbol">!</span> <span class="sh_number">3.14159</span>  
ShapeDrawer <span class="sh_symbol">!</span> <span class="sh_string">"exit"</span>   

<span class="sh_comment">// Output:</span>
<span class="sh_comment">// =&gt; Circle(Point(0.0,0.0),1.0)</span>
<span class="sh_comment">// =&gt; Rectangle(Point(0.0,0.0),2.0,5.0)</span>
<span class="sh_comment">// =&gt; Error: Unknown message! 3.14159</span>
<span class="sh_comment">// =&gt; exiting...</span>
</pre>
</td>
<td><pre class="sh_scala">// Example Scala file for source-highlight.

case class Point(x: Double, y: Double)  

abstract case class Shape { def draw(): Unit = println(this) }  
case class Circle(center: Point, radius: Double) extends Shape  
case class Rectangle(lowerLeft: Point, height: Double, width: Double) extends Shape

import scala.actors._  
import scala.actors.Actor._  

object ShapeDrawer extends Actor {  
    def act() {  
        loop {   
            receive {  
                case s: Shape =&gt; s.draw()  
                case "exit"   =&gt; { println("exiting..."); exit }  
                case x: Any   =&gt; println("Error: Unknown message! " + x)
            }
        }
    }
}

ShapeDrawer.start() 
ShapeDrawer ! Circle(Point(0.0,0.0), 1.0)     
ShapeDrawer ! Rectangle(Point(0.0,0.0), 2, 5) 
ShapeDrawer ! 3.14159  
ShapeDrawer ! "exit"   

// Output:
// =&gt; Circle(Point(0.0,0.0),1.0)
// =&gt; Rectangle(Point(0.0,0.0),2.0,5.0)
// =&gt; Error: Unknown message! 3.14159
// =&gt; exiting...
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_comment">#! /bin/sh</span>

<span class="sh_comment"># this shell script is for test purpose only</span>
<span class="sh_comment"># so it should not be executed</span>

<span class="sh_keyword">case</span> <span class="sh_variable">$revision</span> <span class="sh_keyword">in</span>
        <span class="sh_number">0</span><span class="sh_symbol">|[</span><span class="sh_number">1</span>-<span class="sh_number">9</span><span class="sh_symbol">]|[</span><span class="sh_number">1</span>-<span class="sh_number">9</span><span class="sh_symbol">][</span><span class="sh_number">0</span>-<span class="sh_number">9</span><span class="sh_symbol">]|[</span>
<span class="sh_number">1</span>-<span class="sh_number">9</span><span class="sh_symbol">][</span><span class="sh_number">0</span>-<span class="sh_number">9</span><span class="sh_symbol">][</span><span class="sh_number">0</span>-<span class="sh_number">9</span><span class="sh_symbol">]|[</span><span class="sh_number">1</span>-<span class="sh_number">9</span><span class="sh_symbol">][</span><span class="sh_number">0</span>-<span class="sh_number">9</span><span class="sh_symbol">][</span>
<span class="sh_number">0</span>-<span class="sh_number">9</span><span class="sh_symbol">][</span><span class="sh_number">0</span>-<span class="sh_number">9</span><span class="sh_symbol">]|[</span><span class="sh_number">1</span>-<span class="sh_number">9</span><span class="sh_symbol">][</span><span class="sh_number">0</span>-<span class="sh_number">9</span><span class="sh_symbol">][</span><span class="sh_number">0</span>-<span class="sh_number">9</span>
<span class="sh_symbol">][</span><span class="sh_number">0</span>-<span class="sh_number">9</span><span class="sh_symbol">][</span><span class="sh_number">0</span>-<span class="sh_number">9</span><span class="sh_symbol">])</span> <span class="sh_symbol">;;</span>


<span class="sh_keyword">for</span> <span class="sh_keyword">source</span> <span class="sh_keyword">in</span> <span class="sh_variable">$1</span><span class="sh_symbol">;</span> <span class="sh_keyword">do</span>
        source-highlight --failsafe -f esc -i <span class="sh_variable">$source</span><span class="sh_symbol">;</span>
<span class="sh_keyword">done</span>

<span class="sh_comment"># these are variables</span>
<span class="sh_variable">$abc</span><span class="sh_symbol">,</span> <span class="sh_variable">$(abc)</span> and <span class="sh_variable">${abc}</span> <span class="sh_variable">${</span>abc<span class="sh_symbol">)</span>

<span class="sh_comment"># and also these are variables</span>
<span class="sh_symbol">(</span><span class="sh_variable">$myvar</span><span class="sh_symbol">)</span> {<span class="sh_variable">$myvar</span>} {<span class="sh_variable">$myvar</span><span class="sh_symbol">)</span>

<span class="sh_keyword">eval</span> <span class="sh_variable">std_shrext</span><span class="sh_symbol">=</span>\"<span class="sh_variable">$shrext_cmds</span>\"

<span class="sh_variable">disable_libs</span><span class="sh_symbol">=</span>no

    <span class="sh_keyword">if</span> <span class="sh_keyword">test</span> -n <span class="sh_string">"$shlibpath_var"</span><span class="sh_symbol">;</span> <span class="sh_keyword">then</span>
      <span class="sh_comment"># get the directories listed in $shlibpath_var</span>
      <span class="sh_keyword">eval</span> <span class="sh_variable">shlib_search_path</span><span class="sh_symbol">=\</span>`<span class="sh_symbol">\</span><span class="sh_variable">$echo</span> \"X<span class="sh_symbol">\</span><span class="sh_variable">${$shlibpath_var}</span>\" <span class="sh_symbol">\|</span> <span class="sh_symbol">\</span><span class="sh_variable">$Xsed</span> -e \'s<span class="sh_symbol">/:/</span> /g\'<span class="sh_symbol">\</span>`
    <span class="sh_keyword">else</span>
      <span class="sh_variable">shlib_search_path</span><span class="sh_symbol">=</span>
    <span class="sh_keyword">fi</span>

<span class="sh_keyword">for</span> as_dir <span class="sh_keyword">in</span> /bin<span class="sh_variable">$PATH_SEPARATOR</span>/usr/bin<span class="sh_variable">$PATH_SEPARATOR$PATH</span>
<span class="sh_keyword">do</span>
  <span class="sh_variable">IFS</span><span class="sh_symbol">=</span><span class="sh_variable">$as_save_IFS</span>
  <span class="sh_keyword">test</span> -z <span class="sh_string">"$as_dir"</span> <span class="sh_symbol">&amp;&amp;</span> <span class="sh_variable">as_dir</span><span class="sh_symbol">=.</span>
  <span class="sh_keyword">for</span> as_base <span class="sh_keyword">in</span> sh bash ksh sh5<span class="sh_symbol">;</span> <span class="sh_keyword">do</span>
         <span class="sh_keyword">case</span> <span class="sh_variable">$as_dir</span> <span class="sh_keyword">in</span>
         <span class="sh_symbol">/*)</span>
           <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_string">"$as_dir/$as_base"</span> -c <span class="sh_string">'</span>
<span class="sh_string">  as_lineno_1=$LINENO</span>
<span class="sh_string">  as_lineno_2=$LINENO</span>
<span class="sh_string">  as_lineno_3=`(expr $as_lineno_1 + 1) 2&gt;/dev/null`</span>
<span class="sh_string">  test "x$as_lineno_1" != "x$as_lineno_2" &amp;&amp;</span>
<span class="sh_string">  test "x$as_lineno_3"  = "x$as_lineno_2" '</span><span class="sh_symbol">)</span> <span class="sh_number">2</span><span class="sh_symbol">&gt;</span>/dev/null<span class="sh_symbol">;</span> <span class="sh_keyword">then</span>
             <span class="sh_variable">$as_unset</span> BASH_ENV <span class="sh_symbol">||</span> <span class="sh_keyword">test</span> <span class="sh_string">"${BASH_ENV+set}"</span> <span class="sh_symbol">!=</span> <span class="sh_keyword">set</span> <span class="sh_symbol">||</span> { <span class="sh_variable">BASH_ENV</span><span class="sh_symbol">=;</span> <span class="sh_keyword">export</span> BASH_ENV<span class="sh_symbol">;</span> }
             <span class="sh_variable">$as_unset</span> ENV <span class="sh_symbol">||</span> <span class="sh_keyword">test</span> <span class="sh_string">"${ENV+set}"</span> <span class="sh_symbol">!=</span> <span class="sh_keyword">set</span> <span class="sh_symbol">||</span> { <span class="sh_variable">ENV</span><span class="sh_symbol">=;</span> <span class="sh_keyword">export</span> ENV<span class="sh_symbol">;</span> }
             <span class="sh_variable">CONFIG_SHELL</span><span class="sh_symbol">=</span><span class="sh_variable">$as_dir</span><span class="sh_symbol">/</span><span class="sh_variable">$as_base</span>
             <span class="sh_keyword">export</span> CONFIG_SHELL
             <span class="sh_keyword">exec</span> <span class="sh_string">"$CONFIG_SHELL"</span> <span class="sh_string">"$0"</span> <span class="sh_variable">${1+"$@"}</span>
           <span class="sh_keyword">fi</span><span class="sh_symbol">;;</span>
         <span class="sh_keyword">esac</span>
       <span class="sh_keyword">done</span>
<span class="sh_keyword">done</span>
<span class="sh_symbol">;;</span>
  <span class="sh_keyword">esac</span>
</pre>
</td>
<td><pre class="sh_sh">#! /bin/sh

# this shell script is for test purpose only
# so it should not be executed

case $revision in
        0|[1-9]|[1-9][0-9]|[
1-9][0-9][0-9]|[1-9][0-9][
0-9][0-9]|[1-9][0-9][0-9
][0-9][0-9]) ;;


for source in $1; do
        source-highlight --failsafe -f esc -i $source;
done

# these are variables
$abc, $(abc) and ${abc} ${abc)

# and also these are variables
($myvar) {$myvar} {$myvar)

eval std_shrext=\"$shrext_cmds\"

disable_libs=no

    if test -n "$shlibpath_var"; then
      # get the directories listed in $shlibpath_var
      eval shlib_search_path=\`\$echo \"X\${$shlibpath_var}\" \| \$Xsed -e \'s/:/ /g\'\`
    else
      shlib_search_path=
    fi

for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
do
  IFS=$as_save_IFS
  test -z "$as_dir" &amp;&amp; as_dir=.
  for as_base in sh bash ksh sh5; do
         case $as_dir in
         /*)
           if ("$as_dir/$as_base" -c '
  as_lineno_1=$LINENO
  as_lineno_2=$LINENO
  as_lineno_3=`(expr $as_lineno_1 + 1) 2&gt;/dev/null`
  test "x$as_lineno_1" != "x$as_lineno_2" &amp;&amp;
  test "x$as_lineno_3"  = "x$as_lineno_2" ') 2&gt;/dev/null; then
             $as_unset BASH_ENV || test "${BASH_ENV+set}" != set || { BASH_ENV=; export BASH_ENV; }
             $as_unset ENV || test "${ENV+set}" != set || { ENV=; export ENV; }
             CONFIG_SHELL=$as_dir/$as_base
             export CONFIG_SHELL
             exec "$CONFIG_SHELL" "$0" ${1+"$@"}
           fi;;
         esac
       done
done
;;
  esac
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_comment">#!/usr/bin/env slsh</span>

<span class="sh_preproc">require</span> <span class="sh_symbol">(</span><span class="sh_string">"curl"</span><span class="sh_symbol">);</span>

<span class="sh_keyword">private</span> <span class="sh_keyword">variable</span> My_Language <span class="sh_symbol">=</span> <span class="sh_string">"English"</span><span class="sh_symbol">;</span>

<span class="sh_keyword">private</span> <span class="sh_keyword">variable</span> Supported_Translations <span class="sh_symbol">=</span> 
  <span class="sh_symbol">[</span><span class="sh_string">"zh_en"</span><span class="sh_symbol">,</span> <span class="sh_string">"zt_en"</span><span class="sh_symbol">,</span> <span class="sh_string">"en_zh"</span><span class="sh_symbol">,</span> <span class="sh_string">"en_zt"</span><span class="sh_symbol">,</span> <span class="sh_string">"en_nl"</span><span class="sh_symbol">,</span> <span class="sh_string">"en_fr"</span><span class="sh_symbol">,</span> <span class="sh_string">"en_de"</span><span class="sh_symbol">,</span> <span class="sh_string">"en_el"</span><span class="sh_symbol">,</span>
   <span class="sh_string">"en_it"</span><span class="sh_symbol">,</span> <span class="sh_string">"en_ja"</span><span class="sh_symbol">,</span> <span class="sh_string">"en_ko"</span><span class="sh_symbol">,</span> <span class="sh_string">"en_pt"</span><span class="sh_symbol">,</span> <span class="sh_string">"en_ru"</span><span class="sh_symbol">,</span> <span class="sh_string">"en_es"</span><span class="sh_symbol">,</span> <span class="sh_string">"nl_en"</span><span class="sh_symbol">,</span> <span class="sh_string">"nl_fr"</span><span class="sh_symbol">,</span>
   <span class="sh_string">"fr_en"</span><span class="sh_symbol">,</span> <span class="sh_string">"fr_de"</span><span class="sh_symbol">,</span> <span class="sh_string">"fr_el"</span><span class="sh_symbol">,</span> <span class="sh_string">"fr_it"</span><span class="sh_symbol">,</span> <span class="sh_string">"fr_pt"</span><span class="sh_symbol">,</span> <span class="sh_string">"fr_nl"</span><span class="sh_symbol">,</span> <span class="sh_string">"fr_es"</span><span class="sh_symbol">,</span> <span class="sh_string">"de_en"</span><span class="sh_symbol">,</span>
   <span class="sh_string">"de_fr"</span><span class="sh_symbol">,</span> <span class="sh_string">"el_en"</span><span class="sh_symbol">,</span> <span class="sh_string">"el_fr"</span><span class="sh_symbol">,</span> <span class="sh_string">"it_en"</span><span class="sh_symbol">,</span> <span class="sh_string">"it_fr"</span><span class="sh_symbol">,</span> <span class="sh_string">"ja_en"</span><span class="sh_symbol">,</span> <span class="sh_string">"ko_en"</span><span class="sh_symbol">,</span> <span class="sh_string">"pt_en"</span><span class="sh_symbol">,</span>
   <span class="sh_string">"pt_fr"</span><span class="sh_symbol">,</span> <span class="sh_string">"ru_en"</span><span class="sh_symbol">,</span> <span class="sh_string">"es_en"</span><span class="sh_symbol">,</span> <span class="sh_string">"es_fr"</span><span class="sh_symbol">];</span>

<span class="sh_keyword">private</span> <span class="sh_keyword">variable</span> Languages <span class="sh_symbol">=</span> Assoc_Type<span class="sh_symbol">[</span>String_Type<span class="sh_symbol">];</span>
<span class="sh_keyword">private</span> <span class="sh_keyword">define</span> <span class="sh_function">add_language</span> <span class="sh_symbol">(</span>lang<span class="sh_symbol">,</span> desc<span class="sh_symbol">)</span>
{
   Languages<span class="sh_symbol">[</span><span class="sh_function">strlow</span><span class="sh_symbol">(</span>lang<span class="sh_symbol">)]</span> <span class="sh_symbol">=</span> <span class="sh_function">strlow</span> <span class="sh_symbol">(</span>desc<span class="sh_symbol">);</span>
}
<span class="sh_function">add_language</span> <span class="sh_symbol">(</span><span class="sh_string">"zh"</span><span class="sh_symbol">,</span> <span class="sh_string">"Chinese-simple"</span><span class="sh_symbol">);</span>
<span class="sh_function">add_language</span> <span class="sh_symbol">(</span><span class="sh_string">"zt"</span><span class="sh_symbol">,</span> <span class="sh_string">"Chinese-traditional"</span><span class="sh_symbol">);</span>
<span class="sh_function">add_language</span> <span class="sh_symbol">(</span><span class="sh_string">"en"</span><span class="sh_symbol">,</span> <span class="sh_string">"English"</span><span class="sh_symbol">);</span>
<span class="sh_function">add_language</span> <span class="sh_symbol">(</span><span class="sh_string">"nl"</span><span class="sh_symbol">,</span> <span class="sh_string">"Dutch"</span><span class="sh_symbol">);</span>
<span class="sh_function">add_language</span> <span class="sh_symbol">(</span><span class="sh_string">"fr"</span><span class="sh_symbol">,</span> <span class="sh_string">"French"</span><span class="sh_symbol">);</span>
<span class="sh_function">add_language</span> <span class="sh_symbol">(</span><span class="sh_string">"de"</span><span class="sh_symbol">,</span> <span class="sh_string">"German"</span><span class="sh_symbol">);</span>
<span class="sh_function">add_language</span> <span class="sh_symbol">(</span><span class="sh_string">"el"</span><span class="sh_symbol">,</span> <span class="sh_string">"Greek"</span><span class="sh_symbol">);</span>
<span class="sh_function">add_language</span> <span class="sh_symbol">(</span><span class="sh_string">"it"</span><span class="sh_symbol">,</span> <span class="sh_string">"Italian"</span><span class="sh_symbol">);</span>
<span class="sh_function">add_language</span> <span class="sh_symbol">(</span><span class="sh_string">"ja"</span><span class="sh_symbol">,</span> <span class="sh_string">"Japanese"</span><span class="sh_symbol">);</span>
<span class="sh_function">add_language</span> <span class="sh_symbol">(</span><span class="sh_string">"ko"</span><span class="sh_symbol">,</span> <span class="sh_string">"Korean"</span><span class="sh_symbol">);</span>
<span class="sh_function">add_language</span> <span class="sh_symbol">(</span><span class="sh_string">"pt"</span><span class="sh_symbol">,</span> <span class="sh_string">"Portugese"</span><span class="sh_symbol">);</span>
<span class="sh_function">add_language</span> <span class="sh_symbol">(</span><span class="sh_string">"ru"</span><span class="sh_symbol">,</span> <span class="sh_string">"Russian"</span><span class="sh_symbol">);</span>
<span class="sh_function">add_language</span> <span class="sh_symbol">(</span><span class="sh_string">"es"</span><span class="sh_symbol">,</span> <span class="sh_string">"Spanish"</span><span class="sh_symbol">);</span>

<span class="sh_keyword">private</span> <span class="sh_keyword">define</span> <span class="sh_function">lookup_language</span> <span class="sh_symbol">(</span>lang<span class="sh_symbol">)</span>
{
   lang <span class="sh_symbol">=</span> <span class="sh_function">strlow</span> <span class="sh_symbol">(</span>lang<span class="sh_symbol">);</span>
   <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_function">assoc_key_exists</span> <span class="sh_symbol">(</span>Languages<span class="sh_symbol">,</span> lang<span class="sh_symbol">))</span>
     <span class="sh_keyword">return</span> lang<span class="sh_symbol">;</span>
   <span class="sh_keyword">variable</span> vals <span class="sh_symbol">=</span> <span class="sh_function">assoc_get_values</span> <span class="sh_symbol">(</span>Languages<span class="sh_symbol">);</span>
   <span class="sh_keyword">variable</span> i <span class="sh_symbol">=</span> <span class="sh_function">where</span> <span class="sh_symbol">(</span>vals <span class="sh_symbol">==</span> lang<span class="sh_symbol">);</span>
   <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_function">length</span> <span class="sh_symbol">(</span>i<span class="sh_symbol">)</span> <span class="sh_symbol">==</span> <span class="sh_number">0</span><span class="sh_symbol">)</span>
     <span class="sh_keyword">throw</span> NotImplementedError<span class="sh_symbol">,</span> <span class="sh_string">"Language $lang is unknown or unsupported"</span>$<span class="sh_symbol">;</span>

   <span class="sh_keyword">return</span> <span class="sh_function">assoc_get_keys</span> <span class="sh_symbol">(</span>Languages<span class="sh_symbol">)[</span>i<span class="sh_symbol">[</span><span class="sh_number">0</span><span class="sh_symbol">]];</span>
}

<span class="sh_keyword">private</span> <span class="sh_keyword">define</span> <span class="sh_function">lookup_translation</span> <span class="sh_symbol">(</span>from<span class="sh_symbol">,</span> to<span class="sh_symbol">)</span>
{
   <span class="sh_keyword">variable</span> trans <span class="sh_symbol">=</span> <span class="sh_function">sprintf</span> <span class="sh_symbol">(</span><span class="sh_string">"%s_%s"</span><span class="sh_symbol">,</span> <span class="sh_function">lookup_language</span> <span class="sh_symbol">(</span>from<span class="sh_symbol">),</span> <span class="sh_function">lookup_language</span><span class="sh_symbol">(</span>to<span class="sh_symbol">));</span>
   
   <span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_function">any</span> <span class="sh_symbol">(</span>Supported_Translations <span class="sh_symbol">==</span> trans<span class="sh_symbol">))</span>
     <span class="sh_keyword">return</span> trans<span class="sh_symbol">;</span>
   
   <span class="sh_keyword">throw</span> NotImplementedError<span class="sh_symbol">,</span> <span class="sh_string">"Translating from $from to $to is not supported"</span>$<span class="sh_symbol">;</span>
}

   
<span class="sh_keyword">private</span> <span class="sh_keyword">define</span> <span class="sh_function">make_encode_table</span> <span class="sh_symbol">()</span>
{
   <span class="sh_keyword">variable</span> table <span class="sh_symbol">=</span> <span class="sh_function">array_map</span> <span class="sh_symbol">(</span>String_Type<span class="sh_symbol">,</span> <span class="sh_symbol">&amp;</span>sprintf<span class="sh_symbol">,</span> <span class="sh_symbol">(</span><span class="sh_string">"%%%02X"</span><span class="sh_symbol">,</span> <span class="sh_symbol">[</span><span class="sh_number">0</span><span class="sh_symbol">:</span><span class="sh_number">255</span><span class="sh_symbol">]));</span>
   <span class="sh_keyword">variable</span> ok <span class="sh_symbol">=</span> <span class="sh_symbol">[[</span><span class="sh_string">'A'</span><span class="sh_symbol">:</span><span class="sh_string">'Z'</span><span class="sh_symbol">],</span> <span class="sh_symbol">[</span><span class="sh_string">'a'</span><span class="sh_symbol">:</span><span class="sh_string">'z'</span><span class="sh_symbol">],</span> <span class="sh_symbol">[</span><span class="sh_string">'0'</span><span class="sh_symbol">:</span><span class="sh_string">'9'</span><span class="sh_symbol">],</span> <span class="sh_string">'.'</span><span class="sh_symbol">,</span> <span class="sh_string">'-'</span><span class="sh_symbol">,</span> <span class="sh_string">'*'</span><span class="sh_symbol">,</span> <span class="sh_string">'_'</span><span class="sh_symbol">,</span> <span class="sh_string">'/'</span><span class="sh_symbol">,</span> <span class="sh_string">'~'</span><span class="sh_symbol">];</span>
   table<span class="sh_symbol">[</span>ok<span class="sh_symbol">]</span> <span class="sh_symbol">=</span> <span class="sh_function">array_map</span> <span class="sh_symbol">(</span>String_Type<span class="sh_symbol">,</span> <span class="sh_symbol">&amp;</span>char<span class="sh_symbol">,</span> ok<span class="sh_symbol">);</span>
   table<span class="sh_symbol">[</span><span class="sh_string">' '</span><span class="sh_symbol">]</span> <span class="sh_symbol">=</span> <span class="sh_string">"+"</span><span class="sh_symbol">;</span>
   <span class="sh_keyword">return</span> table<span class="sh_symbol">;</span>
}
<span class="sh_keyword">private</span> <span class="sh_keyword">variable</span> Encode_Table <span class="sh_symbol">=</span> <span class="sh_function">make_encode_table</span> <span class="sh_symbol">();</span>

<span class="sh_keyword">private</span> <span class="sh_keyword">define</span> <span class="sh_function">encode</span> <span class="sh_symbol">(</span>text<span class="sh_symbol">)</span>
{
   <span class="sh_keyword">variable</span> len <span class="sh_symbol">=</span> <span class="sh_function">strlen</span> <span class="sh_symbol">(</span>text<span class="sh_symbol">);</span>
   <span class="sh_keyword">variable</span> new_text <span class="sh_symbol">=</span> String_Type<span class="sh_symbol">[</span>len<span class="sh_symbol">];</span>
   <span class="sh_keyword">variable</span> i<span class="sh_symbol">;</span>
   <span class="sh_keyword">_for</span> <span class="sh_function">i</span> <span class="sh_symbol">(</span><span class="sh_number">0</span><span class="sh_symbol">,</span> len <span class="sh_symbol">-</span> <span class="sh_number">1</span><span class="sh_symbol">,</span> <span class="sh_number">1</span><span class="sh_symbol">)</span>
     new_text<span class="sh_symbol">[</span>i<span class="sh_symbol">]</span> <span class="sh_symbol">=</span>  Encode_Table<span class="sh_symbol">[</span>text<span class="sh_symbol">[</span>i<span class="sh_symbol">]];</span>
   <span class="sh_keyword">return</span> <span class="sh_function">strjoin</span> <span class="sh_symbol">(</span>new_text<span class="sh_symbol">,</span> <span class="sh_string">""</span><span class="sh_symbol">);</span>
}

<span class="sh_keyword">private</span> <span class="sh_keyword">define</span> <span class="sh_function">parse_output</span> <span class="sh_symbol">(</span>str<span class="sh_symbol">)</span>
{
   <span class="sh_symbol">(</span>str<span class="sh_symbol">,)</span> <span class="sh_symbol">=</span> <span class="sh_function">strreplace</span> <span class="sh_symbol">(</span>str<span class="sh_symbol">,</span> <span class="sh_string">"\n"</span><span class="sh_symbol">,</span> <span class="sh_string">"\x01"</span><span class="sh_symbol">,</span> <span class="sh_function">strbytelen</span> <span class="sh_symbol">(</span>str<span class="sh_symbol">));</span>
   <span class="sh_comment">% Look for TEXT in</span>
   <span class="sh_comment">% &lt;td bgcolor=white class=s&gt;&lt;div style=padding:10px;&gt;TEXT&lt;/div&gt;</span>
   <span class="sh_keyword">variable</span> start_re <span class="sh_symbol">=</span> <span class="sh_string">"&lt;td bgcolor=white class=s&gt;&lt;div style=padding:10px;&gt;"</span><span class="sh_symbol">;</span>
   <span class="sh_keyword">variable</span> end_re <span class="sh_symbol">=</span> <span class="sh_string">"&lt;/div&gt;"</span><span class="sh_symbol">;</span>
   <span class="sh_keyword">variable</span> re <span class="sh_symbol">=</span> <span class="sh_function">strcat</span> <span class="sh_symbol">(</span>start_re<span class="sh_symbol">,</span> <span class="sh_string">"\([^&lt;]+\)"</span>R<span class="sh_symbol">,</span> end_re<span class="sh_symbol">);</span>
   
   <span class="sh_keyword">variable</span> n <span class="sh_symbol">=</span> <span class="sh_function">string_match</span> <span class="sh_symbol">(</span>str<span class="sh_symbol">,</span> re<span class="sh_symbol">,</span> <span class="sh_number">1</span><span class="sh_symbol">);</span>
   <span class="sh_keyword">if</span> <span class="sh_symbol">(</span>n <span class="sh_symbol">==</span> <span class="sh_number">0</span><span class="sh_symbol">)</span>
     <span class="sh_keyword">return</span> <span class="sh_string">""</span><span class="sh_symbol">;</span>
   <span class="sh_keyword">variable</span> pos<span class="sh_symbol">,</span> match_len<span class="sh_symbol">;</span>
   <span class="sh_symbol">(</span>pos<span class="sh_symbol">,</span> match_len<span class="sh_symbol">)</span> <span class="sh_symbol">=</span> <span class="sh_function">string_match_nth</span> <span class="sh_symbol">(</span><span class="sh_number">1</span><span class="sh_symbol">);</span>
   str <span class="sh_symbol">=</span> <span class="sh_function">substrbytes</span> <span class="sh_symbol">(</span>str<span class="sh_symbol">,</span> pos <span class="sh_symbol">+</span> <span class="sh_number">1</span><span class="sh_symbol">,</span> match_len<span class="sh_symbol">);</span>
   <span class="sh_symbol">(</span>str<span class="sh_symbol">,)</span> <span class="sh_symbol">=</span> <span class="sh_function">strreplace</span> <span class="sh_symbol">(</span>str<span class="sh_symbol">,</span> <span class="sh_string">"\x01"</span><span class="sh_symbol">,</span> <span class="sh_string">"\n"</span><span class="sh_symbol">,</span> <span class="sh_function">strbytelen</span> <span class="sh_symbol">(</span>str<span class="sh_symbol">));</span>
   <span class="sh_keyword">return</span> str<span class="sh_symbol">;</span>
}

<span class="sh_keyword">private</span> <span class="sh_keyword">define</span> <span class="sh_function">write_callback</span> <span class="sh_symbol">(</span>vp<span class="sh_symbol">,</span> data<span class="sh_symbol">)</span>
{
   @vp <span class="sh_symbol">=</span> <span class="sh_function">strcat</span> <span class="sh_symbol">(</span>@vp<span class="sh_symbol">,</span> data<span class="sh_symbol">);</span>
   <span class="sh_keyword">return</span> <span class="sh_number">0</span><span class="sh_symbol">;</span>
}

<span class="sh_keyword">define</span> <span class="sh_function">babelfish</span> <span class="sh_symbol">(</span>from<span class="sh_symbol">,</span> to<span class="sh_symbol">,</span> text<span class="sh_symbol">)</span>
{
   <span class="sh_keyword">variable</span> c <span class="sh_symbol">=</span> <span class="sh_function">curl_new</span> <span class="sh_symbol">(</span><span class="sh_string">"http://babelfish.altavista.com/babelfish/tr?il=en"</span><span class="sh_symbol">);</span>
   <span class="sh_keyword">variable</span> postdata <span class="sh_symbol">=</span> 
     <span class="sh_function">strcat</span> <span class="sh_symbol">(</span><span class="sh_string">"doit=done&amp;urltext="</span><span class="sh_symbol">,</span> text<span class="sh_symbol">,</span> 
	     <span class="sh_string">"&amp;lp="</span><span class="sh_symbol">,</span> <span class="sh_function">lookup_translation</span> <span class="sh_symbol">(</span>from<span class="sh_symbol">,</span> to<span class="sh_symbol">),</span>
	     <span class="sh_string">"&amp;Submit=Translate"</span><span class="sh_symbol">,</span> <span class="sh_string">"&amp;enc=utf8"</span><span class="sh_symbol">);</span>

   <span class="sh_function">curl_setopt</span> <span class="sh_symbol">(</span>c<span class="sh_symbol">,</span> CURLOPT_POSTFIELDS<span class="sh_symbol">,</span> postdata<span class="sh_symbol">);</span>
   <span class="sh_function">curl_setopt</span> <span class="sh_symbol">(</span>c<span class="sh_symbol">,</span> CURLOPT_FOLLOWLOCATION<span class="sh_symbol">);</span>
   <span class="sh_function">curl_setopt</span> <span class="sh_symbol">(</span>c<span class="sh_symbol">,</span> CURLOPT_HTTPHEADER<span class="sh_symbol">,</span> 
		<span class="sh_symbol">[</span><span class="sh_string">"User-Agent: S-Lang cURL Module"</span><span class="sh_symbol">,</span>
		 <span class="sh_string">"Content-Type: application/x-www-form-urlencoded"</span><span class="sh_symbol">,</span>
		 <span class="sh_string">"Accept-Charset: ISO-8859-1,utf-8"</span>
		 <span class="sh_symbol">]);</span>
   text <span class="sh_symbol">=</span> <span class="sh_string">""</span><span class="sh_symbol">;</span>
   <span class="sh_function">curl_setopt</span> <span class="sh_symbol">(</span>c<span class="sh_symbol">,</span> CURLOPT_WRITEFUNCTION<span class="sh_symbol">,</span> <span class="sh_symbol">&amp;</span>write_callback<span class="sh_symbol">,</span> <span class="sh_symbol">&amp;</span>text<span class="sh_symbol">);</span>
   <span class="sh_function">curl_perform</span> <span class="sh_symbol">(</span>c<span class="sh_symbol">);</span>
   text <span class="sh_symbol">=</span> <span class="sh_function">parse_output</span> <span class="sh_symbol">(</span>text<span class="sh_symbol">);</span>
   <span class="sh_keyword">return</span> text<span class="sh_symbol">;</span>
}

<span class="sh_keyword">private</span> <span class="sh_keyword">define</span> <span class="sh_function">usage</span> <span class="sh_symbol">()</span>
{
   <span class="sh_symbol">()</span> <span class="sh_symbol">=</span> <span class="sh_function">fprintf</span> <span class="sh_symbol">(</span>stderr<span class="sh_symbol">,</span> <span class="sh_string">"Usage: %s [--to lang-out] lang-in [phrase|-]\n"</span><span class="sh_symbol">,</span> __argv<span class="sh_symbol">[</span><span class="sh_number">0</span><span class="sh_symbol">]);</span>
   <span class="sh_function">exit</span> <span class="sh_symbol">(</span><span class="sh_number">1</span><span class="sh_symbol">);</span>
}

<span class="sh_keyword">define</span> <span class="sh_function">slsh_main</span> <span class="sh_symbol">()</span>
{
   <span class="sh_keyword">variable</span> lang_out <span class="sh_symbol">=</span> My_Language<span class="sh_symbol">,</span> lang_in <span class="sh_symbol">=</span> <span class="sh_keyword">NULL</span><span class="sh_symbol">;</span>
   <span class="sh_keyword">variable</span> i <span class="sh_symbol">=</span> <span class="sh_number">1</span><span class="sh_symbol">;</span>
   <span class="sh_keyword">while</span> <span class="sh_symbol">(</span>i <span class="sh_symbol">&lt;</span> __argc<span class="sh_symbol">)</span>
     {
	<span class="sh_keyword">variable</span> arg <span class="sh_symbol">=</span> __argv<span class="sh_symbol">[</span>i<span class="sh_symbol">];</span>
	i<span class="sh_symbol">++;</span>
	<span class="sh_keyword">if</span> <span class="sh_symbol">(</span>arg <span class="sh_symbol">==</span> <span class="sh_string">"--to"</span><span class="sh_symbol">)</span>
	  {
	     <span class="sh_keyword">if</span> <span class="sh_symbol">(</span>i <span class="sh_symbol">==</span> __argc<span class="sh_symbol">)</span>
	       <span class="sh_function">usage</span> <span class="sh_symbol">();</span>
	     lang_out <span class="sh_symbol">=</span> __argv<span class="sh_symbol">[</span>i<span class="sh_symbol">];</span>
	     i<span class="sh_symbol">++;</span>
	     <span class="sh_keyword">continue</span><span class="sh_symbol">;</span>
	  }
	lang_in <span class="sh_symbol">=</span> arg<span class="sh_symbol">;</span>
	<span class="sh_keyword">break</span><span class="sh_symbol">;</span>
     }
   <span class="sh_keyword">if</span> <span class="sh_symbol">(</span>lang_in <span class="sh_symbol">==</span> <span class="sh_keyword">NULL</span><span class="sh_symbol">)</span>
     <span class="sh_function">usage</span> <span class="sh_symbol">();</span>

   <span class="sh_keyword">variable</span> text <span class="sh_symbol">=</span> <span class="sh_string">"-"</span><span class="sh_symbol">;</span>
   <span class="sh_keyword">if</span> <span class="sh_symbol">(</span>i <span class="sh_symbol">==</span> __argc<span class="sh_symbol">)</span>
     {
	<span class="sh_keyword">if</span> <span class="sh_symbol">(</span><span class="sh_function">isatty</span> <span class="sh_symbol">(</span>stdin<span class="sh_symbol">))</span>
	  <span class="sh_function">usage</span> <span class="sh_symbol">();</span>
     }
   <span class="sh_keyword">else</span> text <span class="sh_symbol">=</span> <span class="sh_function">strjoin</span> <span class="sh_symbol">(</span>__argv<span class="sh_symbol">[[</span>i<span class="sh_symbol">:]],</span> <span class="sh_string">" "</span><span class="sh_symbol">);</span>
   
   <span class="sh_keyword">if</span> <span class="sh_symbol">(</span>text <span class="sh_symbol">==</span> <span class="sh_string">"-"</span><span class="sh_symbol">)</span>
     {
	text <span class="sh_symbol">=</span> <span class="sh_string">""</span><span class="sh_symbol">;</span>
	<span class="sh_keyword">variable</span> line<span class="sh_symbol">;</span>
	<span class="sh_keyword">while</span> <span class="sh_symbol">(-</span><span class="sh_number">1</span> <span class="sh_symbol">!=</span> <span class="sh_function">fgets</span> <span class="sh_symbol">(&amp;</span>line<span class="sh_symbol">,</span> stdin<span class="sh_symbol">))</span>
	  text <span class="sh_symbol">=</span> <span class="sh_function">strcat</span> <span class="sh_symbol">(</span>text<span class="sh_symbol">,</span> <span class="sh_function">encode</span> <span class="sh_symbol">(</span>line<span class="sh_symbol">));</span>
     }
   <span class="sh_function">message</span> <span class="sh_symbol">(</span><span class="sh_function">babelfish</span> <span class="sh_symbol">(</span>lang_in<span class="sh_symbol">,</span> lang_out<span class="sh_symbol">,</span> text<span class="sh_symbol">));</span>
}

</pre>
</td>
<td><pre class="sh_slang">#!/usr/bin/env slsh

require ("curl");

private variable My_Language = "English";

private variable Supported_Translations = 
  ["zh_en", "zt_en", "en_zh", "en_zt", "en_nl", "en_fr", "en_de", "en_el",
   "en_it", "en_ja", "en_ko", "en_pt", "en_ru", "en_es", "nl_en", "nl_fr",
   "fr_en", "fr_de", "fr_el", "fr_it", "fr_pt", "fr_nl", "fr_es", "de_en",
   "de_fr", "el_en", "el_fr", "it_en", "it_fr", "ja_en", "ko_en", "pt_en",
   "pt_fr", "ru_en", "es_en", "es_fr"];

private variable Languages = Assoc_Type[String_Type];
private define add_language (lang, desc)
{
   Languages[strlow(lang)] = strlow (desc);
}
add_language ("zh", "Chinese-simple");
add_language ("zt", "Chinese-traditional");
add_language ("en", "English");
add_language ("nl", "Dutch");
add_language ("fr", "French");
add_language ("de", "German");
add_language ("el", "Greek");
add_language ("it", "Italian");
add_language ("ja", "Japanese");
add_language ("ko", "Korean");
add_language ("pt", "Portugese");
add_language ("ru", "Russian");
add_language ("es", "Spanish");

private define lookup_language (lang)
{
   lang = strlow (lang);
   if (assoc_key_exists (Languages, lang))
     return lang;
   variable vals = assoc_get_values (Languages);
   variable i = where (vals == lang);
   if (length (i) == 0)
     throw NotImplementedError, "Language $lang is unknown or unsupported"$;

   return assoc_get_keys (Languages)[i[0]];
}

private define lookup_translation (from, to)
{
   variable trans = sprintf ("%s_%s", lookup_language (from), lookup_language(to));
   
   if (any (Supported_Translations == trans))
     return trans;
   
   throw NotImplementedError, "Translating from $from to $to is not supported"$;
}

   
private define make_encode_table ()
{
   variable table = array_map (String_Type, &amp;sprintf, ("%%%02X", [0:255]));
   variable ok = [['A':'Z'], ['a':'z'], ['0':'9'], '.', '-', '*', '_', '/', '~'];
   table[ok] = array_map (String_Type, &amp;char, ok);
   table[' '] = "+";
   return table;
}
private variable Encode_Table = make_encode_table ();

private define encode (text)
{
   variable len = strlen (text);
   variable new_text = String_Type[len];
   variable i;
   _for i (0, len - 1, 1)
     new_text[i] =  Encode_Table[text[i]];
   return strjoin (new_text, "");
}

private define parse_output (str)
{
   (str,) = strreplace (str, "\n", "\x01", strbytelen (str));
   % Look for TEXT in
   % &lt;td bgcolor=white class=s&gt;&lt;div style=padding:10px;&gt;TEXT&lt;/div&gt;
   variable start_re = "&lt;td bgcolor=white class=s&gt;&lt;div style=padding:10px;&gt;";
   variable end_re = "&lt;/div&gt;";
   variable re = strcat (start_re, "\([^&lt;]+\)"R, end_re);
   
   variable n = string_match (str, re, 1);
   if (n == 0)
     return "";
   variable pos, match_len;
   (pos, match_len) = string_match_nth (1);
   str = substrbytes (str, pos + 1, match_len);
   (str,) = strreplace (str, "\x01", "\n", strbytelen (str));
   return str;
}

private define write_callback (vp, data)
{
   @vp = strcat (@vp, data);
   return 0;
}

define babelfish (from, to, text)
{
   variable c = curl_new ("http://babelfish.altavista.com/babelfish/tr?il=en");
   variable postdata = 
     strcat ("doit=done&amp;urltext=", text, 
	     "&amp;lp=", lookup_translation (from, to),
	     "&amp;Submit=Translate", "&amp;enc=utf8");

   curl_setopt (c, CURLOPT_POSTFIELDS, postdata);
   curl_setopt (c, CURLOPT_FOLLOWLOCATION);
   curl_setopt (c, CURLOPT_HTTPHEADER, 
		["User-Agent: S-Lang cURL Module",
		 "Content-Type: application/x-www-form-urlencoded",
		 "Accept-Charset: ISO-8859-1,utf-8"
		 ]);
   text = "";
   curl_setopt (c, CURLOPT_WRITEFUNCTION, &amp;write_callback, &amp;text);
   curl_perform (c);
   text = parse_output (text);
   return text;
}

private define usage ()
{
   () = fprintf (stderr, "Usage: %s [--to lang-out] lang-in [phrase|-]\n", __argv[0]);
   exit (1);
}

define slsh_main ()
{
   variable lang_out = My_Language, lang_in = NULL;
   variable i = 1;
   while (i &lt; __argc)
     {
	variable arg = __argv[i];
	i++;
	if (arg == "--to")
	  {
	     if (i == __argc)
	       usage ();
	     lang_out = __argv[i];
	     i++;
	     continue;
	  }
	lang_in = arg;
	break;
     }
   if (lang_in == NULL)
     usage ();

   variable text = "-";
   if (i == __argc)
     {
	if (isatty (stdin))
	  usage ();
     }
   else text = strjoin (__argv[[i:]], " ");
   
   if (text == "-")
     {
	text = "";
	variable line;
	while (-1 != fgets (&amp;line, stdin))
	  text = strcat (text, encode (line));
     }
   message (babelfish (lang_in, lang_out, text));
}

</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_keyword">fun</span> map <span class="sh_symbol">(</span>f <span class="sh_symbol">:</span> 'a <span class="sh_symbol">-&gt;</span> 'b<span class="sh_symbol">,</span> xs <span class="sh_symbol">:</span> 'a list<span class="sh_symbol">)</span> <span class="sh_symbol">:</span> 'b list <span class="sh_symbol">=</span>
  <span class="sh_keyword">case</span> xs <span class="sh_keyword">of</span>
    nil <span class="sh_symbol">=&gt;</span> nil
  <span class="sh_symbol">|</span> <span class="sh_symbol">(</span>y<span class="sh_symbol">::</span>ys<span class="sh_symbol">)</span> <span class="sh_symbol">=&gt;</span> <span class="sh_symbol">(</span>f <span class="sh_symbol">(</span>y<span class="sh_symbol">))::(</span>map <span class="sh_symbol">(</span>f<span class="sh_symbol">,</span> ys<span class="sh_symbol">));</span>

<span class="sh_keyword">fun</span> zip <span class="sh_symbol">(</span>xs <span class="sh_symbol">:</span> 'a list<span class="sh_symbol">,</span> ys <span class="sh_symbol">:</span> 'b list<span class="sh_symbol">)</span> <span class="sh_symbol">:</span> <span class="sh_symbol">(</span>'a <span class="sh_symbol">*</span> 'b<span class="sh_symbol">)</span> list <span class="sh_symbol">=</span>
  <span class="sh_keyword">case</span> <span class="sh_symbol">(</span>xs<span class="sh_symbol">,</span> ys<span class="sh_symbol">)</span> <span class="sh_keyword">of</span>
    <span class="sh_symbol">(</span>nil<span class="sh_symbol">,</span> _<span class="sh_symbol">)</span> <span class="sh_symbol">=&gt;</span> nil
  <span class="sh_symbol">|</span> <span class="sh_symbol">(</span>_<span class="sh_symbol">,</span> nil<span class="sh_symbol">)</span> <span class="sh_symbol">=&gt;</span> nil
  <span class="sh_symbol">|</span> <span class="sh_symbol">(</span>b<span class="sh_symbol">::</span>bs<span class="sh_symbol">,</span> c<span class="sh_symbol">::</span>cs<span class="sh_symbol">)</span> <span class="sh_symbol">=&gt;</span> <span class="sh_symbol">(</span>b<span class="sh_symbol">,</span> c<span class="sh_symbol">)::(</span>zip <span class="sh_symbol">(</span>bs<span class="sh_symbol">,</span> cs<span class="sh_symbol">));</span>

<span class="sh_keyword">fun</span> filter <span class="sh_symbol">(</span>f <span class="sh_symbol">:</span> 'a <span class="sh_symbol">-&gt;</span> bool<span class="sh_symbol">,</span> xs <span class="sh_symbol">:</span> 'a list<span class="sh_symbol">)</span> <span class="sh_symbol">:</span> 'a list <span class="sh_symbol">=</span>
  <span class="sh_keyword">case</span> xs <span class="sh_keyword">of</span>
    nil <span class="sh_symbol">=&gt;</span> nil
  <span class="sh_symbol">|</span> <span class="sh_symbol">(</span>y<span class="sh_symbol">::</span>ys<span class="sh_symbol">)</span> <span class="sh_symbol">=&gt;</span>
      <span class="sh_keyword">if</span> f <span class="sh_symbol">(</span>y<span class="sh_symbol">)</span> <span class="sh_keyword">then</span>
        y<span class="sh_symbol">::(</span>filter <span class="sh_symbol">(</span>f<span class="sh_symbol">,</span> ys<span class="sh_symbol">))</span>
      <span class="sh_keyword">else</span>
        filter <span class="sh_symbol">(</span>f<span class="sh_symbol">,</span> ys<span class="sh_symbol">);</span>

<span class="sh_keyword">fun</span> foldl <span class="sh_symbol">(</span>f <span class="sh_symbol">:</span> 'a <span class="sh_symbol">*</span> 'b <span class="sh_symbol">-&gt;</span> 'a<span class="sh_symbol">,</span> n <span class="sh_symbol">:</span> 'a<span class="sh_symbol">,</span> xs <span class="sh_symbol">:</span> 'b list<span class="sh_symbol">)</span> <span class="sh_symbol">:</span> 'a <span class="sh_symbol">=</span>
  <span class="sh_keyword">case</span> xs <span class="sh_keyword">of</span>
    nil <span class="sh_symbol">=&gt;</span> n
  <span class="sh_symbol">|</span> <span class="sh_symbol">(</span>y<span class="sh_symbol">::</span>ys<span class="sh_symbol">)</span> <span class="sh_symbol">=&gt;</span> foldl <span class="sh_symbol">(</span>f<span class="sh_symbol">,</span> f <span class="sh_symbol">(</span>n<span class="sh_symbol">,</span> y<span class="sh_symbol">),</span> ys<span class="sh_symbol">);</span>

<span class="sh_keyword">fun</span> upto <span class="sh_symbol">(</span>x <span class="sh_symbol">:</span> <span class="sh_type">int</span><span class="sh_symbol">,</span> y <span class="sh_symbol">:</span> <span class="sh_type">int</span><span class="sh_symbol">)</span> <span class="sh_symbol">:</span> <span class="sh_type">int</span> list <span class="sh_symbol">=</span>
  <span class="sh_keyword">if</span> x <span class="sh_symbol">&lt;=</span> y <span class="sh_keyword">then</span>
    x<span class="sh_symbol">::(</span>upto <span class="sh_symbol">(</span>x <span class="sh_symbol">+</span> <span class="sh_number">1</span><span class="sh_symbol">,</span> y<span class="sh_symbol">))</span>
  <span class="sh_keyword">else</span>
    nil<span class="sh_symbol">;</span>

<span class="sh_keyword">fun</span> sum <span class="sh_symbol">(</span>xs <span class="sh_symbol">:</span> <span class="sh_type">int</span> list<span class="sh_symbol">)</span> <span class="sh_symbol">:</span> <span class="sh_type">int</span> <span class="sh_symbol">=</span> 
  <span class="sh_keyword">case</span> xs <span class="sh_keyword">of</span>
    nil <span class="sh_symbol">=&gt;</span> <span class="sh_number">0</span>
  <span class="sh_symbol">|</span> <span class="sh_symbol">(</span>x'<span class="sh_symbol">::</span>xs'<span class="sh_symbol">)</span> <span class="sh_symbol">=&gt;</span> x' <span class="sh_symbol">+</span> sum <span class="sh_symbol">(</span>xs'<span class="sh_symbol">);</span>
  
<span class="sh_keyword">fun</span> fold <span class="sh_symbol">(</span>opr<span class="sh_symbol">:</span> <span class="sh_type">int</span><span class="sh_symbol">*</span><span class="sh_type">int</span><span class="sh_symbol">-&gt;</span><span class="sh_type">int</span><span class="sh_symbol">,</span> base<span class="sh_symbol">:</span> <span class="sh_type">int</span><span class="sh_symbol">,</span> xs<span class="sh_symbol">:</span> <span class="sh_type">int</span> list<span class="sh_symbol">)</span> <span class="sh_symbol">:</span> <span class="sh_type">int</span> <span class="sh_symbol">=</span> 
  <span class="sh_keyword">case</span> xs <span class="sh_keyword">of</span>
    nil <span class="sh_symbol">=&gt;</span> base
  <span class="sh_symbol">|</span> <span class="sh_symbol">(</span>x'<span class="sh_symbol">::</span>xs'<span class="sh_symbol">)</span> <span class="sh_symbol">=&gt;</span> opr<span class="sh_symbol">(</span>x'<span class="sh_symbol">,</span> fold<span class="sh_symbol">(</span>opr<span class="sh_symbol">,</span> base<span class="sh_symbol">,</span> xs'<span class="sh_symbol">));</span>

<span class="sh_keyword">fun</span> add<span class="sh_symbol">(</span>x<span class="sh_symbol">,</span>y<span class="sh_symbol">)</span> <span class="sh_symbol">=</span> x<span class="sh_symbol">+</span>y<span class="sh_symbol">;</span>

<span class="sh_keyword">fun</span> foldsum <span class="sh_symbol">(</span>xs<span class="sh_symbol">:</span> <span class="sh_type">int</span> list<span class="sh_symbol">)</span> <span class="sh_symbol">=</span> fold <span class="sh_symbol">(</span>add<span class="sh_symbol">,</span><span class="sh_number">0</span><span class="sh_symbol">,</span> xs<span class="sh_symbol">);</span>

<span class="sh_keyword">fun</span> foldr <span class="sh_symbol">(</span>opr<span class="sh_symbol">:</span> 'b<span class="sh_symbol">*</span>'a<span class="sh_symbol">-&gt;</span>'a<span class="sh_symbol">,</span> base<span class="sh_symbol">:</span> 'a<span class="sh_symbol">,</span> xs<span class="sh_symbol">:</span> 'b list<span class="sh_symbol">)</span> <span class="sh_symbol">:</span> 'a <span class="sh_symbol">=</span> 
  <span class="sh_keyword">case</span> xs <span class="sh_keyword">of</span>
    nil <span class="sh_symbol">=&gt;</span> base
  <span class="sh_symbol">|</span> <span class="sh_symbol">(</span>x'<span class="sh_symbol">::</span>xs'<span class="sh_symbol">)</span> <span class="sh_symbol">=&gt;</span> opr<span class="sh_symbol">(</span>x'<span class="sh_symbol">,</span> foldr<span class="sh_symbol">(</span>opr<span class="sh_symbol">,</span> base<span class="sh_symbol">,</span> xs'<span class="sh_symbol">));</span>




</pre>
</td>
<td><pre class="sh_sml">fun map (f : 'a -&gt; 'b, xs : 'a list) : 'b list =
  case xs of
    nil =&gt; nil
  | (y::ys) =&gt; (f (y))::(map (f, ys));

fun zip (xs : 'a list, ys : 'b list) : ('a * 'b) list =
  case (xs, ys) of
    (nil, _) =&gt; nil
  | (_, nil) =&gt; nil
  | (b::bs, c::cs) =&gt; (b, c)::(zip (bs, cs));

fun filter (f : 'a -&gt; bool, xs : 'a list) : 'a list =
  case xs of
    nil =&gt; nil
  | (y::ys) =&gt;
      if f (y) then
        y::(filter (f, ys))
      else
        filter (f, ys);

fun foldl (f : 'a * 'b -&gt; 'a, n : 'a, xs : 'b list) : 'a =
  case xs of
    nil =&gt; n
  | (y::ys) =&gt; foldl (f, f (n, y), ys);

fun upto (x : int, y : int) : int list =
  if x &lt;= y then
    x::(upto (x + 1, y))
  else
    nil;

fun sum (xs : int list) : int = 
  case xs of
    nil =&gt; 0
  | (x'::xs') =&gt; x' + sum (xs');
  
fun fold (opr: int*int-&gt;int, base: int, xs: int list) : int = 
  case xs of
    nil =&gt; base
  | (x'::xs') =&gt; opr(x', fold(opr, base, xs'));

fun add(x,y) = x+y;

fun foldsum (xs: int list) = fold (add,0, xs);

fun foldr (opr: 'b*'a-&gt;'a, base: 'a, xs: 'b list) : 'a = 
  case xs of
    nil =&gt; base
  | (x'::xs') =&gt; opr(x', foldr(opr, base, xs'));




</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_comment">#</span>
<span class="sh_comment"># spec file for package GNU Source Highlight (Version 1.x)</span>
<span class="sh_comment"># </span>
<span class="sh_comment"># Author: Christian W. Zuckschwerdt &lt;zany@triq.net&gt;, Jan 2003</span>
<span class="sh_comment">#</span>

<span class="sh_keyword">Summary:</span>   syntax highlighting for source documents
<span class="sh_keyword">Name:</span>      source-highlight
<span class="sh_keyword">Version:</span>   <span class="sh_number">2.10</span>
<span class="sh_keyword">Release:</span>   <span class="sh_number">2.10</span>
<span class="sh_keyword">License:</span>   GPL
<span class="sh_keyword">Group:</span>     Utilities/Console
<span class="sh_keyword">Source:</span>    <span class="sh_url">ftp://ftp.gnu.org/gnu/source-highlight/</span><span class="sh_preproc">%{name}</span>-<span class="sh_preproc">%{version}</span>.tar.gz
<span class="sh_keyword">URL:</span>       <span class="sh_url">http://www.gnu.org/software/src-highlite/</span>
<span class="sh_keyword">BuildRoot:</span> <span class="sh_preproc">%{_tmppath}</span>/<span class="sh_preproc">%{name}</span>-<span class="sh_preproc">%{version}</span>-root

<span class="sh_preproc">%description</span>  
This program, given a source file, produces a document
with syntax highlighting.  Both source languages and output formats
can be specified with a simple syntax and added dynamically.  At the
moment this package can handle many programming languages, such as,
e.g., Java, C/C++, Prolog, Perl, Php3, Python, Flex, ChangeLog, etc.
as source languages, and some output formats such, as, e.g., HTML,
XHTML, LaTeX, etc.

<span class="sh_preproc">%prep</span>
<span class="sh_preproc">%setup</span> -q

<span class="sh_preproc">%build</span>
./configure <span class="sh_variable">$MYARCH_FLAGS</span> \
	--prefix=<span class="sh_preproc">%{_prefix}</span> \
	--mandir=<span class="sh_preproc">%{_mandir}</span> \
	--datadir=<span class="sh_preproc">%{_datadir}</span>

make

<span class="sh_preproc">%install</span>
rm -rf <span class="sh_variable">$RPM_BUILD_ROOT</span>

make DESTDIR=<span class="sh_variable">$RPM_BUILD_ROOT</span> install

<span class="sh_preproc">%clean</span>
rm -rf <span class="sh_variable">$RPM_BUILD_ROOT</span>

<span class="sh_preproc">%files</span>
<span class="sh_preproc">%defattr</span>(<span class="sh_number">644</span>, root, root, <span class="sh_number">755</span>)
<span class="sh_preproc">%doc</span> README COPYING ChangeLog TODO.txt AUTHORS THANKS
<span class="sh_preproc">%doc</span> doc/*.html doc/*.css
<span class="sh_preproc">%attr</span>(<span class="sh_number">755</span>,root,root) <span class="sh_preproc">%{_prefix}</span>/bin/*
<span class="sh_preproc">%{_datadir}</span>/<span class="sh_preproc">%{name}</span>/*
<span class="sh_preproc">%{_mandir}</span>/man?/*

</pre>
</td>
<td><pre class="sh_spec">#
# spec file for package GNU Source Highlight (Version 1.x)
# 
# Author: Christian W. Zuckschwerdt &lt;zany@triq.net&gt;, Jan 2003
#

Summary:   syntax highlighting for source documents
Name:      source-highlight
Version:   2.10
Release:   2.10
License:   GPL
Group:     Utilities/Console
Source:    ftp://ftp.gnu.org/gnu/source-highlight/%{name}-%{version}.tar.gz
URL:       http://www.gnu.org/software/src-highlite/
BuildRoot: %{_tmppath}/%{name}-%{version}-root

%description  
This program, given a source file, produces a document
with syntax highlighting.  Both source languages and output formats
can be specified with a simple syntax and added dynamically.  At the
moment this package can handle many programming languages, such as,
e.g., Java, C/C++, Prolog, Perl, Php3, Python, Flex, ChangeLog, etc.
as source languages, and some output formats such, as, e.g., HTML,
XHTML, LaTeX, etc.

%prep
%setup -q

%build
./configure $MYARCH_FLAGS \
	--prefix=%{_prefix} \
	--mandir=%{_mandir} \
	--datadir=%{_datadir}

make

%install
rm -rf $RPM_BUILD_ROOT

make DESTDIR=$RPM_BUILD_ROOT install

%clean
rm -rf $RPM_BUILD_ROOT

%files
%defattr(644, root, root, 755)
%doc README COPYING ChangeLog TODO.txt AUTHORS THANKS
%doc doc/*.html doc/*.css
%attr(755,root,root) %{_prefix}/bin/*
%{_datadir}/%{name}/*
%{_mandir}/man?/*

</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_comment"># Table structure for table `authors`</span>
<span class="sh_comment">#</span>

<span class="sh_comment">-- just to test sql highlighting</span>

<span class="sh_keyword">DROP</span> <span class="sh_keyword">TABLE</span> <span class="sh_keyword">IF</span> <span class="sh_keyword">EXISTS</span> <span class="sh_string">`authors`</span><span class="sh_symbol">;</span>
<span class="sh_keyword">CREATE</span> <span class="sh_keyword">TABLE</span> <span class="sh_string">`authors`</span> <span class="sh_symbol">(</span>
  <span class="sh_string">`idauthor`</span> <span class="sh_type">int</span><span class="sh_symbol">(</span><span class="sh_number">11</span><span class="sh_symbol">)</span> <span class="sh_type">unsigned</span> <span class="sh_keyword">NOT</span> <span class="sh_keyword">NULL</span> <span class="sh_keyword">auto_increment</span><span class="sh_symbol">,</span>
  <span class="sh_string">`surname`</span> <span class="sh_type">varchar</span><span class="sh_symbol">(</span><span class="sh_number">40</span><span class="sh_symbol">)</span> <span class="sh_keyword">NOT</span> <span class="sh_keyword">NULL</span> <span class="sh_keyword">default</span> <span class="sh_string">''</span><span class="sh_symbol">,</span>
  <span class="sh_string">`name`</span> <span class="sh_type">varchar</span><span class="sh_symbol">(</span><span class="sh_number">40</span><span class="sh_symbol">)</span> <span class="sh_keyword">NOT</span> <span class="sh_keyword">NULL</span> <span class="sh_keyword">default</span> <span class="sh_string">''</span><span class="sh_symbol">,</span>
  <span class="sh_keyword">PRIMARY</span> <span class="sh_keyword">KEY</span>  <span class="sh_symbol">(</span><span class="sh_string">`idauthor`</span><span class="sh_symbol">),</span>
  <span class="sh_keyword">key</span> <span class="sh_string">`surname`</span> <span class="sh_symbol">(</span><span class="sh_string">`surname`</span><span class="sh_symbol">)</span>
<span class="sh_symbol">)</span> <span class="sh_keyword">TYPE</span><span class="sh_symbol">=</span>InnoDB <span class="sh_keyword">AUTO_INCREMENT</span><span class="sh_symbol">=</span><span class="sh_number">13</span> <span class="sh_symbol">;</span>

<span class="sh_comment">/* a C like comment */</span></pre>
</td>
<td><pre class="sh_sql"># Table structure for table `authors`
#

-- just to test sql highlighting

DROP TABLE IF EXISTS `authors`;
CREATE TABLE `authors` (
  `idauthor` int(11) unsigned NOT NULL auto_increment,
  `surname` varchar(40) NOT NULL default '',
  `name` varchar(40) NOT NULL default '',
  PRIMARY KEY  (`idauthor`),
  key `surname` (`surname`)
) TYPE=InnoDB AUTO_INCREMENT=13 ;

/* a C like comment */</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_comment">#!/bin/sh</span>
<span class="sh_comment"># Emacs like specification -*- Tcl script -*-</span>
<span class="sh_comment"># the next line restarts using wish \</span>
<span class="sh_keyword">exec</span> wish <span class="sh_string">"$0"</span> <span class="sh_string">"$@"</span>

<span class="sh_comment"># hello -- example</span>
<span class="sh_comment"># Simple Tk script to create a button that prints "Hello, world".</span>
<span class="sh_comment"># Click on the button to terminate the program.</span>
<span class="sh_comment">#</span>
<span class="sh_comment"># The first line below creates the button, and the second line</span>
<span class="sh_comment"># asks the packer to shrink-wrap the application's main window</span>
<span class="sh_comment"># around the button.</span>

button <span class="sh_symbol">.</span>hello <span class="sh_symbol">-</span>text <span class="sh_string">"Hello, world"</span> <span class="sh_symbol">-</span>command <span class="sh_cbracket">{</span>
    <span class="sh_keyword">puts</span> stdout <span class="sh_string">"Hello, world"</span><span class="sh_symbol">;</span> destroy <span class="sh_symbol">.</span>
<span class="sh_cbracket">}</span>
pack <span class="sh_symbol">.</span>hello

<span class="sh_variable">$myvar</span>

<span class="sh_comment"># Local Variables:</span>
<span class="sh_comment"># mode: tcl</span>
<span class="sh_comment"># End:</span>
</pre>
</td>
<td><pre class="sh_tcl">#!/bin/sh
# Emacs like specification -*- Tcl script -*-
# the next line restarts using wish \
exec wish "$0" "$@"

# hello -- example
# Simple Tk script to create a button that prints "Hello, world".
# Click on the button to terminate the program.
#
# The first line below creates the button, and the second line
# asks the packer to shrink-wrap the application's main window
# around the button.

button .hello -text "Hello, world" -command {
    puts stdout "Hello, world"; destroy .
}
pack .hello

$myvar

# Local Variables:
# mode: tcl
# End:
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_comment">% this is just to test latex highlighting</span>
<span class="sh_comment">% it will not compile with latex though :-)</span>

<span class="sh_keyword">\runningheads</span><span class="sh_argument">{L.~Bettini, S.~Capecchi and B.~Venneri}</span>
<span class="sh_argument">{Double Dispatch in \CC}</span>

This is an higlighted <span class="sh_keyword">\command</span>.

<span class="sh_keyword">\lstdefinelanguage</span><span class="sh_argument">{xklaim}</span><span class="sh_comment">%</span>
  <span class="sh_argument">{morekeywords={if,else,then,endif,while,do,enddo,begin,end,rec,ref,declare,%</span>
<span class="sh_argument">      int,str,loc,process,bool,locname,ts,var,within,in,out,read,eval,newloc,%</span>
<span class="sh_argument">      go,true,false,not,and,or,nil,add,rm,newc,extern,%</span>
<span class="sh_argument">      inp,readp,forall,const,nodes,endnodes,on,print,logloc,phyloc,%</span>
<span class="sh_argument">      login,logout,accept,disconnected,accept,subscribe,unsubscribe,%</span>
<span class="sh_argument">      dirconnect,acceptconn,%</span>
<span class="sh_argument">      register,unregister,nodecoord,port,start,cons,%</span>
<span class="sh_argument">      return,new,object,class,mixin,def,redef,expect,next,this,red,exp,type},%</span>
<span class="sh_argument">    keywords=[2]{self},%</span>
<span class="sh_argument">    keywordstyle=[2]\ttfamily,%</span>
<span class="sh_argument">    alsoother=@,%</span>
<span class="sh_argument">    morecomment=[l]\#,%</span>
<span class="sh_argument">    sensitive=f,%</span>
<span class="sh_argument">    morestring=[b]"%</span>
<span class="sh_argument">   }</span><span class="sh_optionalargument">[keywords,strings]</span>

<span class="sh_keyword">\frame</span>{
<span class="sh_keyword">\frametitle</span><span class="sh_argument">{Tuples and Pattern Matching}</span>
  <span class="sh_keyword">\begin</span><span class="sh_argument">{itemize}</span>
  <span class="sh_keyword">\item</span> Tuples and Templates
    <span class="sh_math">\[</span>
    (<span class="sh_string">"foo"</span>, 10+5, !x)
    <span class="sh_math">\]</span>
    <span class="sh_keyword">\begin</span><span class="sh_argument">{itemize}</span>
    <span class="sh_keyword">\item</span> Formal Fields
    <span class="sh_keyword">\item</span> Actual Fields
    <span class="sh_keyword">\end</span><span class="sh_argument">{itemize}</span>
  <span class="sh_keyword">\item</span> Pattern Matching:
    <span class="sh_keyword">\begin</span><span class="sh_argument">{itemize}</span>
    <span class="sh_keyword">\item</span> Formal fields match any field of the same type
    <span class="sh_keyword">\item</span> Actual fields
      match if identical
    <span class="sh_keyword">\end</span><span class="sh_argument">{itemize}</span>
  <span class="sh_keyword">\end</span><span class="sh_argument">{itemize}</span>
<span class="sh_keyword">\vspace</span><span class="sh_argument">{0.4cm}</span>
<span class="sh_keyword">\begin</span><span class="sh_argument">{block}{}</span>
<span class="sh_keyword">\begin</span><span class="sh_argument">{center}</span>
<span class="sh_math">$("foo", 10+5, true)$</span> <span class="sh_keyword">\alert</span><span class="sh_argument">{matches}</span> <span class="sh_math">$(!s, 15, !b)$</span>
<span class="sh_keyword">\end</span><span class="sh_argument">{center}</span>
<span class="sh_keyword">\end</span><span class="sh_argument">{block}</span>
}

This is mathematic with <span class="sh_symbol">\$\$</span>:

<span class="sh_math">$$</span>
i = j
<span class="sh_math">$$</span>

the same but with <span class="sh_math">\[</span> <span class="sh_math">\]</span>:

<span class="sh_math">\[</span>
i = j
<span class="sh_math">\]</span>

<span class="sh_string">`Private, Protected and Virtual Methods'</span>).
This line's body shouldn't have the highlighted '.

These <span class="sh_symbol">\`</span>e <span class="sh_symbol">\'</span>e <span class="sh_symbol">\"</span>e are accents and not a string

L.<span class="sh_symbol">~</span>Bettini

<span class="sh_keyword">\paragraph</span><span class="sh_symbol">*</span><span class="sh_argument">{Typing rule for multi method invocation.}</span>
</pre>
</td>
<td><pre class="sh_latex">% this is just to test latex highlighting
% it will not compile with latex though :-)

\runningheads{L.~Bettini, S.~Capecchi and B.~Venneri}
{Double Dispatch in \CC}

This is an higlighted \command.

\lstdefinelanguage{xklaim}%
  {morekeywords={if,else,then,endif,while,do,enddo,begin,end,rec,ref,declare,%
      int,str,loc,process,bool,locname,ts,var,within,in,out,read,eval,newloc,%
      go,true,false,not,and,or,nil,add,rm,newc,extern,%
      inp,readp,forall,const,nodes,endnodes,on,print,logloc,phyloc,%
      login,logout,accept,disconnected,accept,subscribe,unsubscribe,%
      dirconnect,acceptconn,%
      register,unregister,nodecoord,port,start,cons,%
      return,new,object,class,mixin,def,redef,expect,next,this,red,exp,type},%
    keywords=[2]{self},%
    keywordstyle=[2]\ttfamily,%
    alsoother=@,%
    morecomment=[l]\#,%
    sensitive=f,%
    morestring=[b]"%
   }[keywords,strings]

\frame{
\frametitle{Tuples and Pattern Matching}
  \begin{itemize}
  \item Tuples and Templates
    \[
    ("foo", 10+5, !x)
    \]
    \begin{itemize}
    \item Formal Fields
    \item Actual Fields
    \end{itemize}
  \item Pattern Matching:
    \begin{itemize}
    \item Formal fields match any field of the same type
    \item Actual fields
      match if identical
    \end{itemize}
  \end{itemize}
\vspace{0.4cm}
\begin{block}{}
\begin{center}
$("foo", 10+5, true)$ \alert{matches} $(!s, 15, !b)$
\end{center}
\end{block}
}

This is mathematic with \$\$:

$$
i = j
$$

the same but with \[ \]:

\[
i = j
\]

`Private, Protected and Virtual Methods').
This line's body shouldn't have the highlighted '.

These \`e \'e \"e are accents and not a string

L.~Bettini

\paragraph*{Typing rule for multi method invocation.}
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_preproc">&lt;!DOCTYPE</span> <span class="sh_type">kpartgui</span> <span class="sh_type">SYSTEM</span> <span class="sh_string">"kpartgui.dtd"</span><span class="sh_preproc">&gt;</span>
<span class="sh_preproc">&lt;?xml</span> <span class="sh_type">version</span><span class="sh_symbol">=</span><span class="sh_string">"1.0"</span> <span class="sh_type">encoding</span><span class="sh_symbol">=</span><span class="sh_string">"UTF-8"</span><span class="sh_preproc">?&gt;</span>

<span class="sh_keyword">&lt;xs:schema</span> <span class="sh_type">targetNamespace</span><span class="sh_symbol">=</span><span class="sh_string">"http://www.cedar.ac.uk/hepml/hepdata/0.1/"</span>
           <span class="sh_type">xmlns</span><span class="sh_symbol">=</span><span class="sh_string">"http://www.cedar.ac.uk/hepml/hepdata/0.1/"</span>
           <span class="sh_type">xmlns:xs</span><span class="sh_symbol">=</span><span class="sh_string">"http://www.w3.org/2001/XMLSchema"</span>
           <span class="sh_type">elementFormDefault</span><span class="sh_symbol">=</span><span class="sh_string">"qualified"</span>
           <span class="sh_type">attributeFormDefault</span><span class="sh_symbol">=</span><span class="sh_string">"unqualified"</span><span class="sh_keyword">&gt;</span>

  <span class="sh_keyword">&lt;xs:simpleType</span> <span class="sh_type">name</span><span class="sh_symbol">=</span><span class="sh_string">"errSourceType"</span><span class="sh_keyword">&gt;</span>
    <span class="sh_keyword">&lt;xs:annotation&gt;</span>
      <span class="sh_keyword">&lt;xs:documentation&gt;</span>Possible error sources<span class="sh_keyword">&lt;/xs:documentation&gt;</span>
    <span class="sh_keyword">&lt;/xs:annotation&gt;</span>
    <span class="sh_keyword">&lt;xs:restriction</span> <span class="sh_type">base</span><span class="sh_symbol">=</span><span class="sh_string">"xs:string"</span><span class="sh_keyword">&gt;</span>
      <span class="sh_keyword">&lt;xs:enumeration</span> <span class="sh_type">value</span><span class="sh_symbol">=</span><span class="sh_string">"stat"</span><span class="sh_keyword">/&gt;</span>
      <span class="sh_keyword">&lt;xs:enumeration</span> <span class="sh_type">value</span><span class="sh_symbol">=</span><span class="sh_string">"sys"</span><span class="sh_keyword">/&gt;</span>

      <span class="sh_keyword">&lt;xs:enumeration</span> <span class="sh_type">value</span><span class="sh_symbol">=</span><span class="sh_string">"total"</span><span class="sh_keyword">/&gt;</span>
      <span class="sh_keyword">&lt;xs:enumeration</span> <span class="sh_type">value</span><span class="sh_symbol">=</span><span class="sh_string">"unknown"</span><span class="sh_keyword">/&gt;</span>
    <span class="sh_keyword">&lt;/xs:restriction&gt;</span>
  <span class="sh_keyword">&lt;/xs:simpleType&gt;</span>

<span class="sh_keyword">&lt;tomcat-user_lore&gt;</span>
 foo
<span class="sh_keyword">&lt;/tomcat-user_lore&gt;</span>

<span class="sh_keyword">&lt;tomcat-user_lore.bettini</span> <span class="sh_type">name</span><span class="sh_symbol">=</span><span class="sh_string">"lorenzo"</span><span class="sh_keyword">&gt;</span>
 bar
<span class="sh_keyword">&lt;/tomcat-user_lore.bettini&gt;</span></pre>
</td>
<td><pre class="sh_xml">&lt;!DOCTYPE kpartgui SYSTEM "kpartgui.dtd"&gt;
&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;xs:schema targetNamespace="http://www.cedar.ac.uk/hepml/hepdata/0.1/"
           xmlns="http://www.cedar.ac.uk/hepml/hepdata/0.1/"
           xmlns:xs="http://www.w3.org/2001/XMLSchema"
           elementFormDefault="qualified"
           attributeFormDefault="unqualified"&gt;

  &lt;xs:simpleType name="errSourceType"&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;Possible error sources&lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
    &lt;xs:restriction base="xs:string"&gt;
      &lt;xs:enumeration value="stat"/&gt;
      &lt;xs:enumeration value="sys"/&gt;

      &lt;xs:enumeration value="total"/&gt;
      &lt;xs:enumeration value="unknown"/&gt;
    &lt;/xs:restriction&gt;
  &lt;/xs:simpleType&gt;

&lt;tomcat-user_lore&gt;
 foo
&lt;/tomcat-user_lore&gt;

&lt;tomcat-user_lore.bettini name="lorenzo"&gt;
 bar
&lt;/tomcat-user_lore.bettini&gt;</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_comment"># xorg.conf (xorg X Window System server configuration file)</span>
<span class="sh_comment">#</span>
<span class="sh_comment"># This file was generated by dexconf, the Debian X Configuration tool, using</span>
<span class="sh_comment"># values from the debconf database.</span>
<span class="sh_comment">#</span>

<span class="sh_keyword">Section</span> <span class="sh_string">"Files"</span>
<span class="sh_keyword">EndSection</span>

<span class="sh_keyword">Section</span> <span class="sh_string">"InputDevice"</span>
	<span class="sh_type">Identifier</span>	<span class="sh_string">"Synaptics Touchpad"</span>
	<span class="sh_type">Driver</span>		<span class="sh_string">"synaptics"</span>
	<span class="sh_type">Option</span>		<span class="sh_string">"SendCoreEvents"</span>	<span class="sh_string">"true"</span>
	<span class="sh_type">Option</span>		<span class="sh_string">"Device"</span>		<span class="sh_string">"/dev/psaux"</span>
	<span class="sh_type">Option</span>		<span class="sh_string">"Protocol"</span>		<span class="sh_string">"auto-dev"</span>
	<span class="sh_type">Option</span> 		<span class="sh_string">"SHMConfig"</span> 		<span class="sh_string">"on"</span>
	<span class="sh_type">Option</span>		<span class="sh_string">"HorizEdgeScroll"</span>	<span class="sh_string">"0"</span>
        <span class="sh_type">Option</span>          <span class="sh_string">"MinSpeed"</span> <span class="sh_string">"0.5"</span>    <span class="sh_comment"># touchpad speed when moving slowly</span>
        <span class="sh_type">Option</span>          <span class="sh_string">"MaxSpeed"</span> <span class="sh_string">"2.0"</span>    <span class="sh_comment"># touchpad speed when moving fast</span>
        <span class="sh_type">Option</span>          <span class="sh_string">"AccelFactor"</span> <span class="sh_string">"0.10"</span>
        <span class="sh_type">Option</span>          <span class="sh_string">"CircularScrolling"</span> <span class="sh_string">"on"</span>
        <span class="sh_type">Option</span>          <span class="sh_string">"EdgeMotionMinSpeed"</span> <span class="sh_string">"0.5"</span>
<span class="sh_keyword">EndSection</span>

<span class="sh_keyword">Section</span> <span class="sh_string">"InputDevice"</span>
	<span class="sh_type">Driver</span>		<span class="sh_string">"wacom"</span>
	<span class="sh_type">Identifier</span>	<span class="sh_string">"stylus"</span>
	<span class="sh_type">Option</span>		<span class="sh_string">"Device"</span>	<span class="sh_string">"/dev/input/wacom"</span>
	<span class="sh_type">Option</span>		<span class="sh_string">"Type"</span>		<span class="sh_string">"stylus"</span>
	<span class="sh_type">Option</span>		<span class="sh_string">"ForceDevice"</span>	<span class="sh_string">"ISDV4"</span>		<span class="sh_comment"># Tablet PC ONLY</span>
<span class="sh_keyword">EndSection</span>

<span class="sh_keyword">Section</span> <span class="sh_string">"Device"</span>
	<span class="sh_type">Identifier</span>	<span class="sh_string">"Intel Corporation Mobile GM965/GL960 Integrated Graphics Controller"</span>
	<span class="sh_type">Driver</span>		<span class="sh_string">"intel"</span>
	<span class="sh_type">BusID</span>		<span class="sh_string">"PCI:0:2:0"</span>
<span class="sh_comment">#	Option 		"NoDRI"</span>
<span class="sh_keyword">EndSection</span>

<span class="sh_keyword">Section</span> <span class="sh_string">"Screen"</span>
	<span class="sh_type">Identifier</span>	<span class="sh_string">"Default Screen"</span>
	<span class="sh_type">Device</span>		<span class="sh_string">"Intel Corporation Mobile GM965/GL960 Integrated Graphics Controller"</span>
	<span class="sh_type">Monitor</span>		<span class="sh_string">"Generic Monitor"</span>
	<span class="sh_type">DefaultDepth</span>	<span class="sh_number">24</span>
	<span class="sh_keyword">SubSection</span> <span class="sh_string">"Display"</span>
		<span class="sh_type">Modes</span>		<span class="sh_string">"1440x900"</span>
	<span class="sh_keyword">EndSubSection</span>
<span class="sh_keyword">EndSection</span>

<span class="sh_keyword">Section</span> <span class="sh_string">"ServerLayout"</span>
	<span class="sh_type">Identifier</span>	<span class="sh_string">"Default Layout"</span>
	<span class="sh_type">Screen</span>		<span class="sh_string">"Default Screen"</span>
	<span class="sh_type">InputDevice</span>	<span class="sh_string">"Generic Keyboard"</span>
	<span class="sh_type">InputDevice</span>	<span class="sh_string">"Configured Mouse"</span>

<span class="sh_comment"># Uncomment if you have a wacom tablet</span>
<span class="sh_comment">#	InputDevice     "stylus"	"SendCoreEvents"</span>
<span class="sh_comment">#	InputDevice     "cursor"	"SendCoreEvents"</span>
<span class="sh_comment">#	InputDevice     "eraser"	"SendCoreEvents"</span>
	<span class="sh_type">InputDevice</span>	<span class="sh_string">"Synaptics Touchpad"</span>
<span class="sh_keyword">EndSection</span>
</pre>
</td>
<td><pre class="sh_xorg"># xorg.conf (xorg X Window System server configuration file)
#
# This file was generated by dexconf, the Debian X Configuration tool, using
# values from the debconf database.
#

Section "Files"
EndSection

Section "InputDevice"
	Identifier	"Synaptics Touchpad"
	Driver		"synaptics"
	Option		"SendCoreEvents"	"true"
	Option		"Device"		"/dev/psaux"
	Option		"Protocol"		"auto-dev"
	Option 		"SHMConfig" 		"on"
	Option		"HorizEdgeScroll"	"0"
        Option          "MinSpeed" "0.5"    # touchpad speed when moving slowly
        Option          "MaxSpeed" "2.0"    # touchpad speed when moving fast
        Option          "AccelFactor" "0.10"
        Option          "CircularScrolling" "on"
        Option          "EdgeMotionMinSpeed" "0.5"
EndSection

Section "InputDevice"
	Driver		"wacom"
	Identifier	"stylus"
	Option		"Device"	"/dev/input/wacom"
	Option		"Type"		"stylus"
	Option		"ForceDevice"	"ISDV4"		# Tablet PC ONLY
EndSection

Section "Device"
	Identifier	"Intel Corporation Mobile GM965/GL960 Integrated Graphics Controller"
	Driver		"intel"
	BusID		"PCI:0:2:0"
#	Option 		"NoDRI"
EndSection

Section "Screen"
	Identifier	"Default Screen"
	Device		"Intel Corporation Mobile GM965/GL960 Integrated Graphics Controller"
	Monitor		"Generic Monitor"
	DefaultDepth	24
	SubSection "Display"
		Modes		"1440x900"
	EndSubSection
EndSection

Section "ServerLayout"
	Identifier	"Default Layout"
	Screen		"Default Screen"
	InputDevice	"Generic Keyboard"
	InputDevice	"Configured Mouse"

# Uncomment if you have a wacom tablet
#	InputDevice     "stylus"	"SendCoreEvents"
#	InputDevice     "cursor"	"SendCoreEvents"
#	InputDevice     "eraser"	"SendCoreEvents"
	InputDevice	"Synaptics Touchpad"
EndSection
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_preproc">%{</span>
<span class="sh_comment">/*</span>
<span class="sh_comment"> * Copyright (C) 1999, 2000, 2001 Lorenzo Bettini </span><span class="sh_url">&lt;http://www.lorenzobettini.it&gt;</span>
<span class="sh_comment"> *</span>
<span class="sh_comment"> * This program is free software; you can redistribute it and/or modify</span>
<span class="sh_comment"> * it under the terms of the GNU General Public License as published by</span>
<span class="sh_comment"> * the Free Software Foundation; either version 2 of the License, or</span>
<span class="sh_comment"> * (at your option) any later version.</span>
<span class="sh_comment"> *</span>
<span class="sh_comment"> * This program is distributed in the hope that it will be useful,</span>
<span class="sh_comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="sh_comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="sh_comment"> * GNU General Public License for more details.</span>
<span class="sh_comment"> *</span>
<span class="sh_comment"> * You should have received a copy of the GNU General Public License</span>
<span class="sh_comment"> * along with this program; if not, write to the Free Software</span>
<span class="sh_comment"> * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.</span>
<span class="sh_comment"> *</span>
<span class="sh_comment"> */</span>

<span class="sh_preproc">#include</span> <span class="sh_string">&lt;stdio.h&gt;</span>
<span class="sh_preproc">#include</span> <span class="sh_string">&lt;stdlib.h&gt;</span>
<span class="sh_preproc">#include</span> <span class="sh_string">&lt;string.h&gt;</span>
<span class="sh_preproc">#include</span> <span class="sh_string">&lt;iostream&gt;</span>

<span class="sh_preproc">#include</span> <span class="sh_string">"my_sstream.h"</span>

<span class="sh_preproc">#include</span> <span class="sh_string">"tags.h"</span>
<span class="sh_preproc">#include</span> <span class="sh_string">"colors.h"</span>
<span class="sh_preproc">#include</span> <span class="sh_string">"keys.h"</span>
<span class="sh_preproc">#include</span> <span class="sh_string">"messages.h"</span>
<span class="sh_preproc">#include</span> <span class="sh_string">"parsetags.h"</span>
<span class="sh_preproc">#include</span> <span class="sh_string">"fileutil.h"</span>

<span class="sh_keyword">using</span> std<span class="sh_symbol">::</span>cerr<span class="sh_symbol">;</span>

<span class="sh_keyword">static</span> <span class="sh_type">int</span> <span class="sh_function">yyparse</span><span class="sh_symbol">()</span> <span class="sh_symbol">;</span>
<span class="sh_keyword">static</span> <span class="sh_type">void</span> <span class="sh_function">yyerror</span><span class="sh_symbol">(</span> <span class="sh_type">char</span> <span class="sh_symbol">*</span>s <span class="sh_symbol">)</span> <span class="sh_symbol">;</span>

<span class="sh_type">int</span> line <span class="sh_symbol">=</span> <span class="sh_number">1</span> <span class="sh_symbol">;</span>

<span class="sh_keyword">static</span> <span class="sh_type">void</span> <span class="sh_function">add_tag</span><span class="sh_symbol">(</span><span class="sh_usertype">Tags</span> <span class="sh_symbol">*</span>tags<span class="sh_symbol">,</span> <span class="sh_usertype">Tag</span> <span class="sh_symbol">*</span>t<span class="sh_symbol">);</span>

<span class="sh_keyword">extern</span> <span class="sh_type">int</span> <span class="sh_function">opsc_lex</span><span class="sh_symbol">()</span> <span class="sh_symbol">;</span>
<span class="sh_keyword">extern</span> <span class="sh_usertype">FILE</span> <span class="sh_symbol">*</span>opsc_in <span class="sh_symbol">;</span>

<span class="sh_preproc">%}</span>

%<span class="sh_preproc">union</span> {
  <span class="sh_preproc">int</span> tok <span class="sh_symbol">;</span> <span class="sh_symbol">/*</span> command <span class="sh_symbol">*/</span>
  <span class="sh_preproc">char</span> <span class="sh_symbol">*</span> string <span class="sh_symbol">;</span> <span class="sh_symbol">/*</span> string <span class="sh_symbol">:</span> id<span class="sh_symbol">,</span> <span class="sh_symbol">...</span> <span class="sh_symbol">*/</span>
  <span class="sh_preproc">int</span> flag <span class="sh_symbol">;</span>
  <span class="sh_preproc">Tag</span> <span class="sh_symbol">*</span>tag <span class="sh_symbol">;</span>
  <span class="sh_preproc">Tags</span> <span class="sh_symbol">*</span>tags <span class="sh_symbol">;</span>
} ;

%<span class="sh_preproc">token</span> <span class="sh_symbol">&lt;</span>flag<span class="sh_symbol">&gt;</span> BOLD ITALICS UNDERLINE
%<span class="sh_preproc">token</span> <span class="sh_symbol">&lt;</span>string<span class="sh_symbol">&gt;</span> KEY COLOR

%<span class="sh_preproc">type</span> <span class="sh_symbol">&lt;</span>tag<span class="sh_symbol">&gt;</span> option
%<span class="sh_preproc">type</span> <span class="sh_symbol">&lt;</span>tags<span class="sh_symbol">&gt;</span> options
%<span class="sh_preproc">type</span> <span class="sh_symbol">&lt;</span>flag<span class="sh_symbol">&gt;</span> values value

<span class="sh_preproc">%%</span>

globaltags <span class="sh_symbol">:</span> options <span class="sh_cbracket">{</span> <span class="sh_function">setTags</span><span class="sh_symbol">(</span> <span class="sh_variable">$1</span> <span class="sh_symbol">)</span> <span class="sh_symbol">;</span> <span class="sh_cbracket">}</span>
<span class="sh_symbol">;</span>

options <span class="sh_symbol">:</span> options option <span class="sh_cbracket">{</span> <span class="sh_function">add_tag</span><span class="sh_symbol">(</span> <span class="sh_variable">$1</span><span class="sh_symbol">,</span> <span class="sh_variable">$2</span> <span class="sh_symbol">)</span> <span class="sh_symbol">;</span> <span class="sh_cbracket">}</span>
        <span class="sh_symbol">|</span> option <span class="sh_cbracket">{</span> <span class="sh_variable">$$</span> <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">Tags</span><span class="sh_symbol">()</span> <span class="sh_symbol">;</span> <span class="sh_variable">$$</span><span class="sh_symbol">-&gt;</span><span class="sh_function">AddTag</span><span class="sh_symbol">(</span> <span class="sh_variable">$1</span> <span class="sh_symbol">)</span> <span class="sh_symbol">;</span>  <span class="sh_cbracket">}</span>
        <span class="sh_symbol">;</span>

option <span class="sh_symbol">:</span> KEY COLOR
             <span class="sh_cbracket">{</span>
                 <span class="sh_function">printMessage</span><span class="sh_symbol">(</span> <span class="sh_variable">$1</span> <span class="sh_symbol">)</span> <span class="sh_symbol">;</span>
                 <span class="sh_function">printMessage</span><span class="sh_symbol">(</span> <span class="sh_variable">$2</span> <span class="sh_symbol">)</span> <span class="sh_symbol">;</span>
             <span class="sh_cbracket">}</span>
         values '<span class="sh_symbol">;</span>'
             <span class="sh_cbracket">{</span>
	       <span class="sh_variable">$$</span> <span class="sh_symbol">=</span> <span class="sh_keyword">new</span> <span class="sh_function">Tag</span><span class="sh_symbol">(</span> <span class="sh_variable">$1</span><span class="sh_symbol">,</span> <span class="sh_variable">$2</span> <span class="sh_symbol">)</span> <span class="sh_symbol">;</span>
               <span class="sh_variable">$$</span><span class="sh_symbol">-&gt;</span><span class="sh_function">SetFlags</span><span class="sh_symbol">(</span><span class="sh_variable">$4</span><span class="sh_symbol">)</span> <span class="sh_symbol">;</span>
	     <span class="sh_cbracket">}</span>
       <span class="sh_symbol">;</span>

values <span class="sh_symbol">:</span> values '<span class="sh_symbol">,</span>' value <span class="sh_cbracket">{</span> <span class="sh_variable">$$</span> <span class="sh_symbol">=</span> <span class="sh_variable">$1</span> <span class="sh_symbol">|</span> <span class="sh_variable">$3</span> <span class="sh_symbol">;</span> <span class="sh_cbracket">}</span>
       <span class="sh_symbol">|</span> value
       <span class="sh_symbol">;</span>

value <span class="sh_symbol">:</span> <span class="sh_cbracket">{</span> <span class="sh_variable">$$</span> <span class="sh_symbol">=</span> <span class="sh_number">0</span> <span class="sh_symbol">;</span> <span class="sh_function">printMessage</span><span class="sh_symbol">(</span> <span class="sh_string">" (no options) "</span> <span class="sh_symbol">)</span> <span class="sh_symbol">;</span> <span class="sh_cbracket">}</span>
      <span class="sh_symbol">|</span> BOLD <span class="sh_cbracket">{</span> <span class="sh_function">printMessage</span><span class="sh_symbol">(</span> <span class="sh_string">" - bold"</span> <span class="sh_symbol">)</span> <span class="sh_symbol">;</span> <span class="sh_variable">$$</span> <span class="sh_symbol">=</span> ISBOLD <span class="sh_symbol">;</span> <span class="sh_cbracket">}</span>
      <span class="sh_symbol">|</span> ITALICS <span class="sh_cbracket">{</span> <span class="sh_function">printMessage</span><span class="sh_symbol">(</span> <span class="sh_string">" - italics"</span> <span class="sh_symbol">)</span> <span class="sh_symbol">;</span> <span class="sh_variable">$$</span> <span class="sh_symbol">=</span> ISITALIC <span class="sh_symbol">;</span> <span class="sh_cbracket">}</span>
      <span class="sh_symbol">|</span> UNDERLINE <span class="sh_cbracket">{</span> <span class="sh_function">printMessage</span><span class="sh_symbol">(</span> <span class="sh_string">" - underline"</span> <span class="sh_symbol">)</span> <span class="sh_symbol">;</span> <span class="sh_variable">$$</span> <span class="sh_symbol">=</span> ISUNDERLINE <span class="sh_symbol">;</span> <span class="sh_cbracket">}</span>
      <span class="sh_symbol">;</span>

<span class="sh_preproc">%%</span>

<span class="sh_type">char</span> <span class="sh_symbol">*</span>current_file <span class="sh_symbol">=</span> <span class="sh_number">0</span><span class="sh_symbol">;</span>

<span class="sh_type">void</span>
<span class="sh_function">parseTags</span><span class="sh_symbol">(</span><span class="sh_keyword">const</span> <span class="sh_usertype">string</span> <span class="sh_symbol">&amp;</span>path<span class="sh_symbol">,</span> <span class="sh_keyword">const</span> <span class="sh_usertype">string</span> <span class="sh_symbol">&amp;</span>name<span class="sh_symbol">)</span>
<span class="sh_cbracket">{</span>
  <span class="sh_comment">// opens the file for yylex</span>
  opsc_in <span class="sh_symbol">=</span> <span class="sh_function">open_data_file_stream</span><span class="sh_symbol">(</span>path<span class="sh_symbol">,</span> name<span class="sh_symbol">);</span>

  <span class="sh_function">printMessage_noln</span><span class="sh_symbol">(</span> <span class="sh_string">"Parsing "</span><span class="sh_symbol">,</span> cerr <span class="sh_symbol">)</span> <span class="sh_symbol">;</span>
  <span class="sh_function">printMessage_noln</span> <span class="sh_symbol">(</span>name<span class="sh_symbol">,</span> cerr<span class="sh_symbol">);</span>
  <span class="sh_function">printMessage</span><span class="sh_symbol">(</span> <span class="sh_string">" file ..."</span><span class="sh_symbol">,</span> cerr <span class="sh_symbol">)</span> <span class="sh_symbol">;</span>
  <span class="sh_function">yyparse</span><span class="sh_symbol">()</span> <span class="sh_symbol">;</span>
  <span class="sh_function">printMessage</span><span class="sh_symbol">(</span> <span class="sh_string">"Parsing done!"</span><span class="sh_symbol">,</span> cerr <span class="sh_symbol">)</span> <span class="sh_symbol">;</span>
<span class="sh_cbracket">}</span>

<span class="sh_type">void</span>
<span class="sh_function">yyerror</span><span class="sh_symbol">(</span> <span class="sh_type">char</span> <span class="sh_symbol">*</span>s <span class="sh_symbol">)</span>
<span class="sh_cbracket">{</span>
  <span class="sh_usertype">ostringstream</span> str <span class="sh_symbol">;</span>
  str <span class="sh_symbol">&lt;&lt;</span> current_file <span class="sh_symbol">&lt;&lt;</span> <span class="sh_string">":"</span> <span class="sh_symbol">&lt;&lt;</span> line <span class="sh_symbol">&lt;&lt;</span> <span class="sh_string">": "</span> <span class="sh_symbol">&lt;&lt;</span> s <span class="sh_symbol">&lt;&lt;</span> <span class="sh_string">", in option declaration"</span><span class="sh_symbol">;</span>
  <span class="sh_function">printError</span><span class="sh_symbol">(</span> str<span class="sh_symbol">.</span><span class="sh_function">str</span><span class="sh_symbol">().</span><span class="sh_function">c_str</span><span class="sh_symbol">(),</span> cerr <span class="sh_symbol">)</span> <span class="sh_symbol">;</span>
  <span class="sh_function">exit</span><span class="sh_symbol">(</span>EXIT_FAILURE<span class="sh_symbol">);</span>
<span class="sh_cbracket">}</span>

<span class="sh_type">void</span>
<span class="sh_function">add_tag</span><span class="sh_symbol">(</span><span class="sh_usertype">Tags</span> <span class="sh_symbol">*</span>tags<span class="sh_symbol">,</span> <span class="sh_usertype">Tag</span> <span class="sh_symbol">*</span>t<span class="sh_symbol">)</span>
<span class="sh_cbracket">{</span>
  <span class="sh_keyword">if</span> <span class="sh_symbol">(!</span> tags<span class="sh_symbol">-&gt;</span><span class="sh_function">AddTag</span><span class="sh_symbol">(</span>t<span class="sh_symbol">))</span>
  <span class="sh_cbracket">{</span>
    <span class="sh_function">yyerror</span><span class="sh_symbol">(</span><span class="sh_string">"already defined"</span><span class="sh_symbol">);</span>
  <span class="sh_cbracket">}</span>
<span class="sh_cbracket">}</span></pre>
</td>
<td><pre class="sh_bison">%{
/*
 * Copyright (C) 1999, 2000, 2001 Lorenzo Bettini &lt;http://www.lorenzobettini.it&gt;
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program; if not, write to the Free Software
 * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
 *
 */

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
#include &lt;iostream&gt;

#include "my_sstream.h"

#include "tags.h"
#include "colors.h"
#include "keys.h"
#include "messages.h"
#include "parsetags.h"
#include "fileutil.h"

using std::cerr;

static int yyparse() ;
static void yyerror( char *s ) ;

int line = 1 ;

static void add_tag(Tags *tags, Tag *t);

extern int opsc_lex() ;
extern FILE *opsc_in ;

%}

%union {
  int tok ; /* command */
  char * string ; /* string : id, ... */
  int flag ;
  Tag *tag ;
  Tags *tags ;
} ;

%token &lt;flag&gt; BOLD ITALICS UNDERLINE
%token &lt;string&gt; KEY COLOR

%type &lt;tag&gt; option
%type &lt;tags&gt; options
%type &lt;flag&gt; values value

%%

globaltags : options { setTags( $1 ) ; }
;

options : options option { add_tag( $1, $2 ) ; }
        | option { $$ = new Tags() ; $$-&gt;AddTag( $1 ) ;  }
        ;

option : KEY COLOR
             {
                 printMessage( $1 ) ;
                 printMessage( $2 ) ;
             }
         values ';'
             {
	       $$ = new Tag( $1, $2 ) ;
               $$-&gt;SetFlags($4) ;
	     }
       ;

values : values ',' value { $$ = $1 | $3 ; }
       | value
       ;

value : { $$ = 0 ; printMessage( " (no options) " ) ; }
      | BOLD { printMessage( " - bold" ) ; $$ = ISBOLD ; }
      | ITALICS { printMessage( " - italics" ) ; $$ = ISITALIC ; }
      | UNDERLINE { printMessage( " - underline" ) ; $$ = ISUNDERLINE ; }
      ;

%%

char *current_file = 0;

void
parseTags(const string &amp;path, const string &amp;name)
{
  // opens the file for yylex
  opsc_in = open_data_file_stream(path, name);

  printMessage_noln( "Parsing ", cerr ) ;
  printMessage_noln (name, cerr);
  printMessage( " file ...", cerr ) ;
  yyparse() ;
  printMessage( "Parsing done!", cerr ) ;
}

void
yyerror( char *s )
{
  ostringstream str ;
  str &lt;&lt; current_file &lt;&lt; ":" &lt;&lt; line &lt;&lt; ": " &lt;&lt; s &lt;&lt; ", in option declaration";
  printError( str.str().c_str(), cerr ) ;
  exit(EXIT_FAILURE);
}

void
add_tag(Tags *tags, Tag *t)
{
  if (! tags-&gt;AddTag(t))
  {
    yyerror("already defined");
  }
}</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode">diff -rc2P source-highlight-2.1.1/source-highlight.spec source-highlight-2.1.2/source-highlight.spec
<span class="sh_oldfile">*** source-highlight-2.1.1/source-highlight.spec	2005-08-03 14:54:18.000000000 +0200</span>
<span class="sh_newfile">--- source-highlight-2.1.2/source-highlight.spec	2005-08-25 16:11:37.000000000 +0200</span>
<span class="sh_oldfile">***************</span>
<span class="sh_oldfile">*** 7,12 ****</span>
  Summary:   syntax highlighting for source documents
  Name:      source-highlight
<span class="sh_oldfile">! Version:   2.1.1</span>
<span class="sh_oldfile">! Release:   2.1.1</span>
  License:   GPL
  Group:     Utilities/Console
<span class="sh_newfile">--- 7,12 ----</span>
  Summary:   syntax highlighting for source documents
  Name:      source-highlight
<span class="sh_newfile">! Version:   2.1.2</span>
<span class="sh_newfile">! Release:   2.1.2</span>
  License:   GPL
  Group:     Utilities/Console
diff -rc2P source-highlight-2.1.1/src/latex.outlang source-highlight-2.1.2/src/latex.outlang
<span class="sh_oldfile">*** source-highlight-2.1.1/src/latex.outlang	2005-07-12 22:21:46.000000000 +0200</span>
<span class="sh_newfile">--- source-highlight-2.1.2/src/latex.outlang	2005-08-25 16:15:53.000000000 +0200</span>
<span class="sh_oldfile">***************</span>
<span class="sh_oldfile">*** 35,37 ****</span>
<span class="sh_newfile">--- 35,38 ----</span>
  "--" "-\\/-"
  "---" "-\\/-\\/-"
<span class="sh_newfile">+ "\"" "\"{}" # avoids problems with some inputenc</span>
  end
<span class="sh_newfile">\ No newline at end of file</span>
diff -rc2P source-highlight-2.1.1/src/lib/messages.cc source-highlight-2.1.2/src/lib/messages.cc
<span class="sh_oldfile">*** source-highlight-2.1.1/src/lib/messages.cc	2005-07-12 12:18:59.000000000 +0200</span>
<span class="sh_newfile">--- source-highlight-2.1.2/src/lib/messages.cc	2005-08-25 16:08:44.000000000 +0200</span>
<span class="sh_oldfile">***************</span>
<span class="sh_oldfile">*** 86,87 ****</span>
<span class="sh_newfile">--- 86,93 ----</span>
    exit(EXIT_FAILURE);
  }
<span class="sh_newfile">+ </span>
<span class="sh_newfile">+ void foundBug(const std::string &amp;error, const std::string &amp;file, int line)</span>
<span class="sh_newfile">+ {</span>
<span class="sh_newfile">+   cerr &lt;&lt; PACKAGE &lt;&lt; ": " &lt;&lt; error &lt;&lt; ", " &lt;&lt; file &lt;&lt; ":" &lt;&lt; line &lt;&lt; endl;</span>
<span class="sh_newfile">+   exit(EXIT_FAILURE);</span>
<span class="sh_newfile">+ }</span>
</pre>
</td>
<td><pre class="sh_diff">diff -rc2P source-highlight-2.1.1/source-highlight.spec source-highlight-2.1.2/source-highlight.spec
*** source-highlight-2.1.1/source-highlight.spec	2005-08-03 14:54:18.000000000 +0200
--- source-highlight-2.1.2/source-highlight.spec	2005-08-25 16:11:37.000000000 +0200
***************
*** 7,12 ****
  Summary:   syntax highlighting for source documents
  Name:      source-highlight
! Version:   2.1.1
! Release:   2.1.1
  License:   GPL
  Group:     Utilities/Console
--- 7,12 ----
  Summary:   syntax highlighting for source documents
  Name:      source-highlight
! Version:   2.1.2
! Release:   2.1.2
  License:   GPL
  Group:     Utilities/Console
diff -rc2P source-highlight-2.1.1/src/latex.outlang source-highlight-2.1.2/src/latex.outlang
*** source-highlight-2.1.1/src/latex.outlang	2005-07-12 22:21:46.000000000 +0200
--- source-highlight-2.1.2/src/latex.outlang	2005-08-25 16:15:53.000000000 +0200
***************
*** 35,37 ****
--- 35,38 ----
  "--" "-\\/-"
  "---" "-\\/-\\/-"
+ "\"" "\"{}" # avoids problems with some inputenc
  end
\ No newline at end of file
diff -rc2P source-highlight-2.1.1/src/lib/messages.cc source-highlight-2.1.2/src/lib/messages.cc
*** source-highlight-2.1.1/src/lib/messages.cc	2005-07-12 12:18:59.000000000 +0200
--- source-highlight-2.1.2/src/lib/messages.cc	2005-08-25 16:08:44.000000000 +0200
***************
*** 86,87 ****
--- 86,93 ----
    exit(EXIT_FAILURE);
  }
+ 
+ void foundBug(const std::string &amp;error, const std::string &amp;file, int line)
+ {
+   cerr &lt;&lt; PACKAGE &lt;&lt; ": " &lt;&lt; error &lt;&lt; ", " &lt;&lt; file &lt;&lt; ":" &lt;&lt; line &lt;&lt; endl;
+   exit(EXIT_FAILURE);
+ }
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode"><span class="sh_preproc">&lt;!DOCTYPE</span> <span class="sh_type">HTML</span> <span class="sh_type">PUBLIC</span> <span class="sh_string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span><span class="sh_preproc">&gt;</span>
<span class="sh_keyword">&lt;html&gt;</span>
  <span class="sh_keyword">&lt;head&gt;</span>
    <span class="sh_keyword">&lt;title&gt;</span>Another test for html formatting<span class="sh_keyword">&lt;/title&gt;</span>
  <span class="sh_keyword">&lt;/head&gt;</span>

  <span class="sh_keyword">&lt;body&gt;</span>
    <span class="sh_keyword">&lt;h1&gt;</span>Another test for html formatting<span class="sh_keyword">&lt;/h1&gt;</span>

    foo and foobar

    <span class="sh_keyword">&lt;hr&gt;</span>
    <span class="sh_keyword">&lt;address&gt;&lt;a</span> <span class="sh_type">href</span><span class="sh_symbol">=</span><span class="sh_string">"mailto:bettini@lorelap"</span><span class="sh_keyword">&gt;</span>Lorenzo Bettini<span class="sh_keyword">&lt;/a&gt;&lt;/address&gt;</span>
<span class="sh_comment">&lt;!-- Created: Sun May 21 15:42:54 CEST 2006 --&gt;</span>
<span class="sh_comment">&lt;!-- hhmts start --&gt;</span>
Last modified: Sun May 21 15:43:39 CEST 2006
<span class="sh_comment">&lt;!-- hhmts end --&gt;</span>
  <span class="sh_keyword">&lt;/body&gt;</span>
<span class="sh_keyword">&lt;/html&gt;</span>
</pre>
</td>
<td><pre class="sh_html">&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Another test for html formatting&lt;/title&gt;
  &lt;/head&gt;

  &lt;body&gt;
    &lt;h1&gt;Another test for html formatting&lt;/h1&gt;

    foo and foobar

    &lt;hr&gt;
    &lt;address&gt;&lt;a href="mailto:bettini@lorelap"&gt;Lorenzo Bettini&lt;/a&gt;&lt;/address&gt;
&lt;!-- Created: Sun May 21 15:42:54 CEST 2006 --&gt;
&lt;!-- hhmts start --&gt;
Last modified: Sun May 21 15:43:39 CEST 2006
&lt;!-- hhmts end --&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre></td>
</tr>
<tr>
<td><!-- Generator: GNU source-highlight 2.11
by Lorenzo Bettini
http://www.lorenzobettini.it
http://www.gnu.org/software/src-highlite -->
<pre class="sh_sourceCode">diff -rP source-highlight-2.1.1/source-highlight.spec source-highlight-2.1.2/source-highlight.spec
<span class="sh_difflines">9,10c9,10</span>
<span class="sh_oldfile">&lt; Version:   2.1.1</span>
<span class="sh_oldfile">&lt; Release:   2.1.1</span>
---
<span class="sh_newfile">&gt; Version:   2.1.2</span>
<span class="sh_newfile">&gt; Release:   2.1.2</span>
diff -rP source-highlight-2.1.1/src/latex.outlang source-highlight-2.1.2/src/latex.outlang
<span class="sh_difflines">36a37</span>
<span class="sh_newfile">&gt; "\"" "\"{}" # avoids problems with some inputenc</span>
diff -rP source-highlight-2.1.1/src/lib/messages.cc source-highlight-2.1.2/src/lib/messages.cc
<span class="sh_difflines">87a88,93</span>
<span class="sh_newfile">&gt; </span>
<span class="sh_newfile">&gt; void foundBug(const std::string &amp;error, const std::string &amp;file, int line)</span>
<span class="sh_newfile">&gt; {</span>
<span class="sh_newfile">&gt;   cerr &lt;&lt; PACKAGE &lt;&lt; ": " &lt;&lt; error &lt;&lt; ", " &lt;&lt; file &lt;&lt; ":" &lt;&lt; line &lt;&lt; endl;</span>
<span class="sh_newfile">&gt;   exit(EXIT_FAILURE);</span>
<span class="sh_newfile">&gt; }</span>
</pre>
</td>
<td><pre class="sh_diff">diff -rP source-highlight-2.1.1/source-highlight.spec source-highlight-2.1.2/source-highlight.spec
9,10c9,10
&lt; Version:   2.1.1
&lt; Release:   2.1.1
---
&gt; Version:   2.1.2
&gt; Release:   2.1.2
diff -rP source-highlight-2.1.1/src/latex.outlang source-highlight-2.1.2/src/latex.outlang
36a37
&gt; "\"" "\"{}" # avoids problems with some inputenc
diff -rP source-highlight-2.1.1/src/lib/messages.cc source-highlight-2.1.2/src/lib/messages.cc
87a88,93
&gt; 
&gt; void foundBug(const std::string &amp;error, const std::string &amp;file, int line)
&gt; {
&gt;   cerr &lt;&lt; PACKAGE &lt;&lt; ": " &lt;&lt; error &lt;&lt; ", " &lt;&lt; file &lt;&lt; ":" &lt;&lt; line &lt;&lt; endl;
&gt;   exit(EXIT_FAILURE);
&gt; }
</pre></td>
</tr>
</table>
</body>
</html>
